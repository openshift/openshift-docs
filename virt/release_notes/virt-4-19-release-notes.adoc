:_mod-docs-content-type: ASSEMBLY
[id="virt-4-19-release-notes"]
= {VirtProductName} release notes
include::_attributes/common-attributes.adoc[]
:context: virt-4-19-release-notes

toc::[]

[id="virt-doc-feedback_{context}"]
== Providing documentation feedback

To report an error or to improve our documentation, log in to your link:https://issues.redhat.com[Red Hat Jira account] and submit a link:https://issues.redhat.com/secure/CreateIssueDetails!init.jspa?pid=12323181&issuetype=1&components=12333768&priority=10200&summary=%5BDoc%5D&customfield_12316142[Jira issue].

[id="virt-about-virt_{context}"]
== About Red Hat {VirtProductName}

With Red Hat {VirtProductName}, you can bring traditional virtual machines (VMs) into {product-title} and run them alongside containers. In {VirtProductName}, VMs are native Kubernetes objects that you can manage by using the {product-title} web console or the command line.

{VirtProductName} is represented by the image:virt-icon.png[{VirtProductName},40,40] icon.

You can use {VirtProductName} the xref:../../networking/ovn_kubernetes_network_provider/about-ovn-kubernetes.adoc#about-ovn-kubernetes[OVN-Kubernetes] Container Network Interface (CNI) network provider.

Learn more about xref:../../virt/about_virt/about-virt.adoc#about-virt[what you can do with {VirtProductName}].

Learn more about xref:../../virt/about_virt/virt-architecture.adoc#virt-architecture[{VirtProductName} architecture and deployments].

xref:../../virt/install/preparing-cluster-for-virt.adoc#preparing-cluster-for-virt[Prepare your cluster] for {VirtProductName}.

include::modules/virt-supported-cluster-version.adoc[leveloffset=+2]


[id="virt-guest-os_{context}"]
=== Supported guest operating systems
To view the supported guest operating systems for {VirtProductName}, see link:https://access.redhat.com/articles/973163#ocpvirt[Certified Guest Operating Systems in Red Hat OpenStack Platform, Red Hat Virtualization, OpenShift Virtualization and Red Hat Enterprise Linux with KVM].

//Ensure platform passes Windows Server Virtualization Validation Program. Otherwise, comment out the section below.
[id="virt-svvp-certification_{context}"]
=== Microsoft Windows SVVP certification

//CNV-47134 SVVP 4.18 Release Note: New
//NOTE: This is a recurring release note. Modify the existing note text below if recommended by QE.
{VirtProductName} is certified in Microsoft's Windows Server Virtualization Validation Program (SVVP) to run Windows Server workloads.

The SVVP certification applies to:

* Red Hat Enterprise Linux CoreOS workers. In the Microsoft SVVP Catalog, they are named __Red Hat OpenShift Container Platform 4 on RHEL CoreOS 9__.
* Intel and AMD CPUs.

[id="virt-quick-starts_{context}"]
== Quick starts

Quick start tours are available for several {VirtProductName} features. To view the tours, click the *Help* icon *?* in the menu bar on the header of the {product-title} web console and then select *Quick Starts*. You can filter the available tours by entering the keyword `virtualization` in the *Filter* field.


[id="virt-4-19-new_{context}"]
== New and changed features

This release adds new features and enhancements related to the following components and concepts:

[id="virt-4-19-installation-update_{context}"]
=== Installation and update
//[id="virt-4-19-installation-update"]
//=== Installation and update

[id="virt-4-19-infrastructure_{context}"]
=== Infrastructure
//[id="virt-4-19-infrastructure"]
//=== Infrastructure

//CNV-49593
* You can now prevent the inadvertent deletion of a virtual machine (VM) by xref:../../virt/managing_vms/virt-enabling-disabling-vm-delete-protection.adoc#virt-enabling-disabling-vm-delete-protection[enabling delete protection for the VM]. You can also disable delete protection that has been set for a VM.
+
As a cluster administrator, you can prevent users from enabling VM delete protection xref:../../virt/managing_vms/virt-enabling-disabling-vm-delete-protection.adoc#virt-removing-vm-delete-protection_virt-enabling-disabling-vm-delete-protection[by removing the option at the cluster level].

[id="virt-4-19-virtualization_{context}"]
=== Virtualization

//CNV-54747
* You can now choose to expand virtual machines (VMs) using instance types and preferences. For more information, see link:https://access.redhat.com/solutions/7107803[Using InstancetypeReferencePolicy to expand VirtualMachines] in the Red Hat Customer Portal.





[id="virt-4-19-networking_{context}"]
=== Networking

//CNV-30151 NNCP to enable LLDP
* You can now xref:../../networking/k8s_nmstate/k8s-nmstate-updating-node-network-config.adoc#virt-example-enabling-lldp-policy_k8s-nmstate-updating-node-network-config[configure a `NodeNetworkConfigurationPolicy` manifest] to enable the Link Layer Discovery Protocol (LLDP) listener for all ethernet ports in your {product-title} cluster.



[id="virt-4-19-storage_{context}"]
=== Storage

//CNV-55497 Doc: PVC source support for DataImportCron
* You can now use a PVC as the source of a custom `DataImportCron` in the `dataImportCronTemplates` section of the `HyperConverged` custom resource (CR). See xref:../../virt/storage/virt-automatic-bootsource-updates.adoc#virt-automatic-bootsource-updates[Managing automatic boot source updates] for more information.


[id="virt-4-19-web_{context}"]
=== Web console

// CNV-52871 - Doc: Multi IOthread with fast storage
* You can now xref:../../virt/managing_vms/virt-edit-vms.adoc#virt-configure-multiple-iothreads_virt-edit-vms[configure multiple IOThreads for virtual machines that use fast storage], such as SSD (solid-state drive) or NVMe (non-volatile memory express). This improves I/O performance by enabling multiple threads for disk access.


[id="virt-4-19-monitoring_{context}"]
=== Monitoring

//CNV-59720
* The following xref:../../virt/monitoring/virt-runbooks.adoc#virt-runbooks[alerts for the {CNVOperatorDisplayName}] are now included in the {product-title} runbooks:
** `HAControlPlaneDown`
** `HighCPUWorkload`
** `NodeNetworkInterfaceDown`


[id="virt-4-19-documentation_{context}"]
=== Documentation improvements


[id="virt-4-19-notable-technical-changes_{context}"]
=== Notable technical changes


[id="virt-4-19-deprecated-removed_{context}"]
== Deprecated and removed features
//NOTE: Comment out deprecated and removed features (and their IDs) if not used in a release

[id="virt-4-19-deprecated_{context}"]
=== Deprecated features
// NOTE: When uncommenting deprecated features list, change the Removed features header level below to ===

Deprecated features are included in the current release and supported. However, they will be removed in a future release and are not recommended for new deployments.

* The `OperatorConditionsUnhealthy` alert is deprecated. You can safely xref:../../observability/monitoring/managing-alerts/managing-alerts-as-an-administrator.adoc#silencing-alerts-adm_managing-alerts-as-an-administrator[silence] it.


[id="virt-4-19-removed_{context}"]
=== Removed features

Removed features are no longer supported in {VirtProductName}.



[id="virt-4-19-technology-preview_{context}"]
== Technology Preview features

Some features in this release are currently in Technology Preview. These experimental features are not intended for production use. Note the following scope of support on the Red Hat Customer Portal for these features:

link:https://access.redhat.com/support/offerings/techpreview[Technology Preview Features Support Scope]

//CNV-52857 and CNV-56324
* You can now xref:../../virt/vm_networking/virt-setting-interface-link-state.adoc#virt-setting-interface-link-state[manage the link state] of a primary or secondary virtual machine (VM) interface by using the {product-title} web console or the CLI.

//CNV-58005
* {VirtProductName} is now supported on link:https://learn.microsoft.com/en-us/azure/azure-boost/overview[Azure Boost].

// CNV-58423
* The `DevKubeVirtRelieveAndMigrate` descheduler profile is xref:../../virt/managing_vms/advanced_vm_management/virt-enabling-descheduler-evictions.adoc#nodes-descheduler-profiles_virt-enabling-descheduler-evictions[now available]. This profile enhances the `LongLifecycle` profile by supporting load-aware descheduling, dynamic soft taints, and improved workload rebalancing.

//CNV-62829
* You can now deploy {VirtProductName} on IPv6 single-stack clusters. Support for IPv6 single-stack is limited to the OVN-Kubernetes localnet and Linux bridge Container Network Interface (CNI) plugins.

[id="virt-4-19-bug-fixes_{context}"]
== Bug fixes


[id="virt-4-19-known-issues_{context}"]
== Known issues

[discrete]
[id="virt-4-19-ki-monitoring_{context}"]
=== Monitoring

[discrete]
[id="virt-4-19-ki-networking_{context}"]
=== Networking
//CNV-38746
* When you update from {product-title} 4.12 to a newer minor version, VMs that use the `cnv-bridge` Container Network Interface (CNI) fail to live migrate. (link:https://access.redhat.com/solutions/7069807[])
** As a workaround, change the `spec.config.type` field in your `NetworkAttachmentDefinition` manifest from `cnv-bridge` to `bridge` before performing the update.



[discrete]
[id="virt-4-19-ki-nodes_{context}"]
==== Nodes
//CNV-38543 - 4.16 Still an issue
* Uninstalling {VirtProductName} does not remove the `feature.node.kubevirt.io` node labels created by {VirtProductName}. You must remove the labels manually. (link:https://issues.redhat.com/browse/CNV-38543[*CNV-38543*])

[discrete]
[id="virt-4-19-ki-storage_{context}"]
==== Storage
//CNV-23501: 4.16 - Keep per Dominik Holler
* If you clone more than 100 VMs using the `csi-clone` cloning strategy, the Ceph CSI might not purge the clones. Manually deleting the clones might also fail. (link:https://issues.redhat.com/browse/CNV-23501[*CNV-23501*])
** As a workaround, you can restart the `ceph-mgr` daemon to purge the VM clones.

// CNV-55104: 4.18 - Unresolved
* If you perform storage class migration for a stopped VM, the VM might not be able to start because of a missing bootable device. To prevent this, do not attempt storage class migration if the VM is not running. (link:https://issues.redhat.com/browse/CNV-55104[*CNV-55104*])
+
--
:FeatureName: Storage class migration
include::snippets/technology-preview.adoc[]
--

[discrete]
[id="virt-4-19-ki-virtualization_{context}"]
=== Virtualization

//CNV-48348
* When the mode of live migration is *PostCopy*, hot-plugging CPU or memory resource fails. (link:https://issues.redhat.com/browse/CNV-48348[*CNV-48348*])

//CNV-33835: 4.16 - Unresolved
* {VirtProductName} links a service account token in use by a pod to that specific pod. {VirtProductName} implements a service account volume by creating a disk image that contains a token. If you migrate a VM, then the service account volume becomes invalid. (link:https://issues.redhat.com/browse/CNV-33835[*CNV-33835*])
** As a workaround, use user accounts rather than service accounts because user account tokens are not bound to a specific pod.


[discrete]
[id="virt-4-19-ki-webconsole_{context}"]
=== Web console

[discrete]
[id="virt-4-19-ki-ibm-z_{context}"]
=== {ibm-z-title} and {ibm-linuxone-title}

--
:FeatureName: Using {VirtProductName} with s390x architecture
include::snippets/technology-preview.adoc[]
--

// ocpbugs-51113 - ballooning call traces
* When you create a VM by using {op-system-base-full} container disk images for s390x architecture, call traces referencing `virtio_balloon` print to the VM console. (link:https://issues.redhat.com/browse/OCPBUGS-51113[OCPBUGS-51113])
** As a workaround, add the following parameter to the VM YAML configuration: `spec.autoattachMemBalloon: false`.

// cnv-56889 - boot mode
* VMs based on s390x architecture can only use the *IPL* boot mode. However, in the {product-title} web console, the *Boot mode* list for s390x VMs incorrectly includes *BIOS*, *UEFI*, and *UEFI (secure)* boot modes. If you select one of these modes for an s390x-based VM, the operation fails. (link:https://issues.redhat.com/browse/CNV-56889[CNV-56889])

// cnv-56890 - threads
* In the {product-title} web console, it is erroneously possible to define multiple CPU threads for a VM based on s390x architecture. If you define multiple CPU threads, the VM enters a `CrashLoopBackOff` state with the `qemu-kvm: S390 does not support more than 1 threads` error. (link:https://issues.redhat.com/browse/CNV-56890[CNV-56890])
