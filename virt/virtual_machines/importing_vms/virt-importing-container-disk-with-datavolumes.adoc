[id="virt-importing-container-disk-with-datavolumes"]
= Importing container disks with DataVolumes
include::modules/virt-document-attributes.adoc[]
:context: virt-importing-container-disk-with-datavolumes
toc::[]

You can import a container disk from a container image registry into a DataVolume using the Container Data Importer (CDI). {VirtProductName} uses DataVolumes to automate the import of data and the creation of an underlying PersistentVolumeClaim (PVC).

The DataVolume can either be created separately and attached to a virtual machine, or you can include a `dataVolumeTemplate` in a virtual machine manifest so that the DataVolume is created with and attached to the virtual machine. 

== Prerequisites

* If the endpoint requires a TLS certificate, the certificate must be
xref:../../../virt/virtual_machines/importing_vms/virt-tls-certificates-for-dv-imports.adoc#virt-adding-tls-certificates-for-authenticating-dv-imports_virt-tls-certificates-for-dv-imports[included in a ConfigMap]
in the same namespace as the DataVolume and referenced in the DataVolume configuration.

* You may need to xref:../../../virt/virtual_machines/virtual_disks/virt-preparing-cdi-scratch-space.adoc#virt-defining-storageclass-in-cdi-configuration_virt-preparing-cdi-scratch-space[define a StorageClass or prepare CDI scratch space]
for this operation to complete successfully.

include::modules/virt-about-container-disks.adoc[leveloffset=+1]

include::modules/virt-preparing-container-disk-for-vms.adoc[leveloffset=+1]

include::modules/virt-cdi-supported-operations-matrix.adoc[leveloffset=+1]

include::modules/virt-importing-vm-datavolume.adoc[leveloffset=+1]

