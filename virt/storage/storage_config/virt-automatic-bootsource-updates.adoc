:_content-type: ASSEMBLY
[id="virt-automatic-bootsource-updates"]
= Managing automatic boot source updates
include::_attributes/common-attributes.adoc[]
:context: virt-automatic-bootsource-updates

toc::[]

You can manage automatic updates for system-defined or Red Hat provided boot sources and for custom boot sources.

Boot sources can make virtual machine (VM) creation more accessible and efficient for users. If automatic boot source updates are enabled, the Containerized Data Importer (CDI) imports, polls, and updates the images so that they are ready to be cloned for new VMs. By default, CDI automatically updates the _system-defined_ boot sources that {VirtProductName} provides.

[id="system-defined-boot-sources_virt-automatic-bootsource-updates"]
== System-defined boot sources

You can opt out of automatic updates for all system-defined boot sources by disabling the `enableCommonBootImageImport` feature gate. If you disable this feature gate, all `DataImportCron` objects are deleted. This does not remove previously imported `PersistentVolumeClaim` (PVC) objects that store operating system images, though administrators can delete them manually.

When the `enableCommonBootImageImport` feature gate is disabled, `DataSource` objects are reset so that they no longer point to the original PVCs. An administrator can manually provide a boot source by creating a new PVC for the `DataSource` object and populating the PVC with an operating system image.

include::modules/virt-managing-auto-update-all-system-boot-sources.adoc[leveloffset=+2]

[id="custom-boot-sources_virt-automatic-bootsource-updates"]
== Custom boot sources

_Custom_ boot sources that are not provided by {VirtProductName} are not controlled by the feature gate. You must manage them individually by editing the `HyperConverged` custom resource (CR).

[IMPORTANT]
====
You must configure a storage class. Otherwise, the cluster cannot receive automated updates for custom boot sources. See xref:../../../post_installation_configuration/storage-configuration.adoc#defining-storage-classes_post-install-storage-configuration[Defining a storage class] for details.
====

include::modules/virt-configuring-storage-class-bootsource-update.adoc[leveloffset=+2]

include::modules/virt-autoupdate-custom-bootsource.adoc[leveloffset=+2]

include::modules/virt-verify-status-bootsource-update.adoc[leveloffset=+1]