:_mod-docs-content-type: ASSEMBLY
[id="hcp-deploy-ibm-power"]
include::_attributes/common-attributes.adoc[]
= Deploying {hcp} on {ibm-power-title}
:context: hcp-deploy-ibm-power

toc::[]

You can deploy {hcp} by configuring a cluster to function as a hosting cluster. This configuration provides an efficient and scalable solution for managing many clusters. The hosting cluster is an {product-title} cluster that hosts control planes. The hosting cluster is also known as the _management_ cluster.

[NOTE]
====
The _management_ cluster is not the _managed_ cluster. A managed cluster is a cluster that the hub cluster manages.
====

The {mce-short} supports only the default `local-cluster`, which is a managed hub cluster, and the hub cluster as the hosting cluster.

To provision {hcp} on bare-metal infrastructure, you can use the Agent platform. The Agent platform uses the central infrastructure management service to add compute nodes to a hosted cluster. For more information, see "Enabling the central infrastructure management service".

You must start each {ibm-power-title} host with a Discovery image that the central infrastructure management provides. After each host starts, it runs an Agent process to discover the details of the host and completes the installation. An Agent custom resource represents each host.

When you create a hosted cluster with the Agent platform, HyperShift installs the Agent Cluster API provider in the hosted control plane namespace.

// Prerequisites to configure HCP on IBM Power
include::modules/hcp-ibm-power-prereqs.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* link:https://docs.redhat.com/en/documentation/red_hat_advanced_cluster_management_for_kubernetes/2.14/html/clusters/cluster_mce_overview#advanced-config-engine[Advanced configuration]
* link:https://docs.redhat.com/en/documentation/red_hat_advanced_cluster_management_for_kubernetes/2.14/html/clusters/cluster_mce_overview#enable-cim[Enabling the central infrastructure management service]
* xref:../../hosted_control_planes/hcp-prepare/hcp-cli.adoc#hcp-cli-terminal_hcp-cli[Installing the hosted control plane command-line interface]
* xref:../../hosted_control_planes/hcp-prepare/hcp-enable-disable.adoc#hcp-enable-manual_hcp-enable-disable[Manually enabling the {hcp} feature]
* xref:../../hosted_control_planes/hcp-prepare/hcp-enable-disable.adoc#hcp-disable_hcp-enable-disable[Disabling the {hcp} feature]

// IBM Power infrastructure requirements
include::modules/hcp-ibm-power-infra-reqs.adoc[leveloffset=+1]

// DNS configuration for {hcp} on {ibm-power-title}
include::modules/hcp-ibm-power-dns.adoc[leveloffset=+1]

// Defining a custom DNS name
include::modules/hcp-custom-dns.adoc[leveloffset=+2]

// Creating a hosted cluster by using the CLI
include::modules/hcp-bm-hc.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* xref:../../hosted_control_planes/hcp-prepare/hcp-requirements.adoc[Requirements for hosted control planes]
* xref:../../hosted_control_planes/hcp-deploy/hcp-deploy-bm.adoc#hcp-bm-dns_hcp-deploy-bm[DNS configurations on bare metal]
* xref:../../hosted_control_planes/hcp-import.adoc[Manually importing a hosted cluster]
* xref:../../hosted_control_planes/hcp-disconnected/hcp-deploy-dc-bm.adoc#hcp-dc-extract_hcp-deploy-dc-bm[Extracting the release image digest]

// About creating heterogeneous node pools on agent hosted clusters
include::modules/hcp-ibm-power-create-heterogeneous-nodepools-agent-hc-con.adoc[leveloffset=+1]

// Creating the AgentServiceConfig custom resource
include::modules/hcp-ibm-power-create-heterogeneous-nodepools-agent-hc.adoc[leveloffset=+2]

// Create an agent cluster
include::modules/hcp-ibm-power-heterogeneous-nodepools-create-agent-cluster.adoc[leveloffset=+2]

// Creating heterogeneous node pools
include::modules/hcp-create-heterogeneous-nodepools.adoc[leveloffset=+2]

// DNS configuration for hosted control planes
include::modules/hcp-ibm-power-heterogeneous-nodepools-agent-hc-dns.adoc[leveloffset=+2]

// Creating infrastructure environment resources
include::modules/hcp-create-infraenv.adoc[leveloffset=+2]

// Adding agents to the heterogeneous cluster
include::modules/hcp-adding-agents.adoc[leveloffset=+2]

// Scaling the node pool
include::modules/hcp-scale-the-nodepool.adoc[leveloffset=+2]
