:_content-type: ASSEMBLY
[id="install-secured-cluster-cloud-ocp"]
= Installing secured cluster resources from RHACS Cloud Service
include::modules/common-attributes.adoc[]
:context: install-secured-cluster-cloud-ocp

toc::[]

[role="_abstract"]
You can install {product-title-managed-short} on your secured clusters by using the the Operator or Helm charts. You can also use the `roxctl` CLI to install it, but do not use this method unless you have a specific installation need that requires using it.

.Prerequisites

* You have created your {osp} cluster and installed the Operator on it.
* In the ACS Console in {product-title-managed-short}, you have created and downloaded the init bundle.
* You applied the init bundle by using the `oc create` command.
* During installation, you noted the *Central API Endpoint*, including the address and the port number. You can view this information by choosing *Advanced Cluster Security* -> *ACS Instances* from the cloud console navigation menu, and then clicking the ACS instance you created.

[id="installing-sc-operator-cloud-ocp"]
== Installing {product-title-short} on secured clusters by using the Operator

include::modules/install-secured-cluster-operator.adoc[leveloffset=+2]

[id="installing-sc-helm-cloud-ocp"]
== Installing {product-title-managed-short} on secured clusters by using Helm charts

You can install {product-title-short} on secured clusters by using Helm charts with no customization, using the default values, or with customizations of configuration parameters.

First, ensure that you add the Helm chart repository.

include::modules/adding-helm-repository.adoc[leveloffset=+2]

[id="installing-sc-helm-default-cloud-ocp"]
=== Installing {product-title-managed-short} on secured clusters by using Helm charts without customizations

include::modules/acs-quick-install-secured-cluster-using-helm.adoc[leveloffset=+3]

[role="_additional-resources"]
.Additional resources
* xref:../../cloud_service/installing_cloud_ocp/init-bundle-cloud-ocp-generate.adoc#init-bundle-cloud-ocp-generate[Generating an init bundle for secured clusters]
* xref:../../cloud_service/installing_cloud_ocp/init-bundle-cloud-ocp-apply.adoc#init-bundle-cloud-ocp-apply[Applying an init bundle for secured clusters]

[id="configure-secured-cluster-services-helm-chart-customizations-cloud-ocp"]
=== Configuring the secured-cluster-services Helm chart with customizations

You can use Helm chart configuration parameters with the `helm install` and `helm upgrade` commands.
Specify these parameters by using the `--set` option or by creating YAML configuration files.

Create the following files for configuring the Helm chart for installing {product-title}:

* Public configuration file `values-public.yaml`: Use this file to save all non-sensitive configuration options.
* Private configuration file `values-private.yaml`: Use this file to save all sensitive configuration options. Ensure that you store this file securely.

[IMPORTANT]
====
When using the `secured-cluster-services` Helm chart, do not change the `values.yaml` file that is part of the chart.
====

include::modules/secured-cluster-services-config.adoc[leveloffset=+3]
include::modules/install-secured-cluster-services-helm-chart.adoc[leveloffset=+3]

[role="_additional-resources"]
.Additional resources
* xref:../../cloud_service/installing_cloud_ocp/init-bundle-cloud-ocp-generate.adoc#init-bundle-cloud-ocp-generate[Generating an init bundle for secured clusters]
* xref:../../cloud_service/installing_cloud_ocp/init-bundle-cloud-ocp-apply.adoc#init-bundle-cloud-ocp-apply[Applying an init bundle for secured clusters]

include::modules/change-config-options-after-deployment.adoc[leveloffset=+2]

[id="installing-sc-roxctl-cloud-ocp"]
== Installing {product-title-short} on secured clusters by using the roxctl CLI

To install {product-title-short} on secured clusters by using the CLI, perform the following steps:

. Install the `roxctl` CLI.
. Install Sensor.

[id="installing-roxctl-cli-sc-cloud-ocp"]
=== Installing the roxctl CLI

You must first download the binary. You can install `roxctl` on Linux, Windows, or macOS.

// Installing the CLI by downloading the binary
include::modules/install-roxctl-cli-linux.adoc[leveloffset=+3]
include::modules/install-roxctl-cli-macos.adoc[leveloffset=+3]
include::modules/install-roxctl-cli-windows.adoc[leveloffset=+3]
include::modules/install-sensor-roxctl.adoc[leveloffset=+2]

[id="next-steps_install-secured-cluster-cloud-ocp"]
== Next steps

*  xref:../installing_cloud_ocp/verify-installation-cloud-ocp.adoc#verify-installation-cloud-ocp[Verify installation] by ensuring that your secured clusters can communicate with the ACS instance.