:_content-type: ASSEMBLY
[id="microshift-4-12-release-notes"]
= {product-title} {product-version} release notes
include::_attributes/attributes-microshift.adoc[]
:context: release-notes

toc::[]

{product-title} provides developers and IT organizations with small-form-factor and edge computing, delivered as an application that customers can deploy on top of their managed {op-system-first} devices at the edge. Built on {op-system-first} and Kubernetes, {product-title} provides an efficient way to operate single-node clusters in low-resource edge environments.

{product-title} is designed to make control plane restarts economical and be lifecycle-managed as a single unit by the operating system. Updates, roll-backs, and configuration changes consist of simply staging another version in parallel and then - without relying on a network - flipping to and from that version and restarting.

[id="microshift-4-12-about-this-release"]
== About this release

{product-title} (link:https://access.redhat.com/errata/RHBA-2023:0452-03 rpm[RHSA-2023:0452-03]) is now available as a Developer Preview software. Features and known issues that pertain to {product-title} {product-version} are included in this topic. For more information about the support scope of Red Hat Developer Preview software, see link:https://access.redhat.com/support/offerings/devpreview/[Developer Preview Support Scope].

[IMPORTANT]
====
Red Hat does not provide or support an update or upgrade path from Developer Preview and Technology Preview versions to later versions of {product-title}. A new installation is necessary.
====

[id="microshift-known-issues"]
== Known issues
* There is an issue exporting services via the Route API when the host and routerCanonicalHostname do not include the sub domain name. To work around this problem, use the subdomain setting when creating a Route.
+
.Example
[source, terminal]
----
apiVersion: route.openshift.io/v1
kind: Route
metadata:
  name: route-1
spec:
  subdomain: svc-subdomain  ‚áê specify the subdomain
  port:
    targetPort: 8080
  to:
    kind: Service
    name: svc-1
----

* There is an issue resuming pods when a service is idled. The {product-title} software does not support automatically reactivating services, and manual re-scaling the replicas is required.

* It is possible to over-provision the storage system by creating persistent volumes (PVs) that do not actually fit on the disk when using the `spare-gb` configuration value in `lvmd.conf`. To protect capacity from being used by the `topoLVM` driver, use a new separate volume group (VG) that is not exposed to `topoLVM`.

* There is a known issue involving the `runc` CLI tool and `systemd`. `runc` is overly verbose about `mount ops`. These messages are innocuous and do not indicate a problem with the system's operation. This bug affects any Linux platform running a container runtime built on `runc`.
+
You can suppress all `runc` mount logs through `systemd`. Create the file `/etc/systemd/system/run-containerd-.mount.d/10-silence.conf`, or whatever prefix you need to silence, with:
+
[source, terminal]
----
[Mount] LogLevelMax=notice
----
+
And reload the daemon.

* There is an issue with the way {product-title}'s CNI driver manages the firewall rules. If the firewall settings are modified after {product-title} is started then {product-title} must be restarted. The recommended workaround is to configure firewall rules before starting {product-title}.

[id="microshift-4-12-asynchronous-errata-updates"]
== Asynchronous errata updates

Security, bug fix, and enhancement updates for {product-title} {product-version} are released as asynchronous errata through the Red Hat Network. All {product-title} {product-version} errata are https://access.redhat.com/downloads/content/290/[available on the Red Hat Customer Portal]. See the https://access.redhat.com/support/policy/updates/openshift[{product-title} Life Cycle] for more information about asynchronous errata.

Red Hat Customer Portal users can enable errata notifications in the account settings for Red Hat Subscription Management (RHSM). When errata notifications are enabled, users are notified through email whenever new errata relevant to their registered systems are released.

[NOTE]
====
Red Hat Customer Portal user accounts must have systems registered and consuming {product-title} entitlements for {product-title} errata notification emails to generate.
====

This section will continue to be updated over time to provide notes on enhancements and bug fixes for future asynchronous errata releases of {product-title} {product-version}. Versioned asynchronous releases, for example with the form {product-title} {product-version}.z, will be detailed in subsections. In addition, releases in which the errata text cannot fit in the space provided by the advisory will be detailed in subsections that follow.

[id="microshift-4-12-1-dp"]
=== RHSA-2023:0452-03 - {product-title} 4.12.1 release advisory

Issued: 2023-01-30

{product-title} release 4.12.1 is now available. The list of bug fixes that are included in the update is documented in the link:https://access.redhat.com/errata/RHBA-2023:0452-03[RHBA-2023:0452-03] advisory. The RPM packages that are included in the update are provided by the link:https://access.redhat.com/errata/RHSA-RHBA-2023:0452-03[RHBA-2023:0452-03] advisory.


//no images in microshift release; rpms only

//[id="microshift-4-12-1-bug-fixes"]
//==== Bug fixes

//sample bug-fix bullet
//* Previously, `cluster-image-registry-operator` would default to using persistent volume claim (PVC) when it failed to reach Swift. With this update, failure to connect to {rh-openstack-first} API or other incidental failures cause `cluster-image-registry-operator` to retry the probe. During the retry, the default to PVC only occurs if the {rh-openstack} catalog is correctly found, and it does not contain object storage; or alternatively, if {rh-openstack} catalog is there and the current user does not have permission to list containers. (link:https://issues.redhat.com/browse/OCPBUGS-5154[*OCPBUGS-5154*])

//[id="microshift-4-12-1-updating"]
//==== Updating

//To update an existing {product-title} installation to this latest release, see