// Auto-generated by scripts. Do not edit.
:_mod-docs-content-type: ASSEMBLY
[id="ImageService"]
= Image Service
:toc: macro
:toc-title:

toc::[]

:context: ImageService

[id="GenerateSBOM_ImageService"]
== GenerateSBOM

`POST /api/v1/images/sbom`

Generate an SPDX 2.3 SBOM from an image scan.

=== Description

=== Parameters

==== Body Parameter

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| body
|  xref:../CommonObjectReference/CommonObjectReference.adoc#ImageSBOMRequest_CommonObjectReference[ImageSBOMRequest]
| X
| 
| 

|===

=== Return Type

<<GenerateSBOM_ImageService,SBOM-SPDX23-Document>>

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  <<GenerateSBOM_ImageService,SBOM-SPDX23-Document>>

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="CountImages_ImageService"]
== CountImages

`GET /v1/imagescount`

CountImages returns a count of images that match the input query.

=== Description

=== Parameters

==== Query Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| query
|  
| -
| null
| 

| pagination.limit
|  
| -
| null
| 

| pagination.offset
|  
| -
| null
| 

| pagination.sortOption.field
|  
| -
| null
| 

| pagination.sortOption.reversed
|  
| -
| null
| 

| pagination.sortOption.aggregateBy.aggrFunc
|  
| -
| UNSET
| 

| pagination.sortOption.aggregateBy.distinct
|  
| -
| null
| 

|===

=== Return Type

xref:../CommonObjectReference/CommonObjectReference.adoc#V1CountImagesResponse_CommonObjectReference[V1CountImagesResponse]

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#V1CountImagesResponse_CommonObjectReference[V1CountImagesResponse]

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="DeleteImages_ImageService"]
== DeleteImages

`DELETE /v1/images`

DeleteImage removes the images based on a query

=== Description

=== Parameters

==== Query Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| query.query
|  
| -
| null
| 

| query.pagination.limit
|  
| -
| null
| 

| query.pagination.offset
|  
| -
| null
| 

| query.pagination.sortOption.field
|  
| -
| null
| 

| query.pagination.sortOption.reversed
|  
| -
| null
| 

| query.pagination.sortOption.aggregateBy.aggrFunc
|  
| -
| UNSET
| 

| query.pagination.sortOption.aggregateBy.distinct
|  
| -
| null
| 

| confirm
|  
| -
| null
| 

|===

=== Return Type

xref:../CommonObjectReference/CommonObjectReference.adoc#V1DeleteImagesResponse_CommonObjectReference[V1DeleteImagesResponse]

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#V1DeleteImagesResponse_CommonObjectReference[V1DeleteImagesResponse]

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="ExportImages_ImageService"]
== ExportImages

`GET /v1/export/images`

=== Description

=== Parameters

==== Query Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| timeout
|  
| -
| null
| 

| query
|  
| -
| null
| 

|===

=== Return Type

Stream result of v1ExportImageResponse.

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.(streaming responses)
|  Stream result of v1ExportImageResponse.

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="GetImage_ImageService"]
== GetImage

`GET /v1/images/{id}`

GetImage returns the image given its ID.

=== Description

=== Parameters

==== Path Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| id
|  
| X
| null
| 

|===

==== Query Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| includeSnoozed
|  
| -
| null
| 

| stripDescription
|  
| -
| null
| 

|===

=== Return Type

xref:../CommonObjectReference/CommonObjectReference.adoc#StorageImage_CommonObjectReference[StorageImage]

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#StorageImage_CommonObjectReference[StorageImage]

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="GetWatchedImages_ImageService"]
== GetWatchedImages

`GET /v1/watchedimages`

GetWatchedImages returns the list of image names that are currently being watched.

=== Description

=== Parameters

=== Return Type

xref:../CommonObjectReference/CommonObjectReference.adoc#V1GetWatchedImagesResponse_CommonObjectReference[V1GetWatchedImagesResponse]

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#V1GetWatchedImagesResponse_CommonObjectReference[V1GetWatchedImagesResponse]

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="InvalidateScanAndRegistryCaches_ImageService"]
== InvalidateScanAndRegistryCaches

`GET /v1/images/cache/invalidate`

InvalidateScanAndRegistryCaches removes the image metadata cache.

=== Description

=== Parameters

=== Return Type

`Object`

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  `Object`

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="ListImages_ImageService"]
== ListImages

`GET /v1/images`

ListImages returns all the images that match the input query.

=== Description

=== Parameters

==== Query Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| query
|  
| -
| null
| 

| pagination.limit
|  
| -
| null
| 

| pagination.offset
|  
| -
| null
| 

| pagination.sortOption.field
|  
| -
| null
| 

| pagination.sortOption.reversed
|  
| -
| null
| 

| pagination.sortOption.aggregateBy.aggrFunc
|  
| -
| UNSET
| 

| pagination.sortOption.aggregateBy.distinct
|  
| -
| null
| 

|===

=== Return Type

xref:../CommonObjectReference/CommonObjectReference.adoc#V1ListImagesResponse_CommonObjectReference[V1ListImagesResponse]

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#V1ListImagesResponse_CommonObjectReference[V1ListImagesResponse]

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="ScanImage_ImageService"]
== ScanImage

`POST /v1/images/scan`

ScanImage scans a single image and returns the result

=== Description

=== Parameters

==== Body Parameter

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| body
|  xref:../CommonObjectReference/CommonObjectReference.adoc#V1ScanImageRequest_CommonObjectReference[V1ScanImageRequest]
| X
| 
| 

|===

=== Return Type

xref:../CommonObjectReference/CommonObjectReference.adoc#StorageImage_CommonObjectReference[StorageImage]

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#StorageImage_CommonObjectReference[StorageImage]

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="UnwatchImage_ImageService"]
== UnwatchImage

`DELETE /v1/watchedimages`

UnwatchImage marks an image name to no longer be watched. It returns successfully if the image is no longer being watched after the call, irrespective of whether the image was already being watched.

=== Description

=== Parameters

==== Query Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| name
| The name of the image to unwatch. Should match the name of a previously watched image. 
| -
| null
| 

|===

=== Return Type

`Object`

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  `Object`

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="WatchImage_ImageService"]
== WatchImage

`POST /v1/watchedimages`

WatchImage marks an image name as to be watched.

=== Description

=== Parameters

==== Body Parameter

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| body
|  xref:../CommonObjectReference/CommonObjectReference.adoc#V1WatchImageRequest_CommonObjectReference[V1WatchImageRequest]
| X
| 
| 

|===

=== Return Type

xref:../CommonObjectReference/CommonObjectReference.adoc#V1WatchImageResponse_CommonObjectReference[V1WatchImageResponse]

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#V1WatchImageResponse_CommonObjectReference[V1WatchImageResponse]

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples
