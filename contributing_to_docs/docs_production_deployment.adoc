= Production Deployment of OpenShift Documentation
:id: contributing-to-docs-docs-production-deployment
:icons:
:toc: macro
:toc-title:
:toclevels: 2
:linkattrs:
:description: How to deploy the entire set of documentation

toc::[]

== Source-to-Image Pipeline

OpenShift documentation is built and deployed on an https://cloud.redhat.com/products/dedicated/[OpenShift Dedicated cluster] using a https://github.com/openshift/source-to-image[source-to-image] build pipeline.

The source-to-image builder image is built from a https://github.com/openshift-cs/docs-builder/[community project on GitHub] and published to https://quay.io/repository/openshift-cs/docs-builder.

== Documentation Deployment

Deploying OpenShift documentation is made simple with a https://github.com/openshift-cs/docs-builder/blob/main/template.yaml[pre-built OpenShift template YAML].

To deploy the OpenShift Container Platform (commercial) documentation, use the following command:

[source,terminal]
----
oc new-app https://raw.githubusercontent.com/openshift-cs/docs-builder/main/template.yaml \
    -p NAME=docs-openshift-com \
    -p PACKAGE=commercial \
    -p APPLICATION_DOMAIN=docs.openshift.com \
    -p BUILD_REPO=https://github.com/openshift/openshift-docs.git \
    -p BUILD_BRANCH=main
----

To deploy the OKD (community) documentation, use the following command:

[source,terminal]
----
oc new-app https://raw.githubusercontent.com/openshift-cs/docs-builder/main/template.yaml \
    -p NAME=docs-openshift-com \
    -p PACKAGE=community \
    -p APPLICATION_DOMAIN=docs.openshift.com \
    -p BUILD_REPO=https://github.com/openshift/openshift-docs.git \
    -p BUILD_BRANCH=main
----

== Deployment Customization

If you need to change the documentation source repository for development purposes, modify the `BUILD_REPO` parameter in the `oc new-app` command.

To change the builder image, provide the `BUILDER_IMAGE` parameter in the `oc new-app` command.
