[id="using-the-roxctl-cli"]
:_mod-docs-content-type: ASSEMBLY
= Using the roxctl CLI
include::modules/common-attributes.adoc[]
:context: using-roxctl-cli

toc::[]

include::modules/setting-up-environment-variables.adoc[leveloffset=+1]

[id="getting-authentication-information_{context}"]
== Getting authentication information

The following procedure describes how to use the `roxctl central whoami` command to retrieve information about your authentication status and user profile in Central. The example output illustrates the data you can expect to see, including user roles, access permissions, and various administrative functions. This step allows you to review your access and roles within Central.

.Procedure

* Run the following command to get information about your current authentication status and user information in Central:
+
[source,terminal,subs="+quotes"]
----
$ roxctl central whoami
----
+
.Example output
+
[source,terminal,subs="+quotes"]
----
UserID:
	    <redacted>
User name:
	    <redacted>
Roles:
 APIToken creator, Admin, Analyst, Continuous Integration, Network Graph Viewer, None, Sensor Creator, Vulnerability Management Approver, Vulnerability Management Requester, Vulnerability Manager, Vulnerability Report Creator
Access:
  rw Access
  rw Administration
  rw Alert
  rw CVE
  rw Cluster
  rw Compliance
  rw Deployment
  rw DeploymentExtension
  rw Detection
  rw Image
  rw Integration
  rw K8sRole
  rw K8sRoleBinding
  rw K8sSubject
  rw Namespace
  rw NetworkGraph
  rw NetworkPolicy
  rw Node
  rw Secret
  rw ServiceAccount
  rw VulnerabilityManagementApprovals
  rw VulnerabilityManagementRequests
  rw WatchedImage
  rw WorkflowAdministration
----
+
Review the output to ensure that the authentication and user details are as expected.

[id="authenticating-by-using-the-roxctl-cli_{context}"]
== Authenticating by using the roxctl CLI

For authentication, you can use an API token, your administrator password, or the `roxctl central login` command.

Follow these guidelines for the effective use of API tokens:

* Use an API token in a production environment with continuous integration (CI). Each token is assigned specific access permissions, providing control over the actions it can perform. In addition, API tokens do not require interactive processes, such as browser-based logins, making them ideal for automated processes. These tokens have a time-to-live (TTL) value of 1 year, providing a longer validity period for seamless integration and operational efficiency.

* Use your administrator password only for testing purposes. Do not use it in the production environment.

* Use the `roxctl central login` command only for interactive, local uses.

include::snippets/note-about-creating-tokens.adoc[]

[role="_additional-resources"]
.Additional resources
* link:https://github.com/stackrox/contributions/blob/main/guides/cloud-provider-integrations/azure-service-principal-m2m-auth.md[Using Azure Entra ID service principals for machine to machine auth with RHACS]
* xref:../configuration/configure-api-token.adoc[Configuring API tokens]
* xref:../operating/manage-user-access/configure-short-lived-access.adoc#configure-short-lived-access[Configuring short-lived access]

//Creating an API token
include::modules/create-api-token.adoc[leveloffset=+2]

//Exporting and saving the API token
include::modules/cli-authentication.adoc[leveloffset=+2]

//Using an authentication provider to authenticate with roxctl
include::modules/using-an-authentication-provider-to-authenticate-with-roxctl.adoc[leveloffset=+2]

//Configuring and using the roxctl CLI in {product-title-managed-short}
include::modules/configuring-and-using-the-roxctl-cli-in-rhacs-cloud-service.adoc[leveloffset=+1]