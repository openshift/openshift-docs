[id="configure-automatic-upgrades"]
= Configuring automatic upgrades for manifest-installed secured clusters
include::modules/common-attributes.adoc[]
:context: configure-automatic-upgrades

toc::[]

[role="_abstract"]
If you installed {product-title} by using the manifest installation method, also known as the _`roxctl` CLI method_ or the _legacy installation method_, you can automate the upgrade process for each secured cluster. You can also view the upgrade status from the {product-title-short} portal.

[NOTE]
====
Automatic upgrades are only available for {product-title-short} systems that were installed by using the manifest installation method. If you installed {product-title-short} by using the Operator, upgrades are controlled by using {olm-first}. If you installed {product-title-short} by using Helm charts, you must use Helm to upgrade.
====

Automatic upgrades make it easier to stay up-to-date by automating the manual task of upgrading each secured cluster. If you have automatic upgrades enabled, and the secured cluster is configured for receiving automated upgrades, the upgrader upgrades the entire secured cluster to the same version as Central.

The new *Clusters* view displays information about all your secured clusters, the Sensor version for every cluster, and upgrade status messages.
You can also use this view to selectively upgrade your secured clusters or change their configuration.

[NOTE]
====
* The automatic upgrade feature is enabled by default.
* If you are using a private image registry, you must first push the Sensor and Collector images to your private registry.
* The Sensor must run with the default RBAC permissions.
* Automatic upgrades do not preserve any patches that you have made to any {product-title-short} services running in your cluster.
However, it preserves all labels and annotations that you have added to any {product-title-short} object.
* By default, {product-title} creates a service account called `sensor-upgrader` in each secured cluster.
This account is highly privileged but is only used during upgrades.
If you remove this account, Sensor does not have enough permissions, and you must complete future upgrades manually.
====

include::modules/enable-automatic-upgrades.adoc[leveloffset=+1]

include::modules/disable-automatic-upgrades.adoc[leveloffset=+1]

include::modules/automatic-upgrade-status.adoc[leveloffset=+1]

include::modules/automatic-upgrade-failure.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* xref:../upgrading/upgrade-roxctl.adoc#troubleshooting-upgrader_upgrade-roxctl[Troubleshooting the cluster upgrader]

include::modules/manual-upgrade-secured-clusters.adoc[leveloffset=+1]
