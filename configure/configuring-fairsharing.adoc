:_mod-docs-content-type: ASSEMBLY
include::_attributes/common-attributes.adoc[]
[id="configuring-fairsharing"]
= Configuring fair sharing
:context: configuring-fairsharing

toc::[]

You can enable weighted access to _borrowable_ resources among different tenants in a cluster queue _cohort_ by configuring fair sharing.

include::snippets/snippet-borrowable-resources.adoc[]
include::snippets/snippet-cohort.adoc[]

When fair sharing is enabled, {product-title} determines whether pending workloads can preempt admitted workloads, by using cluster queue `weight` values and the preemption policies set by the `withinClusterQueue` and `reclaimWithinCohort` configurations.

After you configure fair sharing, you can assign a numeric share value to each cluster queue.

This share value to summarize the usage of borrowed resources in a ClusterQueue, in comparison to others in the same cohort.

The share value is weighted by the .spec.fairSharing.weight defined in a ClusterQueue.

During admission, Kueue prefers to admit Workloads from ClusterQueues that have the lowest share value first. During preemption, Kueue prefers to preempt Workloads from ClusterQueues that have the highest share value first.

[id="configuring-fairsharing-prereqs"]
== Prerequisites

* Ensure that classic preemption using the `borrowWithinCohort` configuration is not enabled.
