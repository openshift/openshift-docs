[id="installing-rhv-customizations"]
= Installing a cluster on {rh-virtualization} with customizations
include::modules/common-attributes.adoc[]
:context: installing-rhv-customizations

toc::[]

In {product-title} version {product-version}, you can customize and install a cluster on {rh-virtualization-first}.

To customize the cluster, you perform the following steps:

. Create an installation configuration file, the `install-config.yaml` file, by running the installation program and answering its prompts.
. Inspect and modify parameters in the `install-config.yaml` file.
. Make a working copy of the `install-config.yaml` file.
. Run the installation program with a copy of the `install-config.yaml` file.

When you complete these steps, the installation program uses the information saved in the `install-config.yaml` file to create the {product-title} cluster using “installer-provisioned infrastructure.”

This installation program is available for Linux and macOS only.

To learn more, see
xref:../../architecture/architecture-installation.adoc#architecture-installation[this overview of the installation and update processes].

NOTE: Replace all example values with real ones.

.Prerequisites

You have
xref:../../installing/installing_rhv/installing-rhv-preparing-to-install.adoc#installing-rhv-preparing-to-install[prepared the RHV environment and network].

.Procedure

include::modules/installing-rhv-create-install-config-file.adoc[leveloffset=+1]
include::modules/installing-rhv-responding-to-installation-program-prompts.adoc[leveloffset=+1]
include::modules/installing-rhv-inspect-and-modify-params-in-install-config.adoc[leveloffset=+1]
include::modules/installing-rhv-customizing-the-virtual-machine-template.adoc[leveloffset=+1]
// include::modules/installing-rhv-copying-install-config-and-creating-cluster.adoc[leveloffset=+1]
include::modules/installing-rhv-copying-install-config-and-creating-cluster.adoc[leveloffset=+1]


NOTE: At this point, the installation program begins creating the cluster.

include::modules/installing-rhv-accessing-the-ocp-web-console.adoc[leveloffset=+1]

NOTE: You have finished installing a custom {product-title} cluster on {rh-virtualization}.

include::modules/installing-rhv-post-installation-tasks.adoc[leveloffset=+1]

.Troubleshooting
If the installation fails, the installation program times out and displays an error message. To learn more, see
xref:../../installing/installing_rhv/installing-rhv-troubleshooting.adoc#installing-rhv-troubleshooting[Troubleshooting Installation Problems].
