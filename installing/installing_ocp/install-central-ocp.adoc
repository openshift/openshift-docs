:_mod-docs-content-type: ASSEMBLY
[id="install-central-ocp"]
= Installing Central services for RHACS on {osp}
include::modules/common-attributes.adoc[]
:context: install-central-ocp

toc::[]

[role="_abstract"]

Central is the resource that contains the {product-title-short} application management interface and services. It handles data persistence, API interactions, and {product-title-short} portal access. You can use the same Central instance to secure multiple {ocp} or Kubernetes clusters.

You can install Central on your {ocp} or Kubernetes cluster by using one of the following methods:

* Install using the Operator
* Install using Helm charts
* Install using the `roxctl` CLI (do not use this method unless you have a specific installation need that requires using it)

// Install using Operator

[id="install-central-using-operator"]
== Install Central using the Operator

include::modules/install-acs-operator.adoc[leveloffset=+2]

include::modules/install-central-operator.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

* xref:../../installing/acs-default-requirements.adoc#acs-default-requirements[Default resource requirements for {product-title}]
* xref:../../installing/acs-recommended-requirements.adoc#acs-recommended-requirements[Recommended resource requirements for {product-title}]
* xref:../../installing/installing_ocp/install-central-ocp.adoc#central-services-public-configuration-file_install-central-ocp[Public configuration file]

include::modules/provision-postgresql-database.adoc[leveloffset=+2]
include::modules/install-central-operator-external-db.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

* xref:../installing_ocp/install-central-config-options-ocp.adoc#install-central-config-options-ocp[Central configuration options]
* xref:https://www.postgresql.org/docs/13/libpq-connect.html#LIBPQ-CONNSTRING[PostgreSQL Connection String Docs]

include::modules/verify-central-install-operator.adoc[leveloffset=+2]


// Install using Helm

[id="install-using-helm"]

[id="install-using-helm-no-customizations-ocp"]
== Install Central using Helm charts

You can install Central using Helm charts without any customization, using the default values, or by using Helm charts with additional customizations of configuration parameters.

=== Install Central using Helm charts without customization

You can install {product-title-short} on your cluster without any customizations. You must add the Helm chart repository and install the `central-services` Helm chart to install the centralized components of Central and Scanner.

include::modules/adding-helm-repository.adoc[leveloffset=+3]
include::modules/acs-quick-install-using-helm.adoc[leveloffset=+3]
include::modules/automatically-generated-ca.adoc[leveloffset=+3]

[id="install-using-helm-customizations-ocp"]
=== Install Central using Helm charts with customizations

You can install {product-title-short} on your {osp} cluster with customizations by using Helm chart configuration parameters with the `helm install` and `helm upgrade` commands. You can specify these parameters by using the `--set` option or by creating YAML configuration files.

Create the following files for configuring the Helm chart for installing {product-title}:

* Public configuration file `values-public.yaml`: Use this file to save all non-sensitive configuration options.
* Private configuration file `values-private.yaml`: Use this file to save all sensitive configuration options. Ensure that you store this file securely.
* Configuration file `declarative-config-values.yaml`: Create this file if you are using declarative configuration to add the declarative configuration mounts to Central.

include::modules/central-services-private-config.adoc[leveloffset=+3]

include::modules/central-services-public-config.adoc[leveloffset=+3]

include::modules/declarative-configuration-values.adoc[leveloffset=+3]

include::modules/install-central-services-helm-chart.adoc[leveloffset=+3]

include::modules/change-config-options-after-deployment-central-service.adoc[leveloffset=+2]


// Install using roxctl

[id="install-using-roxctl-ocp"]
== Install Central using the roxctl CLI

[WARNING]
====
For production environments, Red{nbsp}Hat recommends using the Operator or Helm charts to install {product-title-short}. Do not use the `roxctl` install method unless you have a specific installation need that requires using this method.
====

[id="installing-roxctl-cli-ocp"]
=== Installing the roxctl CLI

To install {product-title} you must install the `roxctl` CLI by downloading the binary.
You can install `roxctl` on Linux, Windows, or macOS.

// Installing the CLI by downloading the binary
include::modules/install-roxctl-cli-linux.adoc[leveloffset=+3]
include::modules/install-roxctl-cli-macos.adoc[leveloffset=+3]
include::modules/install-roxctl-cli-windows.adoc[leveloffset=+3]

include::modules/using-the-interactive-installer.adoc[leveloffset=+2]

include::modules/install-central-roxctl.adoc[leveloffset=+2]
