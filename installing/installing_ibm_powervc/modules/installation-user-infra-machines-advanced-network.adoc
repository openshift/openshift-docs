// Module included in the following assemblies:
//
// * installing/installing_bare_metal/upi/installing-bare-metal.adoc
// * installing/installing_bare_metal/upi/installing-restricted-networks-bare-metal.adoc
// * installing/installing_bare_metal/upi/installing-bare-metal-network-customizations.adoc
// * installing/installing_with_agent_based_installer/installing-with-agent-based-installer.adoc

ifeval::["{context}" == "installing-restricted-networks-bare-metal"]
:restricted:
endif::[]

:_mod-docs-content-type: PROCEDURE
[id="installation-user-infra-machines-advanced_network_{context}"]
= Using advanced networking options for PXE and ISO installations

[role="_abstract"]
To configure connectivity in environments that do not support the default DHCP, apply advanced networking options such as static IP addresses. These configurations ensure {product-title} nodes can successfully gather configuration settings during PXE and ISO installations.

To set up static IP addresses or configure special settings, such as bonding, you can do one of the following:

* Pass special kernel parameters when you boot the live installer.

* Use a machine config to copy networking files to the installed system.

* Configure networking from a live installer shell prompt, then copy those settings to the installed system so that they take effect when the installed system first boots.

To configure a PXE or iPXE installation, use one of the following options:

* See the "coreos-installer and boot options for ISO and PXE installations" tables.

* Use a machine config to copy networking files to the installed system.

To configure an ISO installation, use the following procedure.

.Procedure

. Boot the ISO installer.

. From the live system shell prompt, configure networking for the live system by using available RHEL tools, such as `nmcli` or `nmtui`.

. Run the `coreos-installer` command to install the system, adding the `--copy-network` option to copy networking configuration. For example:
+
ifndef::restricted[]
[source,terminal]
----
$ sudo coreos-installer install --copy-network \
     --ignition-url=http://host/worker.ign /dev/disk/by-id/scsi-<serial_number>
----
endif::[]
ifdef::restricted[]
[source,terminal]
----
$ sudo coreos-installer install --copy-network \
--ignition-url=http://host/worker.ign \
--offline \
/dev/disk/by-id/scsi-<serial_number>
----
endif::[]
+
[IMPORTANT]
====
The `--copy-network` option only copies networking configuration found under `/etc/NetworkManager/system-connections`. In particular, it does not copy the system hostname.
====

. Reboot into the installed system.

ifeval::["{context}" == "installing-restricted-networks-bare-metal"]
:!restricted:
endif::[]
