// Module included in the following assemblies:
//
// * observability/otel/otel-collector/otel-collector-extensions.adoc

:_mod-docs-content-type: REFERENCE
[id="otel-extensions-healthcheck-extension_{context}"]
= Health Check Extension

[role="_abstract"]
The Health Check Extension provides an HTTP URL for checking the status of the OpenTelemetry Collector. You can use this extension as a liveness and readiness probe on OpenShift.

:FeatureName: The Health Check Extension
include::snippets/technology-preview.adoc[]

.OpenTelemetry Collector custom resource with the configured Health Check Extension
[source,yaml]
----
# ...
  config:
    extensions:
      health_check:
        endpoint: "0.0.0.0:13133" # <1>
        tls: # <2>
          ca_file: "/path/to/ca.crt"
          cert_file: "/path/to/cert.crt"
          key_file: "/path/to/key.key"
        path: "/health/status" # <3>
        check_collector_pipeline: # <4>
          enabled: true # <5>
          interval: "5m" # <6>
          exporter_failure_threshold: 5 # <7>

    receivers:
      otlp:
        protocols:
          http: {}

    exporters:
      debug: {}

    service:
      extensions: [health_check]
      pipelines:
        traces:
          receivers: [otlp]
          exporters: [debug]
# ...
----
<1> The target IP address for publishing the health check status. The default is `0.0.0.0:13133`.
<2> The TLS server-side configuration. Defines paths to TLS certificates. If omitted, the TLS is disabled.
<3> The path for the health check server. The default is `/`.
<4> Settings for the Collector pipeline health check.
<5> Enables the Collector pipeline health check. The default is `false`.
<6> The time interval for checking the number of failures. The default is `5m`.
<7> The threshold of multiple failures until which a container is still marked as healthy. The default is `5`.
