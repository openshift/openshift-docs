// Module included in the following assemblies:
//
// * openshift_images/configuring_samples_operator.adoc

:_mod-docs-content-type: REFERENCE
[id="samples-operator-restricted-nw-install-with-access_{context}"]
= Restricted network installation with initial network access

[role="_abstract"]
If a cluster that eventually runs on a restricted network is first installed while network access exists, the Cluster Samples Operator installs content from `registry.redhat.io`.

In this case, you can defer samples installation until you have decided which samples are needed by overriding the default configuration of `Managed` for a connected installation.

If you want the Cluster Samples Operator to bootstrap with the management state as `Removed` during an installation that has initial network access, override the Cluster Samples Operator default configuration by using the following instructions:

* link:https://docs.redhat.com/en/documentation/openshift_container_platform/latest/html/installation_configuration/installing-customizing[Customizing nodes]

To host samples in your restricted environment, use the following instructions:

* link:https://docs.redhat.com/en/documentation/openshift_container_platform/latest/html/images/samples-operator-alt-registry[Using the Cluster Samples Operator with an alternate registry]

You must also put the following additional YAML file in the `openshift` directory created by the `openshift-install create manifest` process:

.Example Cluster Samples Operator YAML file with `managementState: Removed`
[source,yaml]
----
apiVersion: samples.operator.openshift.io/v1
kind: Config
metadata:
  name: cluster
spec:
  architectures:
  - x86_64
  managementState: Removed
----
