:_newdoc-version: 2.18.5
:_template-generated: 2025-09-11
:_mod-docs-content-type: PROCEDURE

// Module included in the following assemblies:
//
// * virt/managing_vms/virtual_disks/virt-inserting-cd-roms-in-virtual-machines.adoc

[id="virt-inserting-a-cd-rom-in-a-vm-by-using-the-command-line_{context}"]
= Inserting a CD-ROM in a live VM by using the command line
 
[role="_abstract"]
To make data on a CD-ROM storage device available to a running virtual machine (VM), create a virtual CD-ROM drive in the VM and insert the CD-ROM into the drive as an ISO image.

Setting up a virtual CD-ROM drive requires rebooting the VM, but afterwards, you can insert and eject ISO images in the drive while the VM is running.
// See https://kubevirt.io/user-guide/storage/hotplug_volumes/#inject-cd-rom for upstream info

:FeatureName: Inserting and ejecting CD-ROMs in running VMs
include::snippets/technology-preview.adoc[]

.Prerequisites

include::snippets/virt-cdrom-feature-gate-requirements.adoc[]

* You have an ISO image of a CD-ROM available in the cluster.

.Procedure

. Run the following command to edit the configuration of the VM in which you want to insert the CD-ROM:
+
[source,terminal]
----
$ oc edit vm <vm-name> -n <namespace>
----
+
where:

* `<vm-name>` is the name of the VM
* `<namespace>` is the name of the project name space that contains the VM

. Add a `cdrom` disk to the `spec.template.spec.domains.devices.disks` section of the VM configuration. For example:
+
[source,yaml]
----
apiVersion: kubevirt.io/v1
kind: VirtualMachine
metadata:
  name: example-vm
spec:
  runStrategy: Always
  template:
    spec:
      domain:
        devices:
          disks:
          - cdrom:
              bus: sata
              name: cdrom
----

. If the VM is running, shut it down.

. Insert a CD-ROM volume in the `spec.template.spec.volumes` section of the VM configuration. For example:
+
[source,yaml]
----
apiVersion: kubevirt.io/v1
kind: VirtualMachine
metadata:
  name: example-vm
spec:
  template:
    spec:
      volumes:
      - dataVolume:
          name: cdrom-example
          hotpluggable: true
        name: cdrom
----
+
You can insert a CD-ROM this way while the VM is running, but the dataVolume must have the `hotpluggable: true` parameter set.

. Optional: In the guest operating system, verify that the CD-ROM has been detected.

. Optional: Eject the CD-ROM volume. To do so, remove the `cdrom` volume from the `spec.template.spec.volumes` section of the VM configuration. You can do this while the VM is running.