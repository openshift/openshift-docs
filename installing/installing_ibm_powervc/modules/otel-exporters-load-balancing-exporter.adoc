// Module included in the following assemblies:
//
// * observability/otel/otel-collector/otel-collector-exporters.adoc

:_mod-docs-content-type: REFERENCE
[id="otel-exporters-load-balancing-exporter_{context}"]
= Load Balancing Exporter

[role="_abstract"]
The Load Balancing Exporter consistently exports spans, metrics, and logs according to the `routing_key` configuration.

:FeatureName: The Load Balancing Exporter
include::snippets/technology-preview.adoc[leveloffset=+1]

.OpenTelemetry Collector custom resource with the enabled Load Balancing Exporter
[source,yaml]
----
# ...
  config:
    exporters:
      loadbalancing:
        routing_key: "service" # <1>
        protocol:
          otlp: # <2>
            timeout: 1s
        resolver: # <3>
          static: # <4>
            hostnames:
            - backend-1:4317
            - backend-2:4317
          dns: # <5>
            hostname: otelcol-headless.observability.svc.cluster.local
          k8s: # <6>
            service: lb-svc.kube-public
            ports:
              - 15317
              - 16317
# ...
----
<1> The `routing_key: service` exports spans for the same service name to the same Collector instance to provide accurate aggregation. The `routing_key: traceID` exports spans based on their `traceID`. The implicit default is `traceID` based routing.
<2> The OTLP is the only supported load balancing protocol. All options of the OTLP exporter are supported.
<3> You can configure only one resolver.
<4> The static resolver distributes the load across the listed endpoints.
<5> You can use the DNS resolver only with a Kubernetes headless service.
<6> The Kubernetes resolver is recommended.
