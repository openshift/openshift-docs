// Module included in the following assemblies:
//
// * security/cert_manager_operator/cert-manager-operator-integrating-istio.adoc

:_mod-docs-content-type: PROCEDURE
[id="cert-manager-istio-creating-issuer_{context}"]
= Creating a root CA issuer for the Istio-CSR agent

[role="_abstract"]
To enable certificate signing for the Istio-CSR agent, configure a root CA issuer using the {cert-manager-operator}. You can establish a trusted root by using the {cert-manager-operator} to ensure secure communication between workloads.

[NOTE]
====
Other supported issuers can be used, except for the ACME issuer, which is not supported. For more information, see "{cert-manager-operator} issuer providers".
====

.Procedure

. Create a YAML file that defines the `Issuer` and `Certificate` objects by using the following example configuration:
+
[source,yaml]
----
apiVersion: cert-manager.io/v1
kind: Issuer
metadata:
  name: selfsigned
  namespace: <istio_project_name>
spec:
  selfSigned: {}
---
apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: istio-ca
  namespace: <istio_project_name>
spec:
  isCA: true
  duration: 87600h # 10 years
  secretName: istio-ca
  commonName: istio-ca
  privateKey:
    algorithm: ECDSA
    size: 256
  subject:
    organizations:
      - cluster.local
      - cert-manager
  issuerRef:
    name: selfsigned
    kind: Issuer
    group: cert-manager.io
---
apiVersion: cert-manager.io/v1
kind: Issuer
metadata:
  name: istio-ca
  namespace: <istio_project_name>
spec:
  ca:
    secretName: istio-ca
----
+
where:
+
`Issuer`:: Specifies the `Issuer` or `ClusterIssuer`.
`<istio_project_name>`:: Specifies the name of the Istio project.

.Verification

* Verify that the Issuer is created and ready to use by running the following command:
+
[source,terminal]
----
$ oc get issuer istio-ca -n <istio_project_name>
----
+
.Example output
[source,terminal]
----
NAME       READY   AGE
istio-ca   True    3m
----
