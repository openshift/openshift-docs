[id="installing-aws-network-customizations"]
= Installing a cluster on AWS with network customizations
include::modules/common-attributes.adoc[]
:context: installing-aws-network-customizations

toc::[]

In {product-title} version {product-version}, you can install a cluster on
Amazon Web Services (AWS) with customized network configuration options.

.Prerequisites

* xref:../../installing/installing_aws/installing-aws-account.adoc[Configure an AWS account]
to host the cluster.

include::modules/installation-overview.adoc[leveloffset=+1]

include::modules/installation-clouds.adoc[leveloffset=+1]

include::modules/installation-provide-credentials.adoc[leveloffset=+1]

include::modules/installation-obtaining-installer.adoc[leveloffset=+1]

// This is where the customization must happen
// But it can be basic or advanced
include::modules/nw-modifying-network-config-startup.adoc[leveloffset=+1]

=== Network customization configuration parameters

You can modify your cluster network configuration parameters in the
`install-cluster.yaml` configuration file. The following table describes the
parameters.

[NOTE]
====
You cannot modify these parameters after installation.
====

.Required parameters
[cols=".^2,.^5,.^3a",options="header"]
|====
|Parameter|Description|Values

|`networking.clusterNetworks.cidr`
|A block of IP addresses from which pod IPs are allocated. {product-title} uses
the Classless Inter-Domain Routing (CIDR) standard to allocate IP addresses. The
'OpenShiftSDN' network plug-in supports multiple ClusterNetworks. The address
blocks for multiple ClusterNetworks must not overlap. Select address pools large
enough to fit your anticipated workload.
|`10.128.0.0/14`

|`networking.clusterNetworks.hostPrefix`
|The address size to assign to each individual node. When a new node is added to
the cluster, 2^(32-`hostPrefix`) addresses are allocated. For example, when
`hostPrefix` is set to `/23`, each node has 512 pod IP addresses.
|`23`

|`networking.machineCIDR`
|
|

|`networking.serviceNetwork`
|A block of IP addresses for services. `OpenShiftSDN`
allows only one serviceNetwork block.
|`172.30.0.0/16`

|`networking.networkType`
|The Network plugin to deploy. `OpenShiftSDN` is the only plugin
supported in {product-title} {product-version}.
|`OpenShiftSDN`

|====

// Advanced configuration
include::modules/nw-modifying-nwoperator-config-startup.adoc[leveloffset=+1]

include::modules/installation-launching-installer.adoc[leveloffset=+1]

include::modules/cli-install.adoc[leveloffset=+1]

include::modules/cli-logging-in-kubeadmin.adoc[leveloffset=+1]
