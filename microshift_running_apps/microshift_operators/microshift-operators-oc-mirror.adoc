:_mod-docs-content-type: ASSEMBLY
[id="microshift-operators-oc-mirror"]
= Creating custom Operator catalogs using the oc-mirror plugin
include::_attributes/attributes-microshift.adoc[]
:context: microshift-operators-oc-mirror

toc::[]

You can create custom catalogs with widely available Operators and mirror them by using the oc-mirror {oc-first} plugin.

include::modules/microshift-olm-rh-ops-mirror.adoc[leveloffset=+1]

include::modules/microshift-oc-mirror-about-con.adoc[leveloffset=+1]

include::modules/microshift-oc-mirror-connectivity.adoc[leveloffset=+2]

include::modules/microshift-oc-mirror-list-ops-catalogs.adoc[leveloffset=+1]

//First, make the image sets
include::modules/microshift-oc-mirror-creating-imageset-config.adoc[leveloffset=+1]

//OCP module, reference for valid imageset parameters for microshift; see conditionals
include::modules/oc-mirror-imageset-config-parameters-v2.adoc[leveloffset=+2]

//mirroring from mirror to mirror
include::modules/microshift-oc-mirror-to-mirror.adoc[leveloffset=+1]

//Convert the imageset file and add configuration to CRI-O
include::modules/microshift-oc-mirror-transform-imageset-to-crio.adoc[leveloffset=+1]

//Apply changes to cluster so it can use Operators
include::modules/microshift-oc-mirror-install-catalog-cluster.adoc[leveloffset=+1]

[id="Additional-resources_microshift-operators-oc-mirror_{context}"]
[role="_additional-resources"]
== Additional resources

* link:https://docs.redhat.com/en/documentation/openshift_container_platform/latest/html/disconnected_environments/mirroring-in-disconnected-environments#installation-oc-mirror-installing-plugin_about-installing-oc-mirror-v2[Installing the oc mirror plugin]
* link:https://docs.redhat.com/en/documentation/openshift_container_platform/latest/html/disconnected_environments/mirroring-in-disconnected-environments#oc-mirror-migration-v1-to-v2[Migrating from oc-mirror plugin v1 to v2]
* link:https://docs.redhat.com/en/documentation/openshift_container_platform/latest/html/disconnected_environments/mirroring-in-disconnected-environments#oc-mirror-custom-resources-v2_about-installing-oc-mirror-v2[About custom resources generated by oc-mirror plugin v2]
* link:https://docs.redhat.com/en/documentation/openshift_container_platform/latest/html/disconnected_environments/mirroring-in-disconnected-environments#oc-mirror-about-cache-and-workspace-dirs_about-installing-oc-mirror-v2[About the --cache-dir and --workspace flags]
* link:https://docs.redhat.com/en/documentation/openshift_container_platform/latest/html/operators/administrator-tasks#olm-restricted-networks[Using Operator Lifecycle Manager in disconnected environments]
* link:https://docs.redhat.com/en/documentation/openshift_container_platform/4.19/html/disconnected_environments/mirroring-in-disconnected-environments#oc-mirror-procedure-delete-v2_about-installing-oc-mirror-v2[Deleting images from a disconnected environment]

{microshift-short} links::
* xref:../../microshift_install_get_ready/microshift-deploy-with-mirror-registry.adoc#microshift-configuring-hosts-for-mirror_microshift-deployment-mirror[Configuring hosts for mirror registry access]
* xref:../../microshift_networking/microshift-disconnected-network-config.adoc#microshift-disconnected-network-config[Configuring network settings for fully disconnected hosts]
* xref:../../microshift_install_get_ready/microshift-deploy-with-mirror-registry.adoc#microshift-deploy-with-mirror-registry[Mirroring container images for disconnected installations]
* xref:../../microshift_install_rpm_ostree/microshift-embed-in-rpm-ostree-offline-use.adoc#microshift-embed-in-rpm-ostree-offline-use[Embedding in a {op-system-ostree} image for offline use]
