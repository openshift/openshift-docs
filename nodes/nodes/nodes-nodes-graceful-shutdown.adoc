:_content-type: ASSEMBLY
[id="nodes-nodes-graceful-shutdown"]

= Managing graceful node shutdown
include::_attributes/common-attributes.adoc[]
:context: nodes-nodes-graceful-shutdown

toc::[]

Graceful node shutdown enables kubelet to delay forcible eviction of pods in case of a node shutdown.
This is important for users who want to ensure that workloads that execute critical operations cannot be interrupted.
Instead, the operator can use graceful node shutdown to prevent damage from an unexpected reboot initiated by the MachineConfigOperator.

Graceful node shutdown gives admins the ability to specify a termination grace period.
The value chosen for termination grace period must be sufficient to give protected workloads time for the pod to shut down in an orderly manner.
You can also tag workloads to specify the order of shut down.

When you request deletion of a pod, the cluster records and tracks the intended grace period before the pod is cleared for forceful termination. With forceful shutdown tracking in place, the kubelet attempts graceful shutdown.

[NOTE]
====
Graceful node shutdown depends on systemd to take advantage of systemd inhibitor locks to delay the node shutdown.
====

// concept topic: how it works
include::modules/nodes-nodes-cluster-timeout-graceful-shutdown.adoc[leveloffset=+1]

// concept topic: introducing Graceful node shutdown
include::modules/nodes-nodes-grace-periods-graceful-shutdown.adoc[leveloffset=+1]

// procedure topic: configuring Graceful node shutdown
include::modules/nodes-nodes-configuring-graceful-shutdown.adoc[leveloffset=+1]

// procedure topic: checking Graceful node shutdown is on
include::modules/nodes-nodes-verifying-graceful-shutdown.adoc[leveloffset=+1]
