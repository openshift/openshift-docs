[#getting-started-with-kuadrant-single-cluster]
= Getting Started with {prodname} - single cluster
:prodname: Connectivity Link

This quick start explains how to set up {prodname} in a singe local kind cluster.


.Prerequisites

You have the following software deployed:

* https://docs.docker.com/engine/install/[Docker]
* https://kind.sigs.k8s.io/[kind]
* https://kubernetes.io/docs/tasks/tools/[kubectl]
* OpenSSL 3 or later
* AWS account with Route 53 enabled or GCP with Cloud DNS enabled
* https://github.com/chipmk/docker-mac-net-connect[Docker Mac Net Connect] (macOS users only)


.Procedure

. Set your environment variables as follows:
+
.General environment variables

|===
| Environment variable | Example value | Description

| `ISTIO_INSTALL_SAIL`
| `true`
| Whether to install Istio by using the Sail Operator, defaults to `false`.
|===
+
If you want to use the Kuadrant `DNSPolicy`, you must set up the following environment variables, depending on your DNS provider:
+
.AWS environment variables

|===
| Environment variable | Example value | Description

| `KUADRANT_ZONE_ROOT_DOMAIN`
| `jbloggs.hcpapps.net`
| Hostname for the root domain.

| `KUADRANT_AWS_DNS_PUBLIC_ZONE_ID`
| `Z01234567US0IQE3YLO00`
| AWS Route 53 Zone ID for specified `KUADRANT_ZONE_ROOT_DOMAIN`.

| `KUADRANT_AWS_ACCESS_KEY_ID`
| `AKIA1234567890000000`
| Access Key ID, for user with permissions to Route 53 in the account where root domain is created.

| `KUADRANT_AWS_SECRET_ACCESS_KEY`
| `Z01234567US0000000`
| Access Secret Access Key, for user with permissions to Route 53 in the account where root domain is created.

| `KUADRANT_AWS_REGION`
| `eu-west-1`
| AWS region.
|===
+
.GCP environment variables

|===
| Environment variable | Example Value | Description

| `GOOGLE`
| `{"client_id": "00000000-00000000000000.apps.googleusercontent.com","client_secret": "d-FL95Q00000000000000","refresh_token": "00000aaaaa00000000-AAAAAAAAAAAAKFGJFJDFKDK","type": "authorized_user"}`
| This is the JSON created from either the JSON credentials created by the Google Cloud CLI or a Service account.

| `PROJECT_ID`
| `my_project_id`
| ID to the google project.

| `ZONE_NAME`
| `jbloggs-google`
| Zone name.

| `ZONE_DNS_NAME`
| `jbloggs.google.hcpapps.net`
| DNS name.

| `LOG_LEVEL`
| `1`
| Log level for the controller.
|===
+
Alternatively, to set defaults, add the above environment variables to your `.zshrc` or `.bash_profile`.

. Set the release that you want to use as follows:
+
[,bash]
----
export KUADRANT_REF=v0.6.1
----

. Set up a kind cluster and install Kuadrant by using the following command:
+
[,bash]
----
curl "https://raw.githubusercontent.com/kuadrant/kuadrant-operator/${KUADRANT_REF}/hack/quickstart-setup.sh" | bash
----
+
This sets up a single kind cluster, install Istio and install Kuadrant. When this completes, you should be able to move on to using the various policy APIs offered by Kuadrant.
+
NOTE: To use the Sail Operator to install Istio, you must set the `ISTIO_INSTALL_SAIL=true` environment variable before executing the quick start.


.Next steps

The next step is to set up and use the policies provided by Kuadrant:

* https://docs.kuadrant.io/kuadrant-operator/doc/user-guides/secure-protect-connect/[Secure, protect and connect your Gateway]
