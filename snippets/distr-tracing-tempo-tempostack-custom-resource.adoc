// :_mod-docs-content-type: SNIPPET
// Text snippet included in the following modules:
//
// * modules/distr-tracing-tempo-install-tempostack-web-console.adoc
// * modules/distr-tracing-tempo-install-tempostack-cli.adoc

.Example of a `TempoStack` CR for AWS S3 and MinIO storage and tenants  `dev` and `prod`
[source,yaml]
----
apiVersion: tempo.grafana.com/v1alpha1
kind:  TempoStack
metadata:
  name: simplest
  namespace: <project_of_tempostack_instance>
spec:
  storage:
    secret:  # <1>
      name: <secret_name> # <2>
      type: <secret_provider> # <3>
  storageSize: <value>Gi # <4>
  resources:
    total:
      limits:
        memory: 2Gi
        cpu: 2000m
  tenants:
    mode: openshift # <5>
    authentication: # <6>
      - tenantName: dev # <7>
        tenantId: "1610b0c3-c509-4592-a256-a1871353dbfa" # <8>
      - tenantName: prod
        tenantId: "1610b0c3-c509-4592-a256-a1871353dbfb"
  template:
    gateway:
      enabled: true # <9>
    queryFrontend:
      jaegerQuery:
        enabled: true # <10>
----
<1> Secret you created in step 2 for the object storage that had been set up as one of the prerequisites.
<2> Value of the `name` in the `metadata` of the secret.
<3> Accepted values are `azure` for Azure Blob Storage; `gcs` for Google Cloud Storage; and `s3` for 
<4> Size of the persistent volume claim for the Tempo WAL. The default is `10Gi`.
Amazon S3, MinIO, or {odf-full}.
<5> Tenant mode must be set to `openshift`.
<6> The list of tenants.
<7> The tenant name. Must be provided in the `X-Scope-OrgId` header when ingesting the data.
<8> Defines a universally unique identifier of the tenant. Unlike the tenantName, which must be unique at a given time, the tenantId must be unique over the entire lifetime of the Tempo deployment. Tempo uses this ID to prefix objects in the object storage. This could be a UUID, or can match the tempoName
<9> Enables a gateway that performs authentication and authorization. The Jaeger UI is exposed at `http://<gateway-ingress>/api/traces/v1/<tenant-name>/search`.
<10> The stack deployed in this example is configured to receive Jaeger Thrift over HTTP and OpenTelemetry Protocol (OTLP), which permits visualizing the data with the Jaeger UI.
