:_mod-docs-content-type: ASSEMBLY
[id="backing-up-acs"]
= Backing up Red Hat Advanced Cluster Security for Kubernetes
include::modules/common-attributes.adoc[]
:context: backing-up-acs

toc::[]

[role="_abstract"]
You can perform data backups for {product-title} and use these for data restoration in case of an infrastructure disaster or corrupt data.

You can configure automatic backups for the Central database by integrating with xref:../integration/integrate-with-amazon-s3.adoc#perform-on-demand-backups-amazon-s3_integrate-with-amazon-s3[Amazon S3] or xref:../integration/integrate-with-google-cloud-storage.adoc#perform-on-demand-backups-google-cloud-storage_integrate-with-google-cloud-storage[Google Cloud Storage].
You can perform on-demand backups of the Central database by using the `roxctl` CLI.
You can also back up your Central deployment using {product-title-short} Operator or Helm Chart installation methods.

Depending on your requirements, you can create two types of backups:

. A backup of the Central database: It includes {product-title-short} configurations, resources, events, and certificates.
In an unforeseen incident, such as database failure or data corruption, you can use the backup to recover and restore the Central database to its earlier functional state.
Doing this ensures the availability and integrity of essential data, allowing you to continue normal operations without significant disruptions or loss of critical information.
. A backup of all custom deployment configurations: If you installed {product-title-short} by using Helm charts or the {product-title-short} Operator, you can back up settings, parameters, and customizations specific to your installation.
When the {product-title-short} installation gets accidentally deleted, or you need to migrate it to another cluster or namespace, having a backup of the deployment configurations enables a seamless recovery process.
In addition, by restoring the custom settings from the backup, you can efficiently reinstate your Central installation's unique requirements and configurations, ensuring consistent and exact deployment of the system.

Because backup files include secrets and certificates, you must securely store the backup files.

[id="backing-up-central-db-roxctl"]
== Backing up Central database by using the roxctl CLI
Backing up the Central database is critical to ensure data integrity and system reliability. Regular backups of the database, containing necessary configurations, resources, events, and certificates, protect against database failures, corruption, and accidental data loss.

You can use the `roxctl` CLI to take the backups by using the `backup` command. You require an API token or your administrator password to run this command.

[NOTE]
====
Red Hat supports backups for the Central database through integration with xref:../integration/integrate-with-amazon-s3.adoc#perform-on-demand-backups-amazon-s3_integrate-with-amazon-s3[Amazon S3] or xref:../integration/integrate-with-google-cloud-storage.adoc#perform-on-demand-backups-google-cloud-storage_integrate-with-google-cloud-storage[Google Cloud Storage].

Backing up to Amazon S3 API-compatible storage might work. However, Red Hat does not test and support Amazon S3 API-compatible storage for backing up {product-title-short}. For example, see link:https://access.redhat.com/solutions/7021082[{product-title-short} backup on MinIO].
====

include::modules/on-demand-backups-roxctl-api.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources
* xref:../operating/manage-user-access/manage-role-based-access-control-3630.adoc#rbac-system-roles-3630_manage-role-based-access-control[System roles]

include::modules/on-demand-backups-roxctl-admin-pass.adoc[leveloffset=+2]

[id="backing-up-central-deployment"]
== Backing up Central deployment
You can back up the deployment of a Central instance.
This can be useful if you want to migrate central to another namespace or cluster by using the same configuration values.

[NOTE]
====
Red{nbsp}Hat does not support backing up deployment configurations by using the `roxctl` CLI. You can use the `oc` or `kubectl` CLI to back up manifests related to your Central instance and restore the configuration.
====

include::modules/backup-deployment-config-operator.adoc[leveloffset=+2]

include::modules/backup-deployment-config-helm.adoc[leveloffset=+2]