[[admin-guide-manage-glusterfs-physical-devices]]
= Managing Gluster Physical Devices
{product-author}
{product-version}
:data-uri:
:icons:
:experimental:
:toc: macro
:toc-title:
:prewrap!:

toc::[]

== Overview
You can manage
xref:../architecture/additional_concepts/storage.adoc[gluster storage]
in your project using the
xref:../cli_reference/index.adoc#cli-reference-index[CLI].

When you perform glusterfs storage management operations, the CLI creates/deletes/modifies
xref:../architecture/additional_concepts/storage.adoc#persistent-volume-claims[persistent volume claim objects]
that are representations of volumes that can be used by pods. The persistent
volume claim ask for Kubernetes to provision a
xref:../architecture/additional_concepts/storage.adoc#persistent-volumes[persistent volume object]
in a storage backend.

[[storage-grow]]
== Increase available storage

[IMPORTANT]
====
Growing the size of physical disks in glusterfs will not increase the available
space.
====

To increase the available space:
* add a new block device in all 3 glusterfs servers
* add the new block device in **glusterfs_devices** var in inventory file
* run the installer


For example, supose you have this glusterfs section in inventory file:

----
[glusterfs]
openshift-gluster-1.example.com glusterfs_devices='[ "/dev/vdc" ]'
openshift-gluster-2.example.com glusterfs_devices='[ "/dev/vdc" ]'
openshift-gluster-3.example.com glusterfs_devices='[ "/dev/vdc" ]'
----

After adding a **/dev/vdd** block device to all 3 servers change this section to:
----
[glusterfs]
openshift-gluster-1.example.com glusterfs_devices='[ "/dev/vdc", "/dev/vdd" ]'
openshift-gluster-2.example.com glusterfs_devices='[ "/dev/vdc", "/dev/vdd" ]'
openshift-gluster-3.example.com glusterfs_devices='[ "/dev/vdc", "/dev/vdd" ]'
----

And run the glusterfs playbook:
----
ifdef::openshift-enterprise[]
# ansible-playbook [-i /path/to/file] \
    /usr/share/ansible/openshift-ansible/playbooks/byo/openshift-glusterfs/config.yml
endif::[]
ifdef::openshift-origin[]
# ansible-playbook [-i /path/to/file] \
    ~/openshift-ansible/playbooks/byo/openshift-glusterfs/config.yml
endif::[]
----
