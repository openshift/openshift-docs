== OpenShift v3.5 metrics recommendations

The OpenShift v3.4 metrics https://docs.openshift.org/latest/install_config/cluster_metrics.html[documentation]
presents results which have improved in OpenShift v3.5 metrics in the change
of the default value of `METRICS_RESOLUTION` parameter

The new default value for `METRICS_RESOLUTION` is 30 (seconds) and
that change was introduced in order to better match the cAdvisor housekeeping
interval of 30 seconds. More details can be found in https://bugzilla.redhat.com/show_bug.cgi?id=1421834[Bugzilla]

Increasing `METRICS_RESOLUTION` interval in OpenShift v3.5 helped to get better results in relation
how many pods is possible to monitor by one set of metrics pods. In OpenShift
v3.5 tests showed that OpenShift metrics collection was stable for test cases up to
25000 pods were monitored in OpenShift Container Platform Cluster.

General recommendations for OpenShift Metrics v3.5 can be summarized as:

- run metrics pods on dedicated OpenShift nodes
- use persistent storage when configuring metrics `USE_PERSISTENT_STORAGE=true`
- keep `METRICS_RESOLUTION=30` parameter in OpenShift metrics deployments. It is recommended not to use lower
value than default 30 for `METRICS_RESOLUTION`. When using the Ansible metrics
installation procedure, this is the `openshift_metrics_resolution` parameter.
- closely monitor OpenShift nodes with host metrics pods in order to detect early capacity
shortages (CPU/memory) on host system what can cause problems for metrics pods








