:_mod-docs-content-type: ASSEMBLY
include::_attributes/common-attributes.adoc[]
[id="managing-secrets-securely-using-sscsid-with-gitops"]
= Managing secrets securely using Secrets Store CSI driver with {gitops-shortname}
:context: managing-secrets-securely-using-sscsid-with-gitops

toc::[]

This guide walks you through the process of integrating the Secrets Store Container Storage Interface (SSCSI) driver with the {gitops-shortname} Operator in {OCP} 4.14 and later.

// Overview of managing secrets using Secrets Store CSI driver with GitOps
include::modules/gitops-managing-secrets-using-sscsid-with-gitops-overview.adoc[leveloffset=+1]

// Secrets store providers
include::modules/gitops-secrets-store-providers.adoc[leveloffset=+1]

// Configure AWS Secrets Manager on OpenShift with GitOps
include::modules/gitops-configure-aws-secret-manager-on-openshift-with-gitops.adoc[leveloffset=+1]

// Storing AWS Secrets Manager resources in GitOps repository
include::modules/gitops-storing-aws-secret-manager-resources-in-gitops-repository.adoc[leveloffset=+2]

// Configuring SSCSI driver to mount secrets from AWS Secrets Manager
include::modules/gitops-configuring-sscsi-driver-to-mount-secrets-from-aws-secrets-manager.adoc[leveloffset=+2]

// Configuring GitOps managed resources to use mounted secrets
include::modules/gitops-configuring-gitops-managed-resources-to-use-mounted-secrets.adoc[leveloffset=+2]

// Configure HashiCorp Vault as a secrets provider on OpenShift with GitOps
include::modules/gitops-configure-hashicorp-vault-as-a-secrets-provider-on-openshift-with-gitops.adoc[leveloffset=+1]

// Installing the Vault CSI Provider using GitOps
include::modules/gitops-installing-the-vault-csi-provider-using-gitops.adoc[leveloffset=+2]

// Initializing and configuring Vault to store a Secret
include::modules/gitops-initializing-and-configuring-vault-to-store-a-secret.adoc[leveloffset=+2]

// Managing Secrets, Policies, and Roles in Vault
include::modules/gitops-managing-secrets-policies-and-roles-in-vault.adoc[leveloffset=+2]

// Configuring GitOps managed resources to use Vault-mounted secrets
include::modules/gitops-configuring-gitops-managed-resources-to-use-vault-mounted-secrets.adoc[leveloffset=+2]

// Verifying secret injection
include::modules/gitops-verifying-secret-injection.adoc[leveloffset=+2]

[role="_additional-resources"]
[id="additional-resources_{context}"]
== Additional resources

* link:https://github.com/redhat-developer/gitops-operator/blob/bfdf81944ea60b1d62d7de7c223c3bea3e7363a6/docs/Integrate%20GitOps%20with%20Secrets%20Management.md#obtain-the-ccoctl-tool[Obtaining the `ccoctl` tool]
* link:https://docs.openshift.com/container-platform/latest/authentication/managing_cloud_provider_credentials/about-cloud-credential-operator.html[About the Cloud Credential Operator]
* link:https://docs.openshift.com/container-platform/latest/authentication/managing_cloud_provider_credentials/about-cloud-credential-operator.html#cco-determine-mode_about-cloud-credential-operator[Determining the Cloud Credential Operator mode]
* link:https://github.com/redhat-developer/gitops-operator/blob/bfdf81944ea60b1d62d7de7c223c3bea3e7363a6/docs/Integrate%20GitOps%20with%20Secrets%20Management.md#configure-your-aws-cluster-to-use-aws-security-token-service-sts[Configure your AWS cluster to use AWS STS]
* link:https://docs.aws.amazon.com/secretsmanager/latest/userguide/create_secret.html[Configuring AWS Secrets Manager to store the required secrets]
* link:https://docs.openshift.com/container-platform/latest/nodes/pods/nodes-pods-secrets-store.html#persistent-storage-csi-secrets-store-driver-overview_nodes-pods-secrets-store[About the Secrets Store CSI Driver Operator]
* link:https://docs.openshift.com/container-platform/latest/nodes/pods/nodes-pods-secrets-store.html#mounting-secrets-external-secrets-store[Mounting secrets from an external secrets store to a CSI volume]