:_content-type: ASSEMBLY
include::_attributes/common-attributes.adoc[]
[id="authenticating-pipelines-repos-using-secrets"]
= Authenticating pipelines with repositories using secrets
:context: authenticating-pipelines-repos-using-secrets

toc::[]

Pipelines and tasks can require credentials to authenticate with Git repositories and container repositories. In {pipelines-title}, you can use secrets to authenticate pipeline runs and task runs that interact with a Git repository or container repository during execution.

A secret for authentication with a Git repository is known as a _Git secret_.

A pipeline run or a task run gains access to the secrets through an associated service account. Alternatively, you can define a workspace in the pipeline or task and bind the secret to the workspace.


[id="prereqs_{context}"]
== Prerequisites

* You installed the `oc` OpenShift command line utility.

[id="providing-secrets-using-service-accounts_{context}"]
== Providing secrets using service accounts

You can use service accounts to provide secrets for authentication with Git repositories and container repositories.

You can associate a secret with a service account. The information in the secret becomes available to the tasks that run under this service account.

include::modules/op-types-annotation-secrets.adoc[leveloffset=+2]

include::modules/op-configuring-basic-authentication-for-git.adoc[leveloffset=+2]

include::modules/op-configuring-ssh-authentication-for-git.adoc[leveloffset=+2]

include::modules/op-configuring-registry-authentication-sa.adoc[leveloffset=+2]

[id="additional-considerations-authentication-sa_{context}"]
=== Additional considerations for authentication using service accounts

In certain cases, you must complete additional steps to use authentication secrets that you provide using service accounts.

include::modules/op-using-ssh-authentication-in-git-type-tasks.adoc[leveloffset=+3]

include::modules/op-using-secrets-as-a-nonroot-user.adoc[leveloffset=+3]

[id="providing-secrets-using-workspaces_{context}"]
== Providing secrets using workspaces

You can use workspaces to provide secrets for authentication with Git repositories and container repositories.

You can configure a named workspace in a task, specifying a path where the workspace is mounted. When you run the task, provide the secret as the workspace with this name. When {pipelines-shortname} executes the task, the information in the secret is available to the task.

If you provide authentication secrets using workspaces, annotations for the secrets are not required.

include::modules/op-configuring-git-ssh-authentication-using-workspaces.adoc[leveloffset=+2]
include::modules/op-configuring-container-registry-authentication-using-workspaces.adoc[leveloffset=+2]
include::modules/op-limiting-secret-workspace-to-step.adoc[leveloffset=+2]
