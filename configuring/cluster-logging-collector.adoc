:_mod-docs-content-type: ASSEMBLY
:context: cluster-logging-collector
[id="cluster-logging-collector"]
= Configuring the logging collector
include::_attributes/common-attributes.adoc[]

toc::[]

{logging-title-uc} collects operations and application logs from your cluster and enriches the data with Kubernetes pod and project metadata.
All supported modifications to the log collector can be performed though the `spec.collection` stanza in the `ClusterLogForwarder` custom resource (CR).

include::modules/creating-logfilesmetricexporter.adoc[leveloffset=+1]

include::modules/cluster-logging-collector-limits.adoc[leveloffset=+1]

[id="cluster-logging-collector-input-receivers"]
== Configuring input receivers

The {clo} deploys a service for each configured input receiver so that clients can write to the collector. This service exposes the port specified for the input receiver. For log forwarder `ClusterLogForwarder` CR deployments, the service name is in the `<clusterlogforwarder_resource_name>-<input_name>` format.

include::modules/configuring-the-collector-to-receive-audit-logs-as-an-http-server.adoc[leveloffset=+2]
include::modules/configuring-the-collector-to-listen-for-connections-as-a-syslog-server.adoc[leveloffset=+2]

include::modules/configuring-pod-rollout-strategy.adoc[leveloffset=+1]

[id="network_policies-to-override-restrictive-network-in-a-cluster_{context}"]
== Network policies to override restrictive network in a cluster

{clo} optionally provides permissive `NetworkPolicy` resources to override any restrictive network policies present in an {ocp-product-title} cluster.

The `NetworkPolicy` resource ensures that all ingress and egress traffic is allowed even when the following restrictions are in place:

* Restrictive default `NetworkPolicies` resource has been defined in the cluster.
* `AdminNetworkPolicy` configuration that limits pod communications is applied.
* Namespace-level network restrictions are defined.

{clo} provides permissive `NetworkPolicy` resources for the collector and the `LogFileMetricExporter`.

include::modules/collector-network-policy.adoc[leveloffset=+2]

include::modules/configuring-network-policy-rule-set-for-a-collector.adoc[leveloffset=+2]

include::modules/logfilemetricexporter-network-policy.adoc[leveloffset=+2]

include::modules/configuring-network-policy-rule-set-for-logfilemetricexporter.adoc[leveloffset=+2]

include::modules/creating-an-adminnetworkpolicy-rule-for-collector-network-policy.adoc[leveloffset=+2]

//include::modules/cluster-logging-collector-tuning.adoc[leveloffset=+1]
