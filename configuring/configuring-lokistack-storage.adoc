:_mod-docs-content-type: ASSEMBLY
include::_attributes/common-attributes.adoc[]
[id="configuring-lokistack-storage"]
= Configuring LokiStack storage
:context: configuring-lokistack-storage

toc::[]

You can configure a `LokiStack` CR to store application, audit, and infrastructure-related logs.

include::snippets/loki-statement-snip.adoc[leveloffset=+1]

include::modules/loki-sizing.adoc[leveloffset=+1]

[id="prerequisites_{context}"]
== Prerequisites

* You have installed the {loki-op} by using the CLI or web console.
* You have a `serviceAccount` in the same namespace in which you create the `ClusterLogForwarder`.
* The `serviceAccount` is assigned `collect-audit-logs`, `collect-application-logs`, and `collect-infrastructure-logs` cluster roles.

[id="setup_{context}"]
== Core Setup and Configuration
*Role-based access controls, basic monitoring, and pod placement to deploy Loki.*

include::modules/loki-rbac-rules-permissions.adoc[leveloffset=+2]
include::modules/enabling-loki-alerts.adoc[leveloffset=+2]
include::modules/loki-memberlist-ip.adoc[leveloffset=+2]
include::modules/logging-loki-retention.adoc[leveloffset=+2]
include::modules/loki-pod-placement.adoc[leveloffset=+2]

[id="performance_{context}"]
== Enhanced Reliability and Performance
*Configurations to ensure Lokiâ€™s reliability and efficiency in production.*

include::modules/identity-federation.adoc[leveloffset=+2]
include::modules/loki-reliability-hardening.adoc[leveloffset=+2]
include::modules/loki-restart-hardening.adoc[leveloffset=+2]

[id="advanced_{context}"]
== Advanced Deployment and Scalability
*Specialized configurations for high availability, scalability, and error handling.*

include::modules/loki-zone-aware-replication.adoc[leveloffset=+2]
include::modules/loki-zone-fail-recovery.adoc[leveloffset=+2]
include::modules/loki-rate-limit-errors.adoc[leveloffset=+2]
