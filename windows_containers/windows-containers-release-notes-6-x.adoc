:_content-type: ASSEMBLY
[id="windows-containers-release-notes-6-x"]
= {productwinc} release notes
include::_attributes/common-attributes.adoc[]
:context: windows-containers-release-notes

toc::[]

[id="about-windows-containers"]
== About {productwinc}

Windows Container Support for Red Hat OpenShift enables running Windows compute nodes in an {product-title} cluster. Running Windows workloads is possible by using the Red Hat Windows Machine Config Operator (WMCO) to install and manage Windows nodes. With Windows nodes available, you can run Windows container workloads in {product-title}.

These release notes track the development of the WMCO, which provides all Windows container workload capabilities in {product-title}.

ifndef::openshift-origin[]
[id="getting-support"]
== Getting support

// wording taken and modified from https://access.redhat.com/support/policy/updates/openshift#windows

Windows Container Support for Red Hat OpenShift is provided and available as an optional, installable component. Windows Container Support for Red Hat OpenShift is not part of the {product-title} subscription. It requires an additional Red Hat subscription and is supported according to the link:https://access.redhat.com/support/offerings/production/soc/[Scope of coverage] and link:https://access.redhat.com/support/offerings/production/sla[Service level agreements].

You must have this separate subscription to receive support for Windows Container Support for Red Hat OpenShift. Without this additional Red Hat subscription, deploying Windows container workloads in production clusters is not supported. You can request support through the link:http://access.redhat.com/[Red Hat Customer Portal].

For more information, see the Red Hat OpenShift Container Platform Life Cycle Policy document for link:https://access.redhat.com/support/policy/updates/openshift#windows[{productwinc}].

If you do not have this additional Red Hat subscription, you can use the Community Windows Machine Config Operator, a distribution that lacks official support.
endif::openshift-origin[]

[id="wmco-6-0-1"]
== Release notes for Red Hat Windows Machine Config Operator 6.0.1

This release of the WMCO provides bug fixes for running Windows compute nodes in an {product-title} cluster. The components of the WMCO 6.0.0 were released in link:https: //access.redhat.com/errata/RHSA-2023:4488[RHSA-2023:4488].

[NOTE]
====
Windows Server 2019 is not supported in vSphere. 
====

[id="wmco-6-0-1-bug-fixes"]
=== Bug fixes

* Previously, the test to determine if the Windows Defender antivirus service is running was incorrectly checking for any process whose name started with Windows Defender, regardless of state. This resulted in an error when creating firewall exclusions for containerd on instances without Windows Defender installed. This fix now checks for the presence of the specific running process associated with the Windows Defender antivirus service. As a result, the WMCO can properly configure Windows instances as nodes regardless of whether Windows Defender is installed or not. (https://issues.redhat.com/browse/OCPBUGS-3572[**OCPBUGS-3572**])

* Previously, an endpoint object missing required information caused the WMCO pod to crash during start up. With this fix, WMCO verifies the endpoint object is present with the required fields. As a result, WMCO is able to start and reconcile an invalid or misconfigured endpoint object. (https://issues.redhat.com/browse/OCPBUGS-4336[**OCPBUGS-4336**]) 

* Previously, the `containerd` container runtime reported an incorrect version on each Windows node because repository tags were not propagated to the build system. This configuration caused `containerd` to report its Go build version as the version for each Windows node. With this update, the correct version is injected into the binary during build time, so that `containerd` reports the correct version for each Windows node. (link:https://issues.redhat.com/browse/OCPBUGS-8055[*OCPBUGS-8055*])

[id="wmco-6-0-0"]
== Release notes for Red Hat Windows Machine Config Operator 6.0.0

This release of the WMCO provides bug fixes for running Windows compute nodes in an {product-title} cluster. The components of the WMCO 6.0.0 were released in link:https://access.redhat.com/errata/RHBA-2022:6129[RHBA-2022:6129].

[NOTE]
====
Windows Server 2019 is not supported in vSphere.
====

=== Bug fixes
* Previously, a Windows instance could not be unconfigured when the node's external IP was present without a pointer record (PTR). As a result, the node's external IP address without reverse lookup records was used to associate the Windows instance. With this release, a Windows instance can be unconfigured when the node's external IP address is present without a PTR .
(link:https://bugzilla.redhat.com/show_bug.cgi?id=2070892[**BZ#2070892**])

=== Known issues
* Windows nodes do not support pulling container images from secure private registries. Use images from public registries or pre-pull the images in the VM image.

=== Deprecated features
* Windows Server 20H2 is no longer supported for vSphere worker nodes.

=== New features and improvements
[id="wmco-6.0.0-node-certificates"]
==== Windows node certificates are updated

With this release, the WMCO updates the Windows node certificates when the kubelet client certificate authority (CA) certificate is rotated.

[id="wmco-6-0-0-containerd"]
==== Containerd is the default container runtime

Because the Docker runtime is deprecated in Kubernetes 1.24, containerd is now the default runtime for WMCO-supported Windows nodes. Upon the installation of or an upgrade to WMCO 6.0.0, containerd is installed as a Windows service. The kubelet now uses containerd for image pulls instead of the Docker runtime. Users no longer need to enable the Docker-formatted container runtime or install the Docker container runtime on Bring-Your-Own-Host (BYOH) instances. You can continue to use nodes based on VM images that use Docker. The containerd runtime can run along with the Docker service.

The WMCO supports a Windows golden image with or without Docker for vSphere and BYOH Windows instances.

include::modules/wmco-prerequisites.adoc[leveloffset=+1]

include::modules/windows-containers-release-notes-limitations.adoc[leveloffset=+1] 

