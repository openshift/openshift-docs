:_mod-docs-content-type: ASSEMBLY
[id="cloud-experts-osd-update-component-routes"]
= Tutorial: Updating component routes with custom domains and TLS certificates

include::_attributes/attributes-openshift-dedicated.adoc[]
:context: cloud-experts-osd-update-component-routes

toc::[]

:fn-supported-versions: footnote:[Modifying these routes on {product-title} OCM versions prior to 4.14 is not typically supported. However, if you have a cluster using version 4.13, you can request for Red Hat Support to enable support for this feature on your version 4.13 cluster by link:https://access.redhat.com/support/cases/new[opening a support case].]
:fn-term-component-routes: footnote:[We use the term "component routes" to refer to the OAuth, Console, and Downloads routes that are provided when OCM are first installed.]

[role="_abstract"]
This guide demonstrates how to modify the hostname and TLS certificate of the Web console, OAuth server, and Downloads component routes in {product-title} on {GCP} version 4.14 and above.{fn-supported-versions}

The changes that we make to the component routes{fn-term-component-routes} in this guide are described in greater detail in the link:https://docs.openshift.com/container-platform/latest/authentication/configuring-internal-oauth.html#customizing-the-oauth-server-url_configuring-internal-oauth[Customing the internal OAuth server URL], link:https://docs.redhat.com/en/documentation/openshift_container_platform/latest/html/web_console/customizing-web-console#customizing-the-console-route_customizing-web-console[Customing the console route], and link:https://docs.redhat.com/en/documentation/openshift_container_platform/latest/html/web_console/customizing-web-console#customizing-the-download-route_customizing-web-console[Customing the download route] {product-title} documentation.

[id="prerequisites_{context}"]
== Prerequisites
* OCM CLI (`ocm`) version 1.0.5 or higher
* gcloud CLI (`gcloud`)
* An {product-title} on {GCP} cluster version 4.14 or higher
// +
// [NOTE]
// ====
// ROSA with HCP is not supported at this time.
// ====
// +
* {oc-first}
* `jq` CLI
* Access to the cluster as a user with the `cluster-admin` role.
* OpenSSL (for generating the demonstration SSL/TLS certificates)

include::modules/cloud-experts-osd-update-component-routes-environment-setup.adoc[leveloffset=+1]
include::modules/cloud-experts-osd-update-component-routes-find-current-component-routes.adoc[leveloffset=+1]
include::modules/cloud-experts-osd-update-component-routes-create-tls-certificates.adoc[leveloffset=+1]
include::modules/cloud-experts-osd-update-component-routes-add-certificates-as-secrets.adoc[leveloffset=+1]
include::modules/cloud-experts-osd-update-component-routes-find-lb-hostname.adoc[leveloffset=+1]
include::modules/cloud-experts-osd-update-component-routes-add-component-routes-to-dns.adoc[leveloffset=+1]
include::modules/cloud-experts-osd-update-component-routes-tls-using-ocm-cli.adoc[leveloffset=+1]
include::modules/cloud-experts-osd-update-component-routes-reset-component-routes-to-default.adoc[leveloffset=+1]