:_content-type: ASSEMBLY
[id="using-rfhe"]
= Monitoring Redfish hardware events
include::_attributes/common-attributes.adoc[]
:context: using-rfhe

toc::[]

:FeatureName: Redfish hardware events
include::snippets/developer-preview.adoc[]
//include::snippets/technology-preview.adoc[]

[id="about-using-redfish-hardware-events"]
== About Redfish hardware events

Use Redfish hardware events to subscribe applications that run in your {product-title} cluster to events that are generated on the underlying bare-metal host. The Redfish service publishes events on a node and transmits them on an advanced message queue to subscribed applications.

Redfish hardware events are based on the open Redfish standard that is developed under the guidance of the Distributed Management Task Force (DMTF). Redfish provides a secure industry-standard protocol with a REST API. The protocol is used for the management of distributed, converged or software-defined resources and infrastructure.

Hardware-related events published through Redfish includes:

* Breaches of temperature limits
* Server status
* Fan status

Begin using Redfish hardware events by deploying the Operator and subscribing your application to the service. The Operator installs and manages the lifecycle of the Redfish hardware event service.

[NOTE]
====
Redfish hardware events work only with Redfish-capable devices on single-node clusters provisioned on bare-metal infrastructure.
====

include::modules/nw-rfhe-introduction.adoc[leveloffset=+1]

[id="installing-hw-events"]
== Installing the upstream {redfish-operator}

The {redfish-operator} is not available in the `redhat-operators` Operators source for {product-title} version {product-version}. To install the Operator, see link:https://access.redhat.com/articles/6955332[Installing upstream RAN operators].

[IMPORTANT]
====
{redfish-operator} is not supported with Red Hat production service level agreements (SLAs) and is not functionally complete or production-ready. The Operator is provided for preview purposes only. Do not use {redfish-operator} for production or business-critical workloads.
====

//Install the Baremetal Hardware Event Proxy Operator using the {product-title} CLI or the web console.

//include::modules/nw-rfhe-installing-operator-cli.adoc[leveloffset=+2]

//include::modules/nw-rfhe-installing-operator-web-console.adoc[leveloffset=+2]

include::modules/hw-installing-amq-interconnect-messaging-bus.adoc[leveloffset=+1]

[id="subscribing-hw-events"]
== Subscribing to Redfish BMC hardware events for a cluster node

As a cluster administrator, you can subscribe to Redfish BMC events generated on a node in your cluster by creating a `BMCEventSubscription` custom resource (CR) for the node, creating a `HardwareEvent` CR for the event, and a `Secret` CR for the BMC.

include::modules/nw-rfhe-creating_bmc_event_sub.adoc[leveloffset=+2]

include::modules/nw-rfhe-quering-redfish-hardware-event-subs.adoc[leveloffset=+2]

include::modules/nw-rfhe-creating-hardware-event.adoc[leveloffset=+2]

include::modules/cnf-rfhe-notifications-api-refererence.adoc[leveloffset=+1]
