:_content-type: ASSEMBLY
[id="configure-ocp-oauth"]
= Configuring {ocp} OAuth server as an identity provider
include::modules/common-attributes.adoc[]
:context: configure-ocp-oauth

toc::[]

[role="_abstract"]
{ocp} includes a built-in OAuth server that you can use as an authentication provider for {product-title} ({product-title-short}).

include::modules/configure-ocp-oauth-identity-provider.adoc[leveloffset=+1]

[IMPORTANT]
====
* If you use a custom TLS certificate for {ocp} OAuth server, you must add the root certificate of the CA to {product-title} as a trusted root CA. Otherwise, Central cannot connect to the {ocp} OAuth server.
* To enable the {ocp} OAuth server integration when installing {product-title} using the `roxctl` CLI, set the `ROX_ENABLE_OPENSHIFT_AUTH` environment variable to `true` in Central:
+
[source,terminal]
----
$ oc -n stackrox set env deploy/central ROX_ENABLE_OPENSHIFT_AUTH=true
----
* For access rules, the {ocp} OAuth server does not return the key `Email`.
====

[role="_additional-resources"]
.Additional resources
* link:https://docs.openshift.com/container-platform/4.12/authentication/identity_providers/configuring-ldap-identity-provider.html[Configuring an LDAP identity provider]
* xref:../../configuration/add-trusted-ca.adoc#add-trusted-ca[Adding trusted certificate authorities]

include::modules/create-additional-routes-ocp-oauth.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources
* link:https://docs.openshift.com/container-platform/4.12/authentication/using-service-accounts-as-oauth-client.html#service-accounts-as-oauth-clients_using-service-accounts-as-oauth-client[Service accounts as OAuth clients]
* link:https://docs.openshift.com/container-platform/4.12/authentication/using-service-accounts-as-oauth-client.html#redirect-uris-for-service-accounts_using-service-accounts-as-oauth-client[Redirect URIs for service accounts as OAuth clients]
