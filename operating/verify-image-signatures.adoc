[id="verify-image-signatures"]
= Verifying image signatures
include::modules/common-attributes.adoc[]
:context: verify-image-signatures

toc::[]

[role="_abstract"]
You can use {product-title} ({product-title-short}) to ensure the integrity of the container images in your clusters by verifying image signatures against pre-configured keys.

You can create policies to block unsigned images and images that do not have a verified signature.
You can also enforce the policy by using the {product-title-short} admission controller to stop unauthorized deployment creation.

[NOTE]
====
* {product-title-short} only supports Cosign signatures and Cosign Public Keys/Certificates verification. For more information about Cosign, see link:https://docs.sigstore.dev/cosign/overview[Cosign overview].
* For Cosign signature verification, {product-title-short} does not support communication with the transparency log link:https://docs.sigstore.dev/logging/overview/[Rekor].
* You must configure signature integration with at least 1 Cosign verification method for signature verification.
* For all deployed and watched images:
** {product-title-short} fetches and verifies the signatures every 4 hours.
** {product-title-short} verifies the signatures whenever you change or update your signature integration verification data.
====

//Configuring signature integration
include::modules/configure-signature-integration.adoc[leveloffset=+1]

//Using signature verification
include::modules/use-signature-verification.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources
* xref:../operating/manage_security_policies/custom-security-policies.adoc#create-policy-from-system-policies-view_custom-security-policies[Creating a security policy from the system policies view]

* xref:../operating/manage_security_policies/about-security-policies.adoc#policy-criteria_about-security-policies[Policy criteria]

== Enforcing signature verification
To prevent the users from using unsigned images, you can enforce signature verification by using the {product-title-short} admission controller.
You must first enable the *Contact Image Scanners* feature in your cluster configuration settings.
Then, while creating a security policy to enforce signature verification, you can use the *Inform and enforce* option.

For more information, see xref:../operating/use-admission-controller-enforcement.adoc#enable-admission-controller-enforcement_use-admission-controller-enforcement[Enabling admission controller enforcement].

[role="_additional-resources"]
.Additional resources
* xref:../operating/manage_security_policies/custom-security-policies.adoc#create-policy-from-system-policies-view_custom-security-policies[Creating a security policy from the system policies view]
