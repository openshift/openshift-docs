[[dev-guide-templates-example]]
= Example Template Files
{product-author}
{product-version}
:data-uri:
:icons:
:experimental:
:toc: macro
:toc-title:
:prewrap!:

toc::[]



[[dev-guide-templates-example-yaml]]
=== YAML Templates

.A Simple YAML Template Object Definition 

[source,yaml]
----
apiVersion: v1
kind: Template
metadata:
  name: redis-template <1>
  annotations:
    description: "Description" <2>
    iconClass: "icon-redis" <3>
    tags: "database,nosql" <4>
objects:   <5>
- apiVersion: v1
  kind: Pod
  metadata:
    name: redis-master
  spec:
    containers:
    - env:
      - name: REDIS_PASSWORD
        value: ${REDIS_PASSWORD} <6>
      image: dockerfile/redis
      name: master
      ports:
      - containerPort: 6379
        protocol: TCP
parameters:  <7>
- description: Password used for Redis authentication
  from: '[A-Z0-9]{8}'   <8>
  generate: expression
  name: REDIS_PASSWORD
labels:      <9>
  redis: master
----

<1> The name of the template
<2> Optional description for the template
<3> The icon that will be shown in the web console for this template; the name of a CSS class
defined with the link:https://rawgit.com/openshift/openshift-logos-icon/master/demo.html
[logo icons].
<4> A list of arbitrary tags that this template will have in the UI.
<5> A list of objects the template will create (in this case, a single pod).
<6> Parameter value that will be substituted during processing.
<7> A list of parameters for the template.
<8> An expression used to generate a random password if not specified.
<9> A list of labels to apply to all objects on create.

Here is an example of a full template with parameter definitions and references:

.A full template with parameter definitions and references
[source,yaml]
----
kind: Template
apiVersion: v1
objects:
  - kind: BuildConfig
    apiVersion: v1
    metadata:
      name: cakephp-mysql-example
      annotations:
        description: Defines how to build the application
    spec:
      source:
        type: Git
        git:
          uri: "${SOURCE_REPOSITORY_URL}" <1>
          ref: "${SOURCE_REPOSITORY_REF}"
        contextDir: "${CONTEXT_DIR}"
  - kind: DeploymentConfig
    apiVersion: v1
    metadata:
      name: frontend
    spec:
      replicas: "${{REPLICA_COUNT}}" <2>
parameters:
  - name: SOURCE_REPOSITORY_URL <3>
    displayName: Source Repository URL <4>
    description: The URL of the repository with your application source code <5>
    value: https://github.com/openshift/cakephp-ex.git <6>
    required: true <7>
  - name: GITHUB_WEBHOOK_SECRET
    description: A secret string used to configure the GitHub webhook
    generate: expression <8>
    from: "[a-zA-Z0-9]{40}" <9>
  - name: REPLICA_COUNT
    description: Number of replicas to run
    value: "2"
    required: true
message: "... The GitHub webhook secret is ${GITHUB_WEBHOOK_SECRET} ..." <10>
----
<1> This value will be replaced with the value of the `SOURCE_REPOSITORY_URL`
parameter when the template is instantiated.
<2> This value will be replaced with the unquoted value of the `REPLICA_COUNT`
parameter when the template is instantiated.
<3> The name of the parameter. This value is used to
reference the parameter within the template.
<4> The user-friendly name for the parameter. This will be displayed to users.
<5> A description of the parameter. Provide more detailed information for the purpose
of the parameter, including any constraints on the expected value. Descriptions should
use complete sentences to follow the console's https://www.patternfly.org/styles/terminology-and-wording/[text standards].
Don't make this a duplicate of the display name.
<6> A default value for the parameter that is used if the user does not
override the value when instantiating the template. Avoid using default values for things like passwords, instead
use generated parameters in combination with xref:../../dev_guide/secrets.adoc#dev-guide-secrets[secrets].
<7> Indicates this parameter is required, meaning the user cannot override it
with an empty value. If the parameter does not provide a default or generated
value, the user must supply a value.
<8> A parameter that has a generated value.
<9> The input to the generator. In this case, the generator will produce a 40
character alphanumeric value including upper and lowercase characters.
<10> Parameters can be included in the template message. This informs the
user about generated values.

[[dev-guide-templates-example-json]]
=== JSON templates

The following examples show how the JSON templates are structured.

[source,json]
----
{
   "kind": "Template",
   "apiVersion": "v1",
   "metadata": {
      "name": "mlbparks-eap",
      "annotations": {
         "iconClass": "icon-jboss",
         "description": "Application template for MLB Parks application on EAP 6 & MongoDB built using STI"
      }
   },
   "labels": {
      "application": "mlbparks",
      "createdBy": "template-mlbparks-eap"
   },
   "parameters": [
      {
         "description": "The name for the application.",
         "name": "APPLICATION_NAME",
         "value": "mlbparks"
      },
      {
         "description": "Custom hostname for service routes.  Leave blank for default hostname, e.g.: <application-name>.<project>.<default-domain-suffix>",
         "name": "APPLICATION_HOSTNAME"
      },
      {
         "description": "Database user name",
         "name": "MONGODB_USER",
         "from": "user[a-zA-Z0-9]{3}",
         "generate": "expression"
      },
   ],
   "objects": [
      {
         "kind": "BuildConfig",
         "apiVersion": "v1",
         "metadata": {
            "name": "${APPLICATION_NAME}"
         },
         "spec": {
            "triggers": [
               {
                  "type": "Generic",
                  "generic": {
                     "secret": "${GENERIC_TRIGGER_SECRET}"
                  }
               },
               {
                  "type": "GitHub",
                  "github": {
                     "secret": "${GITHUB_TRIGGER_SECRET}"
                  }
               },
               {
                  "type": "ImageChange",
                  "imageChange": {}
               }
            ],
            "source": {
               "type": "Git",
               "git": {
                  "uri": "${GIT_URI}",
                  "ref": "${GIT_REF}"
               }
            },
            "strategy": {
               "type": "Source",
               "sourceStrategy": {
                  "from": {
                     "kind": "ImageStreamTag",
                     "namespace": "openshift",
                     "name": "jboss-eap64-openshift:1.3"
                  },
                  "env": [
                     {
                        "name": "MAVEN_MIRROR_URL",
                        "value": "${MAVEN_MIRROR_URL}"
                     }
                  ]
               }
            },
            "output": {
               "to": {
                  "kind": "ImageStreamTag",
                  "name": "${APPLICATION_NAME}:latest"
               }
            }
         }
      },
      {
         "kind": "ImageStream",
         "apiVersion": "v1",
         "metadata": {
            "name": "${APPLICATION_NAME}"
         },
         "spec": {
            "dockerImageRepository": "",
            "tags": [
               {
                  "name": "latest"
               }
            ]
         }
      },
      {
         "kind": "DeploymentConfig",
         "apiVersion": "v1",
         "metadata": {
            "name": "${APPLICATION_NAME}-mongodb"
         },
         "spec": {
            "strategy": {
               "type": "Recreate"
            },
            "triggers": [
               {
                  "type": "ImageChange",
                  "imageChangeParams": {
                     "automatic": true,
                     "containerNames": [
                        "${APPLICATION_NAME}-mongodb"
                     ],
                     "from": {
                        "kind": "ImageStreamTag",
                        "namespace": "openshift",
                        "name": "mongodb:2.6"
                     }
                  }
               },
               {
                  "type": "ConfigChange"
               }
            ],
            "replicas": 1,
            "selector": {
               "deploymentConfig": "${APPLICATION_NAME}-mongodb"
            },
            "template": {
               "metadata": {
                  "name": "${APPLICATION_NAME}-mongodb",
                  "labels": {
                     "deploymentConfig": "${APPLICATION_NAME}-mongodb"
                  }
               },
               "spec": {
                  "volumes": [
                     {
                        "name": "${APPLICATION_NAME}-mongodb-data",
                        "emptyDir": {}
                     }
                  ],
                  "containers": [
                     {
                        "name": "${APPLICATION_NAME}-mongodb",
                        "image": "mongodb",
                        "ports": [
                           {
                              "containerPort": 27017,
                              "protocol": "TCP"
                           }
                        ],
                        "env": [
                           {
                              "name": "MONGODB_USER",
                              "value": "${MONGODB_USER}"
                           },
                           {
                              "name": "MONGODB_PASSWORD",
                              "value": "${MONGODB_PASSWORD}"
                           },
                           {
                              "name": "MONGODB_DATABASE",
                              "value": "${MONGODB_DATABASE}"
                           },
                           {
                              "name": "MONGODB_ADMIN_PASSWORD",
                              "value": "${MONGODB_ADMIN_PASSWORD}"
                           },
                           {
                              "name": "MONGODB_NOPREALLOC",
                              "value": "${MONGODB_NOPREALLOC}"
                           },
                           {
                              "name": "MONGODB_SMALLFILES",
                              "value": "${MONGODB_SMALLFILES}"
                           },
                           {
                              "name": "MONGODB_QUIET",
                              "value": "${MONGODB_QUIET}"
                           }
                        ],
                        "resources": {},
                        "volumeMounts": [
                           {
                              "name": "${APPLICATION_NAME}-mongodb-data",
                              "mountPath": "/var/lib/mongodb/data"
                           }
                        ],
                        "terminationMessagePath": "/dev/termination-log",
                        "imagePullPolicy": "IfNotPresent",
                        "securityContext": {
                           "capabilities": {},
                           "privileged": false
                        }
                     }
                  ],
                  "restartPolicy": "Always",
                  "dnsPolicy": "ClusterFirst"
               }
            }
         }
      },
      {
         "kind": "DeploymentConfig",
         "apiVersion": "v1",
         "metadata": {
            "name": "${APPLICATION_NAME}",
            "labels": {
               "deploymentConfig": "${APPLICATION_NAME}"
            }
         },
         "spec": {
            "strategy": {
               "type": "Recreate"
            },
            "triggers": [
               {
                  "type": "ImageChange",
                  "imageChangeParams": {
                     "automatic": true,
                     "containerNames": [
                        "${APPLICATION_NAME}"
                     ],
                     "from": {
                        "kind": "ImageStreamTag",
                        "name": "${APPLICATION_NAME}:latest"
                     }
                  }
               },
               {
                  "type": "ConfigChange"
               }
            ],
            "replicas": 1,
            "selector": {
               "deploymentConfig": "${APPLICATION_NAME}"
            },
            "template": {
               "metadata": {
                  "labels": {
                     "deploymentConfig": "${APPLICATION_NAME}"
                  }
               },
               "spec": {
                  "containers": [
                     {
                        "name": "${APPLICATION_NAME}",
                        "image": "${APPLICATION_NAME}",
                        "ports": [
                           {
                              "name": "${APPLICATION_NAME}-http",
                              "containerPort": 8080,
                              "protocol": "TCP"
                           },
                           {
                              "name": "${APPLICATION_NAME}-ping",
                              "containerPort": 8888,
                              "protocol": "TCP"
                           }
                        ],
                        "readinessProbe": {
                           "exec": {
                              "command": [
                                 "/bin/bash",
                                 "-c",
                                 "/opt/eap/bin/readinessProbe.sh"
                              ]
                           }
                        },
                        "env": [
                           {
                              "name": "OPENSHIFT_DNS_PING_SERVICE_NAME",
                              "value": "${APPLICATION_NAME}-ping"
                           },
                           {
                              "name": "OPENSHIFT_DNS_PING_SERVICE_PORT",
                              "value": "8888"
                           },
                           {
                              "name": "MONGODB_USER",
                              "value": "${MONGODB_USER}"
                           },
                           {
                              "name": "MONGODB_PASSWORD",
                              "value": "${MONGODB_PASSWORD}"
                           },
                           {
                              "name": "MONGODB_DATABASE",
                              "value": "${MONGODB_DATABASE}"
                           },
                           {
                              "name": "MONGODB_ADMIN_PASSWORD",
                              "value": "${MONGODB_ADMIN_PASSWORD}"
                           }
                        ],
                        "resources": {},
                        "terminationMessagePath": "/dev/termination-log",
                        "imagePullPolicy": "Always",
                        "securityContext": {
                           "capabilities": {},
                           "privileged": false
                        }
                     }
                  ],
                  "restartPolicy": "Always",
                  "dnsPolicy": "ClusterFirst"
               }
            }
         }
      },
      {
         "kind": "Route",
         "apiVersion": "v1",
         "metadata": {
            "name": "${APPLICATION_NAME}",
            "annotations": {
               "description": "Route for application's http service"
            }
         },
         "spec": {
            "host": "${APPLICATION_HOSTNAME}",
            "to": {
               "kind": "Service",
               "name": "${APPLICATION_NAME}"
            }
         }
      },
      {
         "kind": "Service",
         "apiVersion": "v1",
         "metadata": {
            "name": "mongodb"
         },
         "spec": {
            "ports": [
               {
                  "port": 27017,
                  "targetPort": 27017
               }
            ],
            "selector": {
               "deploymentConfig": "${APPLICATION_NAME}-mongodb"
            }
         }
      },
      {
         "kind": "Service",
         "apiVersion": "v1",
         "metadata": {
            "name": "${APPLICATION_NAME}",
            "annotations": {
               "description": "The web server's http port"
            }
         },
         "spec": {
            "ports": [
               {
                  "protocol": "TCP",
                  "port": 8080,
                  "targetPort": 8080
               }
            ],
            "selector": {
               "deploymentConfig": "${APPLICATION_NAME}"
            }
         }
      },
      {
         "kind": "Service",
         "apiVersion": "v1",
         "metadata": {
            "name": "${APPLICATION_NAME}-ping",
            "annotations": {
               "description": "Ping service for clustered applications"
            }
         },
         "spec": {
            "ports": [
               {
                  "port": 8888,
                  "targetPort": 8888
               }
            ],
            "selector": {
               "deploymentConfig": "${APPLICATION_NAME}"
            }
         }
      }
   ]
}
----

[[dev-guide-templates-example-edited]]
.Edited rails-postgresql-example template

[source,json]
----
oc process -f openshift rails-postgresql-example -l name=rails-postgresql-example-small -p MEMORY_LIMIT=256Mi -p MEMORY_POSTGRESQL_LIMIT=256Mi

{
    "kind": "List",
    "apiVersion": "v1",
    "metadata": {},
    "items": [
        {
            "apiVersion": "v1",
            "kind": "Secret",
            "metadata": {
                "annotations": {
                    "template.openshift.io/expose-password": "{.data['application-password']}",
                    "template.openshift.io/expose-username": "{.data['application-user']}"
                },
                "labels": {
                    "name": "rails-postgresql-example-small",
                    "template": "rails-postgresql-example"
                },
                "name": "rails-postgresql-example"
            },
            "stringData": {
                "application-password": "secret",
                "application-user": "openshift",
                "database-password": "gxfsQ2Op",
                "database-user": "userPPU",
                "keybase": "xq4v07kqnytccr168yfy3eyni7s0ye4218q5nx1v4twuhrb1qlr474a8hetq8t443fb2gn4vtdx2uiquhf0alui0g3anba56obg7ictidx6uf20vd13yw5mrdbq1h6t"
            }
        },
        {
            "apiVersion": "v1",
            "kind": "Service",
            "metadata": {
                "annotations": {
                    "description": "Exposes and load balances the application pods",
                    "service.alpha.openshift.io/dependencies": "[{\"name\": \"postgresql\", \"kind\": \"Service\"}]"
                },
                "labels": {
                    "name": "rails-postgresql-example-small",
                    "template": "rails-postgresql-example"
                },
                "name": "rails-postgresql-example"
            },
            "spec": {
                "ports": [
                    {
                        "name": "web",
                        "port": 8080,
                        "targetPort": 8080
                    }
                ],
                "selector": {
                    "name": "rails-postgresql-example"
                }
            }
        },
        {
            "apiVersion": "v1",
            "kind": "Route",
            "metadata": {
                "annotations": {
                    "template.openshift.io/expose-uri": "http://{.spec.host}{.spec.path}"
                },
                "labels": {
                    "name": "rails-postgresql-example-small",
                    "template": "rails-postgresql-example"
                },
                "name": "rails-postgresql-example"
            },
            "spec": {
                "host": "",
                "to": {
                    "kind": "Service",
                    "name": "rails-postgresql-example"
                }
            }
        },
        {
            "apiVersion": "v1",
            "kind": "ImageStream",
            "metadata": {
                "annotations": {
                    "description": "Keeps track of changes in the application image"
                },
                "labels": {
                    "name": "rails-postgresql-example-small",
                    "template": "rails-postgresql-example"
                },
                "name": "rails-postgresql-example"
            }
        },
        {
            "apiVersion": "v1",
            "kind": "BuildConfig",
            "metadata": {
                "annotations": {
                    "description": "Defines how to build the application"
                },
                "labels": {
                    "name": "rails-postgresql-example-small",
                    "template": "rails-postgresql-example"
                },
                "name": "rails-postgresql-example"
            },
            "spec": {
                "output": {
                    "to": {
                        "kind": "ImageStreamTag",
                        "name": "rails-postgresql-example:latest"
                    }
                },
                "postCommit": {
                    "script": "bundle exec rake test"
                },
                "source": {
                    "contextDir": "",
                    "git": {
                        "ref": "",
                        "uri": "https://github.com/openshift/rails-ex.git"
                    },
                    "type": "Git"
                },
                "strategy": {
                    "sourceStrategy": {
                        "env": [
                            {
                                "name": "RUBYGEM_MIRROR",
                                "value": ""
                            }
                        ],
                        "from": {
                            "kind": "ImageStreamTag",
                            "name": "ruby:2.3",
                            "namespace": "openshift"
                        }
                    },
                    "type": "Source"
                },
                "triggers": [
                    {
                        "type": "ImageChange"
                    },
                    {
                        "type": "ConfigChange"
                    },
                    {
                        "github": {
                            "secret": "WgpPABtgLrAAbiebwTldPfKP5Tjer4VKLxJ1mmnM"
                        },
                        "type": "GitHub"
                    }
                ]
            }
        },
        {
            "apiVersion": "v1",
            "kind": "DeploymentConfig",
            "metadata": {
                "annotations": {
                    "description": "Defines how to deploy the application server"
                },
                "labels": {
                    "name": "rails-postgresql-example-small",
                    "template": "rails-postgresql-example"
                },
                "name": "rails-postgresql-example"
            },
            "spec": {
                "replicas": 1,
                "selector": {
                    "name": "rails-postgresql-example"
                },
                "strategy": {
                    "recreateParams": {
                        "pre": {
                            "execNewPod": {
                                "command": [
                                    "./migrate-database.sh"
                                ],
                                "containerName": "rails-postgresql-example"
                            },
                            "failurePolicy": "Abort"
                        }
                    },
                    "type": "Recreate"
                },
                "template": {
                    "metadata": {
                        "labels": {
                            "name": "rails-postgresql-example"
                        },
                        "name": "rails-postgresql-example"
                    },
                    "spec": {
                        "containers": [
                            {
                                "env": [
                                    {
                                        "name": "DATABASE_SERVICE_NAME",
                                        "value": "postgresql"
                                    },
                                    {
                                        "name": "POSTGRESQL_USER",
                                        "valueFrom": {
                                            "secretKeyRef": {
                                                "key": "database-user",
                                                "name": "rails-postgresql-example"
                                            }
                                        }
                                    },
                                    {
                                        "name": "POSTGRESQL_PASSWORD",
                                        "valueFrom": {
                                            "secretKeyRef": {
                                                "key": "database-password",
                                                "name": "rails-postgresql-example"
                                            }
                                        }
                                    },
                                    {
                                        "name": "POSTGRESQL_DATABASE",
                                        "value": "root"
                                    },
                                    {
                                        "name": "SECRET_KEY_BASE",
                                        "valueFrom": {
                                            "secretKeyRef": {
                                                "key": "keybase",
                                                "name": "rails-postgresql-example"
                                            }
                                        }
                                    },
                                    {
                                        "name": "POSTGRESQL_MAX_CONNECTIONS",
                                        "value": "100"
                                    },
                                    {
                                        "name": "POSTGRESQL_SHARED_BUFFERS",
                                        "value": "12MB"
                                    },
                                    {
                                        "name": "APPLICATION_DOMAIN",
                                        "value": ""
                                    },
                                    {
                                        "name": "APPLICATION_USER",
                                        "valueFrom": {
                                            "secretKeyRef": {
                                                "key": "application-user",
                                                "name": "rails-postgresql-example"
                                            }
                                        }
                                    },
                                    {
                                        "name": "APPLICATION_PASSWORD",
                                        "valueFrom": {
                                            "secretKeyRef": {
                                                "key": "application-password",
                                                "name": "rails-postgresql-example"
                                            }
                                        }
                                    },
                                    {
                                        "name": "RAILS_ENV",
                                        "value": "production"
                                    }
                                ],
                                "image": " ",
                                "livenessProbe": {
                                    "httpGet": {
                                        "path": "/articles",
                                        "port": 8080
                                    },
                                    "initialDelaySeconds": 10,
                                    "timeoutSeconds": 3
                                },
                                "name": "rails-postgresql-example",
                                "ports": [
                                    {
                                        "containerPort": 8080
                                    }
                                ],
                                "readinessProbe": {
                                    "httpGet": {
                                        "path": "/articles",
                                        "port": 8080
                                    },
                                    "initialDelaySeconds": 5,
                                    "timeoutSeconds": 3
                                },
                                "resources": {
                                    "limits": {
                                        "memory": "256Mi"
                                    }
                                }
                            }
                        ]
                    }
                },
                "triggers": [
                    {
                        "imageChangeParams": {
                            "automatic": true,
                            "containerNames": [
                                "rails-postgresql-example"
                            ],
                            "from": {
                                "kind": "ImageStreamTag",
                                "name": "rails-postgresql-example:latest"
                            }
                        },
                        "type": "ImageChange"
                    },
                    {
                        "type": "ConfigChange"
                    }
                ]
            }
        },
        {
            "apiVersion": "v1",
            "kind": "Service",
            "metadata": {
                "annotations": {
                    "description": "Exposes the database server"
                },
                "labels": {
                    "name": "rails-postgresql-example-small",
                    "template": "rails-postgresql-example"
                },
                "name": "postgresql"
            },
            "spec": {
                "ports": [
                    {
                        "name": "postgresql",
                        "port": 5432,
                        "targetPort": 5432
                    }
                ],
                "selector": {
                    "name": "postgresql"
                }
            }
        },
        {
            "apiVersion": "v1",
            "kind": "DeploymentConfig",
            "metadata": {
                "annotations": {
                    "description": "Defines how to deploy the database"
                },
                "labels": {
                    "name": "rails-postgresql-example-small",
                    "template": "rails-postgresql-example"
                },
                "name": "postgresql"
            },
            "spec": {
                "replicas": 1,
                "selector": {
                    "name": "postgresql"
                },
                "strategy": {
                    "type": "Recreate"
                },
                "template": {
                    "metadata": {
                        "labels": {
                            "name": "postgresql"
                        },
                        "name": "postgresql"
                    },
                    "spec": {
                        "containers": [
                            {
                                "env": [
                                    {
                                        "name": "POSTGRESQL_USER",
                                        "valueFrom": {
                                            "secretKeyRef": {
                                                "key": "database-user",
                                                "name": "rails-postgresql-example"
                                            }
                                        }
                                    },
                                    {
                                        "name": "POSTGRESQL_PASSWORD",
                                        "valueFrom": {
                                            "secretKeyRef": {
                                                "key": "database-password",
                                                "name": "rails-postgresql-example"
                                            }
                                        }
                                    },
                                    {
                                        "name": "POSTGRESQL_DATABASE",
                                        "value": "root"
                                    },
                                    {
                                        "name": "POSTGRESQL_MAX_CONNECTIONS",
                                        "value": "100"
                                    },
                                    {
                                        "name": "POSTGRESQL_SHARED_BUFFERS",
                                        "value": "12MB"
                                    }
                                ],
                                "image": " ",
                                "livenessProbe": {
                                    "initialDelaySeconds": 30,
                                    "tcpSocket": {
                                        "port": 5432
                                    },
                                    "timeoutSeconds": 1
                                },
                                "name": "postgresql",
                                "ports": [
                                    {
                                        "containerPort": 5432
                                    }
                                ],
                                "readinessProbe": {
                                    "exec": {
                                        "command": [
                                            "/bin/sh",
                                            "-i",
                                            "-c",
                                            "psql -h 127.0.0.1 -U ${POSTGRESQL_USER} -q -d ${POSTGRESQL_DATABASE} -c 'SELECT 1'"
                                        ]
                                    },
                                    "initialDelaySeconds": 5,
                                    "timeoutSeconds": 1
                                },
                                "resources": {
                                    "limits": {
                                        "memory": "256Mi"
                                    }
                                },
                                "volumeMounts": [
                                    {
                                        "mountPath": "/var/lib/pgsql/data",
                                        "name": "data"
                                    }
                                ]
                            }
                        ],
                        "volumes": [
                            {
                                "emptyDir": {},
                                "name": "data"
                            }
                        ]
                    }
                },
                "triggers": [
                    {
                        "imageChangeParams": {
                            "automatic": true,
                            "containerNames": [
                                "postgresql"
                            ],
                            "from": {
                                "kind": "ImageStreamTag",
                                "name": "postgresql:9.5",
                                "namespace": "openshift"
                            }
                        },
                        "type": "ImageChange"
                    },
                    {
                        "type": "ConfigChange"
                    }
                ]
            }
        }
    ]
}
----
