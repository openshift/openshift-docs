[[dev-guide-create-from-url]]
= Create from URL
{product-author}
{product-version}
:data-uri:
:icons:
:experimental:
:toc: macro
:toc-title:
:prewrap!:

toc::[]

== Overview

Create From URL is a function that allows you to construct a one-click deployment link for your application. Clicking on that URL, deploys your application on the specified OpenShift instance.

Create from URL only works with image streams or templates from namespaces that
have been explicitly whitelisted. The whitelist contains the `openshift`
namespace by default.
ifdef::openshift-enterprise,openshift-origin[]
To add namespaces to the whitelist, see
xref:../install_config/web_console_customization.adoc#configuring-the-create-from-url-namespace-whitelist[Configuring the Create From URL Namespace Whitelist].
endif::[]

This URL can be embedded in a button similar to the ones below or customized as required.

image::run_on_openshift_buttons.png[Run on OpenShift Buttons]

These buttons leverage a defined URL pattern with an appropriate query string.
The user is prompted to select the project. Then, the Create from URL workflow continues.

Each valid URL consists for two parts:

* `Hostname` - Specifies where to deploy the application. This is the link to the xref:../architecture/infrastructure_components/web_console.adoc[Web Console] of an OpenShift Instance on which you want to deploy your application. For example, to create a URL which deploys your application on OpenShift Online, use `pass:[https://openshift.redhat.com/app/console/]` as `hostname`.
* `Query string` - Specifies which image streams, image tags, or templates to use to deploy your application. See xref:create-for-url-using-an-image-stream-and-image-tag[Using an Image Stream and Image Tag] and xref:create-from-url-using-a-template[Using a Template] sections.



[[create-for-url-using-an-image-stream-and-image-tag]]
== Using an Image Stream and Image Tag

[[image-stream-and-image-tag-query-string-parameters]]
=== Query String Parameters

[options="header"]
|===
|Name|Description|Required|Schema|Default
|`imageStream`|The value `metadata.name` as defined in the image stream to be used.|
true|string|
|`imageTag`|The value `spec.tags.name` as defined in the image stream to be used.|
true|string|
|`namespace`|The name of the namespace containing the image stream and image tag
to use.|false|string|`openshift`
|`name`|Identifies the resources created for this application.|false|string|
|`sourceURI`|The Git repository URL containing the application source code.|false|
string|
|`sourceRef`|The branch, tag, or commit for the application source code specified
in `sourceURI`.|false|string|
|`contextDir`|The subdirectory for the application source code specified in
`sourceURI`, used as the context directory for the build.|false|string|
|===

[NOTE]
====
link:https://en.wikipedia.org/wiki/Percent-encoding#Percent-encoding_reserved_characters[Reserved
characters] in parameter values should be URL encoded.
====

[[example-usage-of-an-image-stream-and-image-tag]]
==== Example
Following code creates an HTML button which deploys OpenShift NodeJS example application, from the `nodejs` imagestream, using the `nodejs` (version 4) image on Openshift Online.

====
[source, html]
----
<a href="https://openshift.redhat.com/app/console/create?template=nodejs-mongodb-example&templateParamsMap={"SOURCE_REPOSITORY_URL"%3A"https%3A%2F%2Fgithub.com%2Fopenshift%2Fnodejs-ex.git"}"><img alt="LAUNCH ON OpenShift" src="http://launch-shifter.rhcloud.com/launch/LAUNCH_ON.svg" /></a>
----
====

[[create-from-url-using-a-template]]
== Using a Template

[[template-query-string-parameters]]
=== Query String Parameters

[options="header"]
|===
|Name|Description|Required|Schema|Default
|`template`|The value of `metadata.name` as defined in the template to be used.|
true|string|
|`templateParamsMap`|A JSON parameters map containing the template parameter name
and corresponding value you wish to override.|false|JSON|
|`namespace`|The name of the namespace containing the template to use.|false|string|`openshift`
|===

[NOTE]
====
link:https://en.wikipedia.org/wiki/Percent-encoding#Percent-encoding_reserved_characters[Reserved
characters] in parameter values should be URL encoded.
====

[[example-usage-of-a-template]]
==== Example
Following code creates an HTML button which deploys OpenShift MongoDB example application using the `Node.js + MongoDB (Ephemeral)` template, on OpenShift Online.

====
[source, html]
----
<a href="https://openshift.redhat.com/app/console/create?template=nodejs-mongodb-example&templateParamsMap={"SOURCE_REPOSITORY_URL"%3A"https%3A%2F%2Fgithub.com%2Fopenshift%2Fnodejs-ex.git"}"><img alt="LAUNCH ON OpenShift" src="http://launch-shifter.rhcloud.com/launch/light/LAUNCH_ON.svg" /></a>
----
====
