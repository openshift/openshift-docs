:_mod-docs-content-type: ASSEMBLY
include::_attributes/common-attributes.adoc[]
[id="using-tekton-results-for-openshift-pipelines-observability"]
= Using {tekton-results} for {pipelines-shortname} observability
:context: using-tekton-results-for-openshift-pipelines-observability

toc::[]

[role="_abstract"]
{tekton-results} is a service that archives the complete information for every pipeline run and task run. You can prune the `PipelineRun` and `TaskRun` resources as necessary and use the {tekton-results} API or the `opc` command line utility to access their YAML manifests as well as logging information.

include::modules/op-results-concepts.adoc[leveloffset=+1]

include::modules/op-configuring-results.adoc[leveloffset=+1]

include::modules/op-results-log-forward.adoc[leveloffset=+2]
include::modules/op-results-db.adoc[leveloffset=+2]
include::modules/op-configuring-retention-policy-results.adoc[leveloffset=+2]

[id="querying-using-opc_using-tekton-results-for-openshift-pipelines-observability"]
== Querying {tekton-results} for results and records

You can use the `opc` command line utility to query {tekton-results} for results and records. To install the `opc` command line utility, install the package for the `tkn` command line utility. For instructions about installing this package, see xref:../tkn_cli/installing-tkn.adoc#installing-tkn[Installing tkn].

You can use the names of records and results to retrieve the data in them.

You can search for results and records using Common Expression Language (CEL) queries. These searches display the UUIDs of the results or records. You can use the provided examples to create queries for common search types. You can also use reference information to create other queries.

include::modules/op-prepare-opc-for-results.adoc[leveloffset=+2]

include::modules/op-query-results-name.adoc[leveloffset=+2]

include::modules/op-results-search-results.adoc[leveloffset=+2]

include::modules/op-results-search-records.adoc[leveloffset=+2]

include::modules/op-results-reference-results.adoc[leveloffset=+2]

include::modules/op-results-reference-records.adoc[leveloffset=+2]

[role="_additional-resources"]
[id="additional-resources_{context}"]
. Additional resources
* link:https://cel.dev/[Common Expression Language (CEL)]

[id="querying-pipelinerun-tasktun_using-tekton-results-for-openshift-pipelines-observability"]
== Querying results and logs by the names of pipeline runs and task runs

You can use the `opc` command line utility to query {tekton-results} for lists of pipeline runs and tasks runs and then retrieve manifest and log information using the names of pipeline runs and tasks runs.

This approach requires different configuration of the `opc` command line utility, compared to queries for results and records.

:FeatureName: Querying results and logs by the names of pipeline runs and task runs
include::snippets/technology-preview.adoc[]

include::modules/op-results-opc-config.adoc[leveloffset=+2]

include::modules/op-results-opc-pipelinerunlist.adoc[leveloffset=+2]

include::modules/op-results-opc-taskrunlist.adoc[leveloffset=+2]

include::modules/op-results-opc-pipelinerunresults.adoc[leveloffset=+2]

include::modules/op-results-opc-taskrunresults.adoc[leveloffset=+2]

include::modules/op-results-opc-shortnames.adoc[leveloffset=+2]
