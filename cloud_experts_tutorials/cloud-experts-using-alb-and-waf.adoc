:_mod-docs-content-type: ASSEMBLY
[id="cloud-experts-using-alb-and-waf"]
= Tutorial: Using AWS WAF and AWS ALBs to protect {product-title} workloads

include::_attributes/attributes-openshift-dedicated.adoc[]
:context: cloud-experts-using-alb-and-waf

toc::[]

[role="_abstract"]
AWS WAF is a web application firewall that lets you monitor the HTTP and HTTPS requests that are forwarded to your protected web application resources.

You can use an AWS Application Load Balancer (ALB) to add a Web Application Firewall (WAF) to your {product-title} workloads. Using an external solution protects {product-title} resources from experiencing denial of service due to handling the WAF.

[IMPORTANT]
====
It is recommended that you use the more flexible xref:../cloud_experts_tutorials/cloud-experts-using-cloudfront-and-waf.adoc#cloud-experts-using-cloudfront-and-waf[CloudFront method] unless you absolutely must use an ALB based solution.
====

[id="prerequisites_{context}"]
== Prerequisites

* Multiple availability zone (AZ) {product-title} cluster.
+
[NOTE]
====
AWS ALBs require at least two _public_ subnets across AZs, link:https://docs.aws.amazon.com/elasticloadbalancing/latest/application/application-load-balancers.html#availability-zones[per the AWS documentation]. For this reason, only multiple AZ {product-title} clusters can be used with ALBs.
====
+
* You have access to the OpenShift CLI (`oc`).
* You have access to the AWS CLI (`aws`).

include::modules/cloud-experts-using-alb-and-waf-environment-setup.adoc[leveloffset=+2]
include::modules/cloud-experts-using-alb-and-waf-aws-vpc-and-subnets.adoc[leveloffset=+2]
include::modules/cloud-experts-using-alb-and-waf-deploy-aws-load-balancer-operator.adoc[leveloffset=+1]
include::modules/cloud-experts-using-alb-and-waf-deploy-sample-application.adoc[leveloffset=+1]
include::modules/cloud-experts-using-alb-and-waf-configure-aws-waf.adoc[leveloffset=+1]

[role="_additional-resources"]
[id="additional-resources_{context}"]
== Additional resources

* link:https://youtu.be/-HorEsl2ho4[Adding Extra Security with AWS WAF, CloudFront and ROSA | Amazon Web Services on YouTube]