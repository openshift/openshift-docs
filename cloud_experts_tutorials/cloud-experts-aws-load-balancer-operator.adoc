:_mod-docs-content-type: ASSEMBLY
[id="cloud-experts-aws-load-balancer-operator"]
= Tutorial: AWS Load Balancer Operator on {product-title}

include::_attributes/attributes-openshift-dedicated.adoc[]
:context: cloud-experts-aws-load-balancer-operator

toc::[]

include::snippets/snip-mobb-support-statement.adoc[leveloffset=+1]

[TIP]
====
Load Balancers created by the AWS Load Balancer Operator cannot be used for xref:../networking/ingress_load_balancing/routes/nw-configuring-routes.adoc#route-configuration[OpenShift Routes], and should only be used for individual services or ingress resources that do not need the full layer 7 capabilities of an OpenShift Route.
====

[role="_abstract"]
The link:https://kubernetes-sigs.github.io/aws-load-balancer-controller/[AWS Load Balancer Controller] manages AWS Elastic Load Balancers for a {product-title} cluster. The controller provisions link:https://docs.aws.amazon.com/elasticloadbalancing/latest/application/introduction.html[AWS Application Load Balancers (ALB)] when you create Kubernetes Ingress resources and link:https://docs.aws.amazon.com/elasticloadbalancing/latest/network/introduction.html[AWS Network Load Balancers (NLB)] when implementing Kubernetes Service resources with a type of LoadBalancer.

Compared with the default AWS in-tree load balancer provider, this controller is developed with advanced annotations for both ALBs and NLBs. Some advanced use cases are:

* Using native Kubernetes Ingress objects with ALBs
* Integrate ALBs with the AWS Web Application Firewall (WAF) service
+
[NOTE]
====
WAFv1, WAF classic, is no longer supported. Use WAFv2.
====
+
* Specify custom NLB source IP ranges
* Specify custom NLB internal IP addresses

The link:https://github.com/openshift/aws-load-balancer-operator[AWS Load Balancer Operator] is used to used to install, manage and configure an instance of `aws-load-balancer-controller` in a {product-title} cluster.

[id="prerequisites_{context}"]
== Prerequisites

[NOTE]
====
AWS ALBs require a multi-AZ cluster, as well as three public subnets split across three AZs in the same VPC as the cluster. This makes ALBs unsuitable for many PrivateLink clusters. AWS NLBs do not have this restriction.
====

ifndef::openshift-rosa-hcp[]
* xref:../rosa_install_access_delete_clusters/rosa-sts-creating-a-cluster-quickly.adoc#rosa-sts-creating-a-cluster-quickly[A multi-AZ {product-title} cluster]
endif::openshift-rosa-hcp[]
ifdef::openshift-rosa-hcp[]
* xref:../rosa_hcp/rosa-hcp-sts-creating-a-cluster-quickly.adoc#rosa-hcp-sts-creating-a-cluster-quickly[A multi-AZ {product-title} cluster]
endif::openshift-rosa-hcp[]
* BYO VPC cluster
* AWS CLI
* OC CLI

include::modules/cloud-experts-aws-load-balancer-operator-environment.adoc[leveloffset=+2]
include::modules/cloud-experts-aws-load-balancer-operator-aws-vpc-subnets.adoc[leveloffset=+2]
include::modules/cloud-experts-aws-load-balancer-operator-install.adoc[leveloffset=+1]
include::modules/cloud-experts-aws-load-balancer-operator-validating.adoc[leveloffset=+1]
include::modules/cloud-experts-aws-load-balancer-operator-cleanup.adoc[leveloffset=+1]