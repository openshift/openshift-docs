:_mod-docs-content-type: ASSEMBLY
[id="telco-hub-reference-design-specification"]
= Telco management hub reference design specifications
include::_attributes/common-attributes.adoc[]
:context: telco-hub-rds

toc::[]

The telco hub cluster reference design specifications (RDS) captures the recommended, tested, and supported configurations to get reliable and repeatable performance for clusters running the telco hub cluster profile.

The hub cluster RDS describes the configuration for clusters running on commodity hardware to provision and deploy managed clusters at scale with {ztp} methodologies.

include::modules/telco-hub-architecture-overview.adoc[leveloffset=+1]

include::modules/telco-hub-telco-management-cluster-use-model.adoc[leveloffset=+1]

[id="telco-hub-telco-management-cluster-use-model"]
== Telco management hub cluster use model

The hub cluster provides managed cluster installation, configuration and ongoing configuration management for Telco application and workload clusters.

[role="_additional-resources"]
.Additional resources
* For more information about core clusters or far edge clusters that host RAN distributed unit (DU) workloads, see the following:
** xref:../scalability_and_performance/telco-core-rds.adoc#telco-core-ref-design-specs[Telco core RDS]
** xref:../scalability_and_performance/telco-ran-du-rds.adoc#telco-ran-du-ref-design-specs[Telco RAN DU RDS]

* For more information about lifecycle management for the fleet of managed clusters see:
** xref:../edge_computing/image_based_upgrade/cnf-understanding-image-based-upgrade.adoc#cnf-understanding-image-based-upgrade[Image-based upgrade for single-node OpenShift clusters]
** xref:../edge_computing/cnf-talm-for-cluster-upgrades.adoc#cnf-talm-for-cluster-updates[Updating managed clusters with the Topology Aware Lifecycle Manager]
** xref:../edge_computing/day_2_core_cnf_clusters/updating/telco-update-welcome.adoc#telco-update-welcome[Upgrading a telco core CNF cluster]

* For more information about declarative cluster provisioning with {ztp} see:
**xref:../edge_computing/ztp-deploying-far-edge-sites.adoc#ztp-deploying-far-edge-sites[Installing managed clusters with RHACM and SiteConfig resources]

* For more information about observability metrics and alerts, see:
** link:https://docs.redhat.com/en/documentation/red_hat_advanced_cluster_management_for_kubernetes/2.13/html-single/about/index#multicluster-architecture[Multicluster architecture]
** link:https://docs.redhat.com/en/documentation/red_hat_advanced_cluster_management_for_kubernetes/2.13/html-single/about/index#observability-arch[Observability]

include::modules/telco-hub-engineering-considerations.adoc[leveloffset=+1]

[id="telco-hub-deployment-components"]
== Telco hub cluster reference CRs

The following sections detail the custom resources (CRs) that you use to configure the hub cluster with {rh-rhacm}.

include::modules/telco-hub-crs-advanced-cluster-management.adoc[leveloffset=+2]

include::modules/telco-hub-crs-installation.adoc[leveloffset=+2]

include::modules/telco-hub-crs-image-mirroring.adoc[leveloffset=+2]

include::modules/telco-hub-crs-container-registry.adoc[leveloffset=+2]

include::modules/telco-hub-crs-gitops-ztp.adoc[leveloffset=+2]

include::modules/telco-hub-crs-logging.adoc[leveloffset=+2]

include::modules/telco-hub-crs-storage.adoc[leveloffset=+2]

include::modules/telco-hub-cluster-topology.adoc[leveloffset=+1]

include::modules/telco-hub-networking.adoc[leveloffset=+1]


[role="_additional-resources"]
.Additional resources

* xref:../disconnected/installing.adoc#installing-disconnected-environments[Installing a cluster in a disconnected environment]
* xref:../disconnected/using-olm.adoc#olm-restricted-networks[Using Operator Lifecycle Manager on restricted networks]
* xref:../edge_computing/ztp-preparing-the-hub-cluster.adoc#ztp-configuring-the-cluster-for-a-disconnected-environment_ztp-preparing-the-hub-cluster[Configuring the hub cluster to use a disconnected mirror registry]
* xref:../networking/cidr-range-definitions.adoc#cidr-range-definitions[CIDR range definitions]
* xref:../installing/overview/index.adoc#ocp-installation-overview[{product-title} installation overview]
* xref:../networking/understanding-networking.adoc#understanding-networking[Understanding networking]
* link:https://docs.redhat.com/en/documentation/red_hat_advanced_cluster_management_for_kubernetes/2.13/html-single/networking/index[Networking in {rh-rhacm}]

include::modules/telco-hub-memory-and-cpu-requirements.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* link:https://docs.redhat.com/en/documentation/openshift_container_platform/4.18/html/scalability_and_performance/index[Scaling your OpenShift Container Platform cluster and tuning performance in production environments]
* xref:../scalability_and_performance/index.adoc#index[Scaling your {product-title} cluster and tuning performance in production environments]
* link:https://docs.redhat.com/en/documentation/red_hat_advanced_cluster_management_for_kubernetes/2.13/html/install/installing#sizing-your-cluster[Sizing your cluster]

include::modules/telco-hub-storage-requirements.adoc[leveloffset=+1]

include::modules/telco-hub-assisted-service.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

* link:https://docs.redhat.com/en/documentation/red_hat_advanced_cluster_management_for_kubernetes/2.13/html/clusters/cluster_mce_overview#enable-cim-disconnected[Enabling central infrastructure management in disconnected environments]

include::modules/telco-hub-acm-observability.adoc[leveloffset=+2]

include::modules/telco-hub-storage-considerations.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

* xref:../storage/understanding-persistent-storage.adoc#persistent-storage-overview_understanding-persistent-storage[Persistent storage overview]
* link:https://docs.redhat.com/en/documentation/red_hat_openshift_data_foundation/4.18/html/red_hat_openshift_data_foundation_architecture/index[{rh-storage-first} architecture]
* xref:../storage/persistent_storage/persistent_storage_local/persistent-storage-local.adoc#persistent-storage-using-local-volume[Persistent storage using local volumes]

include::modules/telco-hub-git-repository.adoc[leveloffset=+1]

include::modules/telco-hub-hub-cluster-openshift-deployment.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* xref:../installing/overview/index.adoc#installation-overview_ocp-installation-overview[{product-title} installation overview]
* xref:../installing/installing_with_agent_based_installer/installing-with-agent-based-installer.adoc#installing-with-agent-based-installer[Installing a cluster with customizations]
* xref:../installing/installing_with_agent_based_installer/preparing-to-install-with-agent-based-installer.adoc#preparing-to-install-with-agent-based-installer[Preparing to install with the Agent-based Installer]

include::modules/telco-hub-hub-cluster-day-2-operators.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* link:https://access.redhat.com/articles/7073065[Red Hat Advanced Cluster Management for Kubernetes 2.11 Support Matrix]
* link:https://access.redhat.com/support/policy/updates/openshift_operators[OpenShift Operator lifecycles]

* For more information about telco hub cluster update requirements, see:
** link:https://docs.redhat.com/en/documentation/openshift_container_platform/4.18/html/edge_computing/ztp-preparing-the-hub-cluster#ztp-gitops-ztp-max-spoke-clusters_ztp-preparing-the-hub-cluster[Recommended hub cluster specifications and managed cluster limits for {ztp}].
** link:https://access.redhat.com/articles/7073065[Red Hat Advanced Cluster Management for Kubernetes 2.11 Support Matrix]
** link:https://access.redhat.com/support/policy/updates/openshift_operators[OpenShift Operator Life Cycles]

* For more information about updating the hub cluster, see:
** link:https://docs.redhat.com/en/documentation/openshift_container_platform/4.18/html/updating_clusters/understanding-openshift-updates-1#understanding-openshift-updates[Introduction to OpenShift updates]
** link:https://docs.redhat.com/en/documentation/red_hat_advanced_cluster_management_for_kubernetes/2.13/html-single/install/index#upgrading-hub[Upgrading your hub cluster]
** link:https://docs.redhat.com/en/documentation/openshift_container_platform/4.18/html/edge_computing/ztp-updating-gitops[Updating {ztp}]

include::modules/telco-hub-observability.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* For more information about observability, see:
** link:https://docs.redhat.com/en/documentation/red_hat_advanced_cluster_management_for_kubernetes/2.12/html-single/observability/index#exporting-metrics-to-external-endpoints[Exporting metrics to external endpoints]
** link:https://docs.redhat.com/en/documentation/red_hat_advanced_cluster_management_for_kubernetes/2.12/html-single/observability/index#enabling-observability-service[Enabling the Observability service]

* For more information about custom metrics, see link:https://docs.redhat.com/en/documentation/red_hat_advanced_cluster_management_for_kubernetes/2.12/html-single/observability/index#adding-custom-metrics[Adding custom metrics]

* For more information about forwarding alerts to other external systems, see link:https://docs.redhat.com/en/documentation/red_hat_advanced_cluster_management_for_kubernetes/2.12/html-single/observability/index#forward-alerts[Forwarding alerts]

* For more information about CPU and memory requirements see: link:https://docs.redhat.com/en/documentation/red_hat_advanced_cluster_management_for_kubernetes/2.12/html-single/observability/index#observability-pod-capacity-requests[Observability pod capacity requests]

For more information about custom metrics, see link:https://docs.redhat.com/en/documentation/red_hat_advanced_cluster_management_for_kubernetes/2.12/html-single/observability/index#adding-custom-metrics[Adding custom metrics]

* For more information about custom dashboards, see link:https://docs.redhat.com/en/documentation/red_hat_advanced_cluster_management_for_kubernetes/2.12/html-single/observability/index#using-grafana-dashboards[Using Grafana dashboards]

[id="telco-hub-managed-clusters-lifecycle-management"]
== Managed cluster lifecycle management

To provision and manage sites at the far edge of the network, you use {ztp} in a hub-and-spoke architecture, where a single hub cluster manages many managed clusters.

Lifecycle management for spoke clusters can be divided into two different stages: cluster deployment and site configuration.

[role="_additional-resources"]
.Additional resources

* For more information about cluster deployment and site configuration see link:https://docs.redhat.com/en/documentation/openshift_container_platform/4.18/html/edge_computing/ztp-deploying-far-edge-clusters-at-scale[Challenges of the network far edge]

include::modules/telco-hub-managed-cluster-deployment.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* link:https://docs.redhat.com/en/documentation/red_hat_advanced_cluster_management_for_kubernetes/2.12/html/multicluster_engine_operator_with_red_hat_advanced_cluster_management/siteconfig-intro#siteconfig-intro[SiteConfig]
* link:https://docs.redhat.com/en/documentation/red_hat_advanced_cluster_management_for_kubernetes/2.12/html/apis/apis#rhacm-docs_apis_clusterinstance_jsonclusterinstance[ClusterInstance]
* link:https://docs.redhat.com/en/documentation/openshift_container_platform/4.18/html/edge_computing/ztp-deploying-far-edge-sites#ztp-creating-the-site-secrets_ztp-deploying-far-edge-sites[Creating the managed bare-metal host secrets]

include::modules/telco-hub-managed-cluster-updates-and-upgrades.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

* link:https://docs.redhat.com/en/documentation/red_hat_advanced_cluster_management_for_kubernetes/2.12/html/governance/governance#configuration-policy-yaml[Configuration policy YAML structure]
* link:https://docs.redhat.com/en/documentation/openshift_container_platform/4.18/html/edge_computing/cnf-talm-for-cluster-updates#talo-about-cgu-crs_cnf-topology-aware-lifecycle-manager[About the ClusterGroupUpgrade CR]
* link:https://docs.redhat.com/en/documentation/openshift_container_platform/4.18/html/edge_computing/image-based-upgrade-for-single-node-openshift-clusters#cnf-understanding-image-based-upgrade[Understanding the image-based upgrade for {sno} clusters]
* link:https://docs.redhat.com/en/documentation/openshift_container_platform/4.18/html/edge_computing/image-based-upgrade-for-single-node-openshift-clusters#ztp-image-based-upgrade[Performing an image-based upgrade for {sno} clusters using {ztp}]

include::modules/telco-hub-hub-disaster-recovery.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

* See link:https://docs.redhat.com/en/documentation/red_hat_advanced_cluster_management_for_kubernetes/2.12/html-single/business_continuity/index#business-cont-overview[Business continuity] for more information about disaster recovery solutions for hub clusters.

[id="telco-hub-hub-components"]
== Hub cluster components

The following sections detail the various software components that you install and configure on the hub cluster.

include::modules/telco-ran-red-hat-advanced-cluster-management-rhacm.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

* For more information, see link:https://docs.redhat.com/en/documentation/openshift_container_platform/4.18/html/edge_computing/image-based-upgrade-for-single-node-openshift-clusters#cnf-understanding-image-based-upgrade[Understanding the image-based upgrade for {sno} clusters]

include::modules/telco-ran-topology-aware-lifecycle-manager-talm.adoc[leveloffset=+2]

include::modules/telco-ran-gitops-operator-and-ztp-plugins.adoc[leveloffset=+2]

include::modules/telco-ran-local-storage-operator.adoc[leveloffset=+2]

include::modules/telco-core-openshift-data-foundation.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

* For more information about {rh-storage} and IPv4 addressing, see link:https://docs.redhat.com/en/documentation/red_hat_openshift_data_foundation/4.13/html-single/4.13_release_notes/index#support_openshift_dual_stack_with_odf_using_ipv4[Support OpenShift dual stack with OpenShift Data Foundation using IPv4]

include::modules/telco-core-logging.adoc[leveloffset=+2]

include::modules/telco-hub-oadp-operator.adoc[leveloffset=+2]

include::modules/ztp-telco-hub-cluster-software-versions.adoc[leveloffset=+1]
