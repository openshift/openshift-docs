:_mod-docs-content-type: ASSEMBLY
[id="upgrade-helm"]
= Upgrading using Helm charts
include::modules/common-attributes.adoc[]
:context: upgrade-helm

toc::[]

[role="_abstract"]
You must follow a specific upgrade path for {product-title-short} depending on the release of {product-title-short} that you are running. You must also back up your Central database before updating the Helm chart and performing the upgrade.

If you have installed {product-title-short} by using Helm charts, to upgrade to the latest version of {product-title-short} perform the following steps:

. Back up the Central database.
. Optionally, optimize Central's database and Persistent Volume Claims (PVC).
. Optionally, generate a `values-private.yaml` configuration file containing root certificates for the central-services Helm chart.
. Update the Helm chart.
. Run the `helm upgrade` command.

[IMPORTANT]
====
To ensure optimal functionality, use the same version for your secured-cluster-services Helm chart and central-services Helm chart.
====

include::modules/back-up-central-database.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources
* xref:../backup_and_restore/backing-up-acs.adoc#on-demand-backups-roxctl[On-demand backups by using the roxctl CLI]
* xref:../cli/installing-the-roxctl-cli.adoc#installing-the-roxctl-cli[Installing the roxctl CLI]

include::modules/helm-optimize-central-db-and-pvc.adoc[leveloffset=+1]

include::modules/helm-generate-root-certificates.adoc[leveloffset=+1]

include::modules/updating-helm-repository.adoc[leveloffset=+1]

[role="_additional-resources"]
== Additional resources
* xref:../installing/installing_ocp/install-central-ocp.adoc#install-using-helm-no-customizations-ocp[Installing Central using Helm charts]
* xref:../installing/installing_ocp/install-secured-cluster-ocp.adoc#installing-sc-helm[Installing {product-title-short} on secured clusters by using Helm charts]

include::modules/upgrade-helm-chart.adoc[leveloffset=+1]

include::modules/rollback-helm-upgrade.adoc[leveloffset=+1]
