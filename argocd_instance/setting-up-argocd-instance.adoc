:_mod-docs-content-type: ASSEMBLY
include::_attributes/common-attributes.adoc[]
[id="setting-up-argocd-instance"]
= Setting up an Argo CD instance
:context: setting-up-argocd-instance

toc::[]

By default, {gitops-title} installs an instance of Argo CD in the `openshift-gitops` namespace with additional permissions for managing certain cluster-scoped resources. This default Argo CD instance is also called as the default cluster-scoped instance.

[NOTE]
====
For {gitops-shortname} version 1.13 and later, the route TLS termination is set as default to the `reencrypt` mode for both the default and user-defined Argo CD instances. TLS connections to the Argo CD instances now receive the default ingress certificate that is set in {OCP}, instead of the self-signed Argo CD certificate.

You can modify the route TLS termination policy by configuring the `.spec.server.route.tls` field of the Argo CD CR.
====

To manage cluster configurations or deploy applications, you can install and deploy a new user-defined Argo CD instance. By default, any new user-defined instance has permissions to manage resources only in the namespace where it is deployed.

// Installing an Argo CD instance
include::modules/gitops-argo-cd-installation.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources 
* link:https://argocd-operator.readthedocs.io/en/latest/usage/routes/#setting-tls-modes-for-routes[Configuring the route TLS termination]
* xref:../argocd_instance/argo-cd-cr-component-properties.adoc#argo-cd-properties_argo-cd-cr-component-properties[Argo CD custom resource properties]
* link:https://docs.openshift.com/container-platform/latest/rest_api/network_apis/route-route-openshift-io-v1.html#spec-tls[Specification for TLS termination configuration]

// Enabling replicas for Argo CD server and repo server
include::modules/gitops-enable-replicas-for-argo-cd-server.adoc[leveloffset=+1]

// Deploying resources to a different namespace
include::modules/gitops-deploy-resources-different-namespaces.adoc[leveloffset=+1]

// Customizing the Argo CD console link
include::modules/gitops-customize-argo-cd-consolelink.adoc[leveloffset=+1]
