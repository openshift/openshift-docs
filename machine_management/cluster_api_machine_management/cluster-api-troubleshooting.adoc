:_mod-docs-content-type: ASSEMBLY
[id="cluster-api-troubleshooting"]
= Troubleshooting clusters that use the Cluster API
include::_attributes/common-attributes.adoc[]
:context: cluster-api-troubleshooting

toc::[]

[role="_abstract"]
To help avoid or recover from issues in a cluster that supports migrating resources to use a different authoritative API, you can learn how to recognize these issues.
Generally, troubleshooting steps for problems with the Cluster API are similar to those steps for problems with the Machine API.

:FeatureName: Managing machines with the Cluster API
include::snippets/technology-preview.adoc[]

The {cluster-capi-operator} and its operands are provisioned in the `openshift-cluster-api` namespace, whereas the Machine API uses the `openshift-machine-api` namespace.
When using `oc` commands that reference a namespace, be sure to reference the correct one.

//Returning the intended machines when using the CLI
include::modules/ts-capi-cli-reference-intended-objects.adoc[leveloffset=+1]

//Duplicated machine set and machine resources
include::modules/ts-capi-sync-list-duplicate-resources.adoc[leveloffset=+1]

//Unexpected resource deletion behavior
include::modules/ts-capi-migrate-unexpected-deletion-behavior.adoc[leveloffset=+1]

//Troubleshooting resource migration
include::modules/ts-capi-resource-migration.adoc[leveloffset=+1]

//Authoritative API types of compute machines
include::modules/machine-set-authoritative-api-machines.adoc[leveloffset=+2]

//Incomplete synchronization of labels and annotations
include::modules/ts-capi-migrate-sync-label-annotation.adoc[leveloffset=+2]

//Migrating {aws-short} cloud credentials
//KCS draft not ready for publication
//include::modules/ts-capi-migrate-aws-creds.adoc[leveloffset=+2]

//Unsupported configuration options
include::modules/ts-capi-migrate-unsupported-features.adoc[leveloffset=+2]
