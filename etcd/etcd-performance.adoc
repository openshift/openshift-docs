:_mod-docs-content-type: ASSEMBLY
[id="etcd-performance"]
include::_attributes/common-attributes.adoc[]
= Ensuring reliable etcd performance and scalability
:context: etcd-performance

toc::[]

To ensure optimal performance with etcd, it's important to understand the conditions that affect performance, including node scaling, leader election, log replication, tuning, latency, network jitter, peer round trip time, database size, and Kubernetes API transaction rates.

// Leader election and log replication
include::modules/etcd-leader-election-log-replication.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources
* link:https://etcd.io/docs/v3.5/learning/design-learner/[The etcd learner design]
* link:https://etcd.io/docs/v3.5/op-guide/failures/[Failure modes]

//Node scaling for etcd
include::modules/etcd-node-scaling.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources
* link:https://docs.redhat.com/en/documentation/assisted_installer_for_openshift_container_platform/2025/html/installing_openshift_container_platform_with_the_assisted_installer/expanding-the-cluster#adding-hosts-with-the-api_expanding-the-cluster[Adding hosts with the API]
* link:https://docs.redhat.com/en/documentation/assisted_installer_for_openshift_container_platform/2025/html/installing_openshift_container_platform_with_the_assisted_installer/expanding-the-cluster#installing-control-plane-node-healthy-cluster_expanding-the-cluster[Replacing a control plane node in a healthy cluster]
* link:https://docs.redhat.com/en/documentation/assisted_installer_for_openshift_container_platform/2024/html/installing_openshift_container_platform_with_the_assisted_installer/expanding-the-cluster#installing-control-plane-node-healthy-cluster_expanding-the-cluster[Expanding the cluster]
* xref:../backup_and_restore/control_plane_backup_and_restore/disaster_recovery/scenario-2-restoring-cluster-state.adoc#dr-restoring-cluster-state[Restoring to a previous cluster state]

// Effects of disk latency on etcd
include::modules/etcd-disk-latency.adoc[leveloffset=+1]

// Monitoring consensus latency for etcd
include::modules/etcd-consensus-latency.adoc[leveloffset=+1]

//Moving etcd to a different disk
include::modules/move-etcd-different-disk.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources
* xref:../architecture/architecture-rhcos.adoc#architecture-rhcos[Red Hat Enterprise Linux CoreOS (RHCOS)]

//Defragmenting etcd data
include::modules/etcd-defrag.adoc[leveloffset=+1]

//Setting tuning parameters for etcd
include::modules/etcd-tuning-parameters.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources
* xref:../nodes/clusters/nodes-cluster-enabling-features.adoc#nodes-cluster-enabling-features-about_nodes-cluster-enabling[Understanding feature gates]

// OCP timer tunables for etcd
include::modules/etcd-timer-tunables.adoc[leveloffset=+1]

// Determinging the size of the etcd database and understanding its affects
include::modules/etcd-database-size.adoc[leveloffset=+1]

//Increasing the database size for etcd
include::modules/etcd-increase-db.adoc[leveloffset=+1]

// Measuring network jitter between control plane nodes
include::modules/etcd-network-latency-jitter.adoc[leveloffset=+1]

// How etcd peer round trip time affects performance
include::modules/etcd-peer-round-trip.adoc[leveloffset=+1]

// Determining Kubernetes API transaction rate for your environment
include::modules/etcd-determine-kube-api-transaction-rate.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources
* link:https://kube-burner.github.io/kube-burner-ocp/latest/[kube-burner-ocp documentation]