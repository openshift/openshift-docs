:_mod-docs-content-type: ASSEMBLY
[id="etcd-guidance-span"]
include::_attributes/common-attributes.adoc[]
= Guidance for clusters that span data centers
:context: etcd-guidance-span

toc::[]

Red Hat strongly recommends a deployment model where {product-title} clusters are deployed within a data center, but also acknowledges that there can be scenarios where a provider can use a deployment model where a cluster can span across data centers. This document outlines considerations when exploring the use of cluster deployments that span many data centers and describes important metrics that affect the supportability of such deployments. The design of such deployments should adhere to these guidelines for the product to function optimally and ensure the highest quality of support with the appropriate product support subscriptions.

[WARNING]
====
A cluster deployment that spans many data centers extends the cluster as a single failure domain across locations and should not be considered a replacement for a disaster recovery plan.
====

Clusters with cluster deployments that span many data centers are bound by standard Red Hat {product-title} support guidance. See the link:https://access.redhat.com/support/policy/updates/openshift[Red Hat {product-title} Lifecycle] and link:https://access.redhat.com/support/offerings/production/soc[Red Hat Production Support Scope of Coverage] for more information.

It is not recommended to deploy an {product-title} cluster that spans many sites. If you need to be in many data centers or regions, deploy one cluster per region or site and use tools such as Red Hat Advanced Cluster Management for Kubernetes (ACM) to manage these clusters and deployments.

Some {product-title} platforms have specific support for many data center deployments. Check the platform-specific product documentation and release notes for details. Other platforms can span data centers, depending on the quality of the network connectivity between nodes. For more information, see link:https://access.redhat.com/articles/7010406[Understanding etcd and the tunables/conditions affecting performance].

When implementing a cluster deployment that spans many data centers, you should strive to implement the practices detailed in link:https://access.redhat.com/articles/3221001[Red Hat {product-title} High Availability, and Recommended Practices]. An alternative to multisite deployments is to deploy one {product-title} cluster per site, managed by ACM.

// Deployment caveats for multisite clusters
include::modules/etcd-deployment-caveats-span.adoc[leveloffset=+1]

// Infrastructure as a Service (IaaS) or cloud provider considerations
include::modules/etcd-iaas-cloud-provider-considerations-span.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources
* link:https://access.redhat.com/articles/7010220[Understanding and Validating MTU setting with {product-title} 4.x]
* link:https://docs.redhat.com/en/documentation/red_hat_openshift_data_foundation/4.19/html-single/configuring_openshift_data_foundation_disaster_recovery_for_openshift_workloads/index[Configuring {rh-storage} Disaster Recovery for OpenShift Workloads]

// Site recommendations
include::modules/etcd-site-recommendations-span.adoc[leveloffset=+1]

// Requirements for etcd, networking, and storage
include::modules/etcd-requirements-etcd-hardware-span.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources
* link:https://access.redhat.com/articles/7010406[Understanding etcd and the tunables/conditions affecting performance]
* link:https://access.redhat.com/articles/7010220[Understanding and Validating MTU setting with {product-title} 4.x]
* link:https://access.redhat.com/articles/7010406#etcd-peer-round-trip-time-impacts-on-performance-6[etcd peer round trip time]
* link:https://access.redhat.com/articles/7010406#effects-of-database-size-on-etcd-7[etcd database size]

// Workload placement considerations
include::modules/etcd-workload-placement-considerations-span.adoc[leveloffset=+1]