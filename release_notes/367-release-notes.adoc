[id="367-release-notes"]
= Red Hat Advanced Cluster Security for Kubernetes 3.67
include::modules/common-attributes.adoc[]
:context: 367-release-notes

toc::[]

{product-title} (RHACS) 3.67 includes feature enhancements, bug fixes, scale improvements, and other changes.

*Release date:* November 29, 2021

[id="new-features"]
== New features

[id="openshift-dedicated-support"]
=== OpenShift Dedicated support
{product-title} 3.67 is thoroughly tested and supported on OpenShift Dedicated on Amazon Web Services and Google Cloud Platform.

[id="use-ocp-oauth-as-identity-provider"]
=== Use {ocp} OAuth server as an identity provider
If you are using {product-title} with {ocp}, you can now configure the built-in {ocp} OAuth server as an identity provider for {product-title}. For more details, see xref:../operating/manage-user-access/configure-ocp-oauth.adoc[Configuring {ocp} Oauth server as an identity provider in {product-title}].

[id="enhancements-for-ci-outputs"]
=== Enhancements for CI outputs
Red Hat has improved the usability of {product-title} CI integrations. CI outputs now show additional detailed information about the vulnerabilities and the security policies responsible for broken builds.

[id="new-runtimeclass-policy-criteria"]
=== Runtime Class policy criteria
Users can now use RHACS to define the container runtime configuration that may be used to run a pod's containers using the *Runtime Class* policy criteria.

[id="important-bug-fixes"]
== Important bug fixes

* *ROX-7815*: Previously, when using RHACS with the Compliance Operator integration, RHACS did not respect or populate Compliance Operator `TailoredProfiles`. This has been fixed.
* *ROX-7254*: Previously, the *Alpine Linux package manager (APK) in Image* policy looked for the presence of `apk` package in the image rather than the `apk-tools` package. This issue has been fixed.

[id="important-system-changes"]
== Important system changes

* Scanner now identifies vulnerabilities in Ubuntu 21.10 images.

* The *Port exposure method* policy criteria now include `route` as an exposure method.

* The *OpenShift: Kubeadmin Secret Accessed* security policy now allows the OpenShift Compliance Operator to check for the existence of the `Kubeadmin` secret without creating a violation.

* The OpenShift Compliance Operator integration now supports using `TailoredProfiles`.

* The {product-title} Jenkins plugin now provides additional security information.

* When you enable the environment variable `ROX_NETWORK_ACCESS_LOG` for Central, the logs contain the `Request URI` and `X-Forwarded-For` header values.
+
[NOTE]
====
Red Hat recommends that you only use the `ROX_NETWORK_ACCESS_LOG` environment variable for debugging network connectivity issues.
====

* The default `uid:gid` pair for the Scanner image is now `65534:65534`.
{product-title} adds a new default `Scope Manager` role that includes minimum permissions to create and modify access scopes. For more information, see the xref:../operating/manage-user-access/manage-role-based-access-control-3630.adoc#rbac-system-roles-3630_manage-role-based-access-control[System roles] topic.

* If `microdnf` is part of an image or shows up in process execution, {product-title} reports it as a security violation for the `Red Hat Package Manager in Image` or the `Red Hat Package Manager Execution` security policies.

* In addition to manually uploading vulnerability definitions in offline mode, you can now upload definitions in online mode. {product-title} always uses the most recent vulnerability definitions.
+
[NOTE]
====
{product-title} ignores Kubernetes and Istio vulnerability definitions when you manually upload the vulnerability definitions in online mode.
====

* You can now format the output of the following `roxctl` CLI commands in `table`, `csv`, or `JSON` format:
** `image scan`
** `image check`
** `deployment check`

* You can now use a regular expression for the deployment name while specifying policy exclusions.


[id="image-versions"]
== Image versions

|===
| Image | Description | Current version

| Main
| Includes Central, Sensor, Admission Controller, and Compliance.
Also includes `roxctl` for use in continuous integration (CI) systems.
| registry.redhat.io/rh-acs/main:3.67.0

| Scanner
| Scans images and nodes.
| registry.redhat.io/rh-acs/scanner:2.21.0

| Scanner DB
| Stores image scan results and vulnerability definitions.
| registry.redhat.io/rh-acs/scanner-db:2.21.0

| Collector
| Collects runtime activity in Kubernetes or {ocp} clusters.
| registry.redhat.io/rh-acs/collector:3.5.0-latest
|===
