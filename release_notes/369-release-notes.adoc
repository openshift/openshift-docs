[id="release-notes-369"]
= Red Hat Advanced Cluster Security for Kubernetes 3.69
include::modules/common-attributes.adoc[]
:context: release-notes-369

toc::[]

{product-title} ({product-title-short}) 3.69 includes feature enhancements, bug fixes, scale improvements, and other changes.

*Release date:* March 21, 2022

[id="new-features-369"]
== New features

[id="released-in-version-3691"]
=== Released in version 3.69.1

Release date: April 6, 2022

[id="openshift-container-registry"]
==== Scanning of the integrated OpenShift Container Registry
{product-title} 3.69.1 includes a lightweight version of Scanner as part of the secured cluster services on {ocp} by default to more effectively scan the OpenShift Container Registry.
For other Kubernetes based environments, this Scanner is optional.
If you are using {ocp} and not using the {product-title}, Red Hat advises you to update your Helm charts to take advantage of these new capabilities.

[id="spring-security-vulnerabilities"]
==== Improved detection of Spring vulnerabilities
{product-title-short} 3.69.1 includes enhancements in Scanner to identify vulnerabilities in packages that follow the Spring naming conventions. Scanner now detects Spring packages impacted by the newly discovered critical vulnerabilities link:https://cve.mitre.org/cgi-bin/cvename.cgi?name=2022-22963[CVE-2022-22963] and link:https://cve.mitre.org/cgi-bin/cvename.cgi?name=2022-22965[CVE-2022-22965] (Spring4Shell).

[id="released-in-version-3690"]
=== Released in version 3.69.0

*Release date:* March 21, 2022

[id="new-policy-criteria"]
==== New policies to manage operational deployment readiness
With {product-title} 3.69, you can now set policies to define the operational readiness of a deployment.
New policies include checks for liveness and readiness probes and predefined replica counts.

[id="inactive-software-packages"]
==== Inactive software component identification
You can now quickly identify if a software package inside a container image is inactive.
You can use this information to consider removing the inactive software package as a hardening step or for vulnerability remediation.

[id="scanner-updates"]
==== Vulnerability scanning enhancements
Scanner includes the following new capabilities:

* Support for Alpine 3.15
* Scanner now identifies busybox as a base operating system.
* Ubuntu vulnerability reference links now point to the updated address link:https://ubuntu.com/security/[https://ubuntu.com/security/].

[id="important-bug-fixes-369"]
== Important bug fixes

* *ROX-9587*: Previously, emailed vulnerability reports were incompatible with some e-mail clients. This issue has been fixed.
* *ROX-9166*: Previously, snoozed CVEs that were unsnoozed were not reported in CI when scanning images. This issue has been fixed.
* *ROX-9400*: Previously, {product-title-short} did not remove the related service accounts when you deleted a cluster. This issue has been fixed.
* *ROX-9483*: Previously, certain search conditions using a process name could sometimes cause Central to stop responding. This issue has been fixed.

[id="important-system-changes-369"]
== Important system changes

* Red Hat has changed the default `grpcPort` in Scanner's configuration map to `8443`.
* Red Hat is deprecating the following API endpoints:

** `/v1/clusters-env/kernel-support-available`: Use `/v1/cluster-defaults` instead.
** `/v1/helm/cluster/add`: Use the Helm charts directly.
** Empty values for `role.access_scope_id` is deprecated in the `RoleService_CreateRole` and `RoleService_UpdateRole` methods for the `/v1/roles/` endpoint. It is now set to the unrestricted access scope ID `io.stackrox.authz.accessscope.unrestricted`.

[id="policy-workflow"]
=== Redesigned policy creation workflow
{product-title} 3.69 includes more intuitive and easier-to-use policy creation and editing workflows.

[id="sorting-and-filtering"]
=== Enhancements to sorting and filtering image vulnerabilities
{product-title} 3.69 includes new fields for vulnerabilities contained within an image that you use to sort and filter the vulnerabilities list.

[id="uefi-ebpf"]
=== Enhanced compatibility with UEFI secure boot
Collector is incompatible with UEFI secure boot when collecting runtime data using kernel modules.
In {product-title} 3.69, when Collector detects that the host is using UEFI secure boot, it automatically fails over to use EBPF probes to prevent service disruption.

[id="memory-limit-scanner"]
=== Scanner memory limit increases
Red Hat has increased the default Scanner memory limit from `3000` MiB to `4` GiB.

[id="deprecation-notices-369"]
== Deprecation Notice
Red Hat is deprecating some of the features in {product-title} 3.69. Red Hat will remove these deprecated features in the following release:

* {product-title} 3.71.0:

** *External authorization plug-in for scoped access control*. Use the existing in-product scoped access control.
** *Anchore*, *Tenable*, and *Docker Trusted Registry* integrations. The {product-title-short} scanner supersedes these integrations.
** *Alerts and Process Comments*.

* {product-title} 3.70.0:

** {product-title} will not allow deleting default policies. So rather than deleting, you can disable default policies that you do not need.
** The `/v1/policies` API endpoint response will not return the *field* response body parameter.

* In {product-title-short} 3.70, Red Hat will remove the support for security policies that do not have a `policyVersion`. Therefore, if you have externally stored older policies (without `policyVersion` or version prior to 1.1), you must convert them to use `policyVersion` 1.1. To do this, import the old policies into {product-title-short} and then export them again. You can check the `policyVersion` field for your stored policies to identify if they need conversion.

For any questions, please contact the Red Hat support team at support@redhat.com.

[id="image-versions-369"]
== Image versions

[%header,cols="1,1,2"]
|===
| Image | Description | Current version

| Main
| Includes Central, Sensor, Admission Controller, and Compliance.
Also includes `roxctl` for use in continuous integration (CI) systems.
| `registry.redhat.io/advanced-cluster-security/rhacs-main-rhel8:3.69.1`

| Scanner
| Scans images and nodes.
| `registry.redhat.io/advanced-cluster-security/rhacs-scanner-rhel8:3.69.1`

| Scanner DB
| Stores image scan results and vulnerability definitions.
| `registry.redhat.io/advanced-cluster-security/rhacs-scanner-db-rhel8:3.69.1`

| Collector
| Collects runtime activity in Kubernetes or {ocp} clusters.
| `registry.redhat.io/advanced-cluster-security/rhacs-collector-rhel8:3.69.1`
  `registry.redhat.io/advanced-cluster-security/rhacs-collector-slim-rhel8:3.69.1`
|===
