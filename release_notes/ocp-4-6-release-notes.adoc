[id="ocp-4-6-release-notes"]
= {product-title} {product-version} release notes
include::modules/common-attributes.adoc[]
:context: release-notes

toc::[]

Red Hat {product-title} provides developers and IT organizations with a hybrid
cloud application platform for deploying both new and existing applications on
secure, scalable resources with minimal configuration and management overhead.
{product-title} supports a wide selection of programming languages and
frameworks, such as Java, JavaScript, Python, Ruby, and PHP.

Built on Red Hat Enterprise Linux and Kubernetes, {product-title}
provides a more secure and scalable multi-tenant operating system for today's
enterprise-class applications, while delivering integrated application runtimes
and libraries. {product-title} enables organizations to meet security, privacy,
compliance, and governance requirements.

[id="ocp-4-6-about-this-release"]
== About this release

Red Hat {product-title}
(link:https://access.redhat.com/errata/RHBA-2020:1234[RHBA-2020:1234]) is now
available. This release uses link:https://v1-18.docs.kubernetes.io/docs/setup/release/notes/[Kubernetes 1.18] with CRI-O runtime. New features, changes, and known issues that pertain to
{product-title} {product-version} are included in this topic.

//Red Hat did not publicly release {product-title} 4.5.0 as the GA version and,
//instead, is releasing {product-title} 4.5.1 as the GA version.

{product-title} {product-version} clusters are available at
https://cloud.redhat.com/openshift. The {cloud-redhat-com}
application for {product-title} allows you to deploy OpenShift clusters to
either on-premise or cloud environments.

{product-title} {product-version} is supported on Red Hat Enterprise Linux 7.7 or
later, as well as {op-system-first} 4.5.

You must use {op-system} for the control plane, which are also known as master machines, and
can use either {op-system} or Red Hat Enterprise Linux 7.7 or later for
compute machines, which are also known as worker machines.

[IMPORTANT]
====
Because only Red Hat Enterprise Linux version 7.7 or later is supported for compute
machines, you must not upgrade the Red Hat Enterprise Linux compute machines to
version 8.
====

With the release of {product-title} 4.6, version 4.3 is now end of life. For
more information, see the
link:https://access.redhat.com/support/policy/updates/openshift[Red Hat OpenShift Container Platform Life Cycle Policy].

[id="ocp-4-6-new-features-and-enhancements"]
== New features and enhancements

This release adds improvements related to the following components and concepts.

[id="ocp-4-6-notable-technical-changes"]
== Notable technical changes

{product-title} 4.6 introduces the following notable technical changes.

[id="ocp-4-6-osdk"]
==== Operator SDK v0.19.1
{product-title} 4.6 supports Operator SDK v0.19.1, which introduces the following notable technical changes:

* The command `run --local` has been deprecated in favor of `run local`.
* The commands `run --olm` and `--kubeconfig` have been deprecated in favor of` `run packagemanifests`.
* The default CRD version  has been changed from `apiextensions.k8s.io/v1beta1` to `apiextensions.k8s.io/v1` for commands that create or generate CRDs.
* The `--kubeconfig` flag has been added to the `<run|cleanup> packagemanifests` command.

Ansible-based Operator enhancements include:

* The Ansible Operator now includes a `healthz` endpoint and `liveness` probe.

Helm-based Operator enhancements include:

* Helm Operators can watch and reconcile when cluster-scoped release resources are changed.
* Helm Operators can now reconcile logic using three-way strategic merge patches for native Kubernetes objects so that array patch strategies are correctly honored and applied.
* Helm Operators have the default API version changed to `helm.operator-sdk/v1alpha1`.

[id="ocp-4-6-ovn-k8s-default-cni-np-uses-ovs-on-cluster-nodes"]
==== OVN-Kubernetes default CNI network provider now uses OVS installed on cluster nodes

The OVN-Kubernetes default Container Network Interface (CNI) network provider now uses the Open vSwitch (OVS) version installed on the cluster nodes. Previously, OVS ran in a container on each node, managed by a DaemonSet. Using the host OVS eliminates any possible downtime from upgrading the containerized version of OVS.

[id="ocp-4-6-deprecated-removed-features"]
== Deprecated and removed features

Some features available in previous releases have been deprecated or removed.

Deprecated functionality is still included in {product-title} and continues to
be supported; however, it will be removed in a future release of this product
and is not recommended for new deployments. For the most recent list of major
functionality deprecated and removed within {product-title} {product-version},
refer to the table below. Additional details for more fine-grained functionality
that has been deprecated and removed are listed after the table.

In the table, features are marked with the following statuses:

* *GA*: _General Availability_
* *DEP*: _Deprecated_
* *REM*: _Removed_

.Deprecated and removed features tracker
[cols="3,1,1,1",options="header"]
|====
|Feature |OCP 4.4 |OCP 4.5 |OCP 4.6

|Service Catalog
|DEP
|REM
|REM

|Template Service Broker
|DEP
|REM
|REM

|OperatorSources
|DEP
|DEP
|

|CatalogSourceConfigs
|DEP
|REM
|REM

|Operator Framework's Package Manifest Format
|DEP
|DEP
|

|v1beta1 CRDs
|GA
|DEP
|

|====

[id="ocp-4-6-deprecated-features"]
=== Deprecated features

[id="ocp-4-6-removed-features"]
=== Removed features

[id="ocp-4-6-bug-fixes"]
== Bug fixes

[id="ocp-4-6-technology-preview"]
== Technology Preview features

Some features in this release are currently in Technology Preview. These
experimental features are not intended for production use. Note the
following scope of support on the Red Hat Customer Portal for these features:

link:https://access.redhat.com/support/offerings/techpreview[Technology Preview
Features Support Scope]

In the table below, features are marked with the following statuses:

* *TP*: _Technology Preview_
* *GA*: _General Availability_
* *-*: _Not Available_

.Technology Preview tracker
[cols="4,1,1,1",options="header"]
|====
|Feature |OCP 4.4 |OCP 4.5 |OCP 4.6

|Precision Time Protocol (PTP)
|TP
|TP
|

|`oc` CLI Plug-ins
|TP
|TP
|

|experimental-qos-reserved
|TP
|TP
|

|Pod Unidler
|TP
|GA
|GA

|Ephemeral Storage Limit/Requests
|TP
|TP
|

|Descheduler
|TP
|TP
|

|Podman
|TP
|TP
|

|Sharing Control of the PID Namespace
|TP
|GA
|GA

|OVN-Kubernetes Pod network provider
|TP
|TP
|

|HPA custom metrics adapter based on Prometheus
|TP
|TP
|

|HPA for memory utilization
|TP
|TP
|

|Three-node bare metal deployments
|TP
|GA
|GA

|Service Binding
|TP
|TP
|

|Log forwarding
|TP
|GA
|GA

|User workload monitoring
|TP
|TP
|

|Compute Node Topology Manager
|TP
|GA
|GA

|Raw Block with Cinder
|TP
|TP
|

|External provisioner for AWS EFS
|TP
|TP
|

|CSI volume snapshots
|TP
|TP
|

|CSI volume cloning
|TP
|TP
|GA

|CSI AWS EBS Driver Operator
|-
|TP
|

|OpenStack Manila CSI Driver Operator
|-
|GA
|GA

|CSI inline ephemeral volumes
|-
|TP
|

|OpenShift Pipelines
|TP
|TP
|

|Vertical Pod Autoscaler
|-
|TP
|

|Operator API
|-
|TP
|

|====

[id="ocp-4-6-known-issues"]
== Known issues

[[rhba-2020-1234]]
=== RHBA-2020:1234 - {product-title} 4.6 image release and bug fix advisory

Issued: 2020-xx-xx

{product-title} release 4.6 is now available. The list of container images and
bug fixes includes in the update are documented in the
link:https://access.redhat.com/errata/RHBA-2020:xxxx[RHBA-2020:xxxx] advisory.
The RPM packages included in the update are provided by the
link:https://access.redhat.com/errata/RHBA-2020:xxxx[RHBA-2020:xxxx] advisory.

Space precluded documenting all of the container images for this release in the
advisory. See the following article for notes on the container images in this
release:

link:https://access.redhat.com/solutions/[{product-title} 4.6.0 container image list]
