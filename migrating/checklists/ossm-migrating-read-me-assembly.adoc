:_mod-docs-content-type: ASSEMBLY
[id="ossm-migrating-read-me-assembly"]
= Important information to know if you are migrating from OpenShift Service Mesh 2.6
include::_attributes/common-attributes.adoc[]
:context: ossm-migrating-read-me-assembly

toc::[]

If you are moving from {SMProductName} 2.6 to {SMProductName} 3, read the content in this section first as it contains important information and explanations on the differences between the versions. These differences have a direct impact on your installation and configuration of {SMProduct} 3.

//Note to reviewers: this is existing content: https://docs.redhat.com/en/documentation/red_hat_openshift_service_mesh/3.0.0tp1/html/migrating_from_openshift_service_mesh_2.6/important-information-to-know-before-migrating
//There were exref updates as this content is moving into a different dir under dir: Migrating

include::modules/ossm-migrating-2-and-3-differences.adoc[leveloffset=+1]
include::modules/ossm-migrating-read-me-new-operator.adoc[leveloffset=+1]
include::modules/ossm-migrating-read-me-new-resources.adoc[leveloffset=+1]
include::modules/ossm-migrating-read-me-observability-integrations.adoc[leveloffset=+1]
include::modules/ossm-migrating-read-me-scoping-discovery-selectors.adoc[leveloffset=+1]

.Next steps
* xref:../../install/ossm-installing-openshift-service-mesh.adoc#ossm-about-discoveryselectors_ossm-scoping-service-mesh-with-discoveryselectors[Scoping Service Mesh with discoverySelectors]

include::modules/ossm-migrating-read-me-sidecar-injection-considerations.adoc[leveloffset=+1]
include::modules/ossm-migrating-read-me-support-for-multiple-control-planes.adoc[leveloffset=+1]
include::modules/ossm-migrating-read-me-independently-managed-gateways.adoc[leveloffset=+1]

.Next steps
If you are using {SMProduct} 2.6, and have not migrated from `ServiceMeshControlPlane` defined gateways to gateway injection, then you must follow the {SMProduct} 2.x gateway migration procedure before you can move to {SMProduct} 3.

* link:https://docs.redhat.com/en/documentation/openshift_container_platform/4.17/html/service_mesh/service-mesh-2-x#ossm-about-gateway-migration_gateway-migration[Gateway migration]

include::modules/ossm-migrating-read-me-explicitly-create-openshift-routes.adoc[leveloffset=+1]
include::modules/ossm-migrating-read-me-introducing-canary-updates.adoc[leveloffset=+1]

.Next steps
You can set `updateStrategy` to `RevisionBased` to use canary updates.

* xref:../../update/ossm-updating-openshift-service-mesh.adoc#about-revisionbased-strategy_ossm-performing-inplace-update[About RevisionBased strategy]

Be aware that setting the `updateStrategy` to `RevisionBased` also has implications for some integrations with {SMProduct}, such as the cert-manager tool integration.

* xref:../../install/ossm-cert-manager-assembly.adoc#updating-istio-csr-revision-based-only_ossm-cert-manager-assembly[Updating istio-csr agents with revision-based update strategies]

include::modules/ossm-migrating-read-me-supported-multi-cluster-topologies.adoc[leveloffset=+1]
include::modules/ossm-migrating-read-me-support-for-istioctl.adoc[leveloffset=+1]

.Next steps
* You can install the xref:../../install/ossm-istioctl-tool.adoc#ossm-installing-the-istioctl-tool_ossm-istioctl-tool[Istioctl tool].

include::modules/ossm-migrating-read-me-kubernetes-network-policy-management.adoc[leveloffset=+1]
include::modules/ossm-migrating-read-me-tls-configuration-change.adoc[leveloffset=+1]

[role="_additional-resources"]
[id="addition-resource_{context}"]
== Additional Resources

* link:https://docs.redhat.com/en/documentation/openshift_container_platform/#Observability[Red Hat OpenShift Observability]
* link:https://docs.redhat.com/en/documentation/openshift_container_platform/4.17/html/logging/index[Logging]
* link:https://docs.redhat.com/en/documentation/openshift_container_platform/4.17/html/monitoring/index[User workload monitoring]
* link:https://docs.redhat.com/en/documentation/openshift_container_platform/4.17/html/distributed_tracing/index[{DTProductName}]
* link:https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/[Labels and Selectors] (Kubernetes documentation)
* link:https://istio.io/latest/docs/tasks/security/tls-configuration/workload-min-tls-version/[Istio Workload Minimum TLS Version Configuration] (Istio documentation)
* link:https://istio.io/latest/docs/reference/config/security/authorization-policy/[Authorization Policies] (Istio documentation)

//Migration likely to resemble https://docs.openshift.com/container-platform/4.17/migrating_from_ocp_3_to_4/about-migrating-from-3-to-4.html#about-migrating-from-3-to-4 when done for OSSM 3.0 GA.
