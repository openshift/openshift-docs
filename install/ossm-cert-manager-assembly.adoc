:_mod-docs-content-type: ASSEMBLY
[id="ossm-cert-manager-assembly"]
= OpenShift Service Mesh and cert-manager
include::_attributes/common-attributes.adoc[]
:context: ossm-cert-manager-assembly

//Working IA. The IA for 3.x is influx. Putting in "Installing" for now as most of the content relates to installing cert-manager, istio-csr, and then creating and installing the Istio resource.
//TP1 content. Likely structure, titles, content, etc will change for GA
//User must install cert-manager before they create and install an Istio resource. However, the spec.updateStrategy they decide on for the Istio resource dictates specific steps istio-csr and cert-manager, esp in regards to how istio-csr and cert-manager are updated.

toc::[]

The cert-manager tool is a solution for X.509 certificate management on Kubernetes. It delivers a unified API to integrate applications with private or public key infrastructure (PKI), such as Vault, Google Cloud Certificate Authority Service, Let's Encrypt, and other providers.

[IMPORTANT]
====
The cert-manager tool must be installed before you create and install your `Istio` resource.
====

The cert-manager tool ensures the certificates are valid and up-to-date by attempting to renew certificates at a configured time before they expire.

include::modules/ossm-about-cert-manager.adoc[leveloffset=+1]
include::modules/ossm-installing-cert-manager.adoc[leveloffset=+1]

.Next steps
To install `istio-csr`, you must follow the `istio-csr` installation instructions for the type of update strategy you want. By default, `spec.updateStrategy` is set to `InPlace` when you create and install your `Istio` resource. You create and install your `Istio` resource after you install `istio-csr`.

* xref:../install/ossm-cert-manager-assembly.adoc#inplace-istio-csr-installation_ossm-cert-manager-assembly[Installing the istio-csr agent by using the in place update strategy]
* xref:../install/ossm-cert-manager-assembly.adoc#revision-based-istio-csr-installation_ossm-cert-manager-assembly[Installing the istio-csr agent by using the revision based update strategy]

include::modules/ossm-cert-manager-istio-csr-inplace-update-strategy.adoc[leveloffset=+2]

.Next steps
* xref:../install/ossm-cert-manager-assembly.adoc#installing-istio-resource_ossm-cert-manager-assembly[Installing your Istio resource]

include::modules/ossm-cert-manager-istio-csr-revisionbased-strategy.adoc[leveloffset=+2]

[id="additional-resources_{context}"]
.Additional resources
* link:https://github.com/cert-manager/istio-csr/tree/main/deploy/charts/istio-csr#appistiorevisions0--string[istio-csr deployment]


.Next steps
* xref:../install/ossm-cert-manager-assembly.adoc#installing-istio-resource_ossm-cert-manager-assembly[Installing your Istio resource]

include::modules/ossm-cert-manager-installing-istio-resource.adoc[leveloffset=+2]
include::modules/ossm-cert-manager-verifying-install.adoc[leveloffset=+2]
include::modules/ossm-cert-manager-update-istio-csr-revisionbased-only.adoc[leveloffset=+1]
