:_mod-docs-content-type: ASSEMBLY
[id="ossm-deploying-multiple-service-meshes-on-single-cluster"]
= Deploying multiple service meshes on a single cluster
include::_attributes/common-attributes.adoc[]
:context: ossm-deploying-multiple-service-meshes-on-single-cluster

toc::[]

You can use the {SMProductName} to operate multiple service meshes in a single cluster, with each mesh managed by a separate control plane. Using discovery selectors and revisions prevents conflicts between control planes.

[id="prerqs-ossm-deploying-multiple-control-planes_{context}"]
== Prerequisites
* You have installed the {SMProduct} operator.
* You have created an {istio} Container Network Interface (CNI) resource.
+
[NOTE]
====
You can run the following command to check for existing `{istio}` instances:
[source,terminal]
----
$ oc get istios
----
====

* You have installed the `istioctl` binary on your localhost.

include::modules/ossm-about-deploying-multiple-control-planes.adoc[leveloffset=+1]
include::modules/ossm-multiple-control-planes-single-cluster.adoc[leveloffset=+1]

[id="ossm-deploying-multiple-control-planes_{context}"]
== Deploying multiple control planes

You can have extended support for more than two control planes. The maximum number of service meshes in a single cluster depends on the available cluster resources.

include::modules/ossm-deploying-first-control-plane.adoc[leveloffset=+2]

include::modules/ossm-deploying-second-control-plane.adoc[leveloffset=+2]

include::modules/ossm-verifying-multiple-control-planes.adoc[leveloffset=+2]

include::modules/ossm-deploy-application-workloads-in-each-mesh.adoc[leveloffset=+1]

[role="_additional-resources"]
[id="additional-resources-ossm-deploying-multiple-service-meshes-on-single-cluster"]
== Additional resources

* xref:../install/ossm-installing-openshift-service-mesh.adoc#ossm-scoping-service-mesh-with-discoveryselectors_ossm-installing-openshift-service-mesh[Scoping Service Mesh with discoverySelectors]