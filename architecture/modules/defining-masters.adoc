// Module included in the following assemblies:
//
// * architecture/introduction-openshift-architecture.adoc

[id="defining-masters_{context}"]
= Defining masters

A master node is a Kubernetes concept, represented by systems that run services needed to control the Kubernetes cluster. Basically, they represent the brains of a Kubernetes cluster. Those same master nodes in OpenShift are referred to as control plane nodes, because they contain more than just the Kubernetes services for managing the OpenShift cluster.

Services that fall under the Kubernetes category on the master include the API server, etcd, controller manager server, and HAProxy services. Table 1 describes those services.

|=================================================================================================================================================================================================================================================================================================
|Component |Description
|API Server |The Kubernetes API server validates and configures the data for pods, services, and replication controllers. It also provides a focal point for clusterâ€™s shared state.
|etcd |etcd stores the persistent master state while other components watch etcd for changes to bring themselves into the desired state. etcd can be optionally configured for high availability, typically deployed with 2n+1 peer services.
|Controller Manager Server |The controller manager server watches etcd for changes to objects such as replication, namespace, and serviceaccount controller objects, and then uses the API to enforce the desired state. Several such processes create a cluster with one active leader at a time.
|=================================================================================================================================================================================================================================================================================================

If you were to look inside your control plane nodes, you would see that some of the services on those nodes run as systemd services while others run as Kubernetes pods.

Systemd services are appropriate for services that you need to always come up on that particular system, and usually at an early point. For master nodes, those include sshd (to allow remote login). It also includes services such as:

* The CRI-O container engine (crio): This is the container engine that runs and manages the containers. In OpenShift 4, this is used instead of the Docker Container Engine.
* Kubelet (kubelet): Accepts requests for managing containers on the node from master services.

The reason to have CRI-O and Kubelet running directly on the host as systemd services is that they need to be running before you can run other containers. Which comes to the next level of services running on masters: containerized services managed by Operators.
