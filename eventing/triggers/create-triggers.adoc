:_content-type: ASSEMBLY
[id="create-triggers"]
= Creating triggers
include::_attributes/common-attributes.adoc[]

toc::[]

Triggers in Knative Eventing allow you to route events from a broker to a specific subscriber based on your requirements. By defining a Trigger, you can connect event producers to consumers dynamically, ensuring events are delivered to the correct destination. This section describes the steps to create a Trigger, configure its filters, and verify its functionality. Whether you're working with simple routing needs or complex event-driven workflows. 

The following examples displays common configurations for Triggers, demonstrating how to route events to Knative services or custom endpoints.

.Example of routing events to a Knative Serving service

The following Trigger routes all events from the default broker to the Knative Serving service named `my-service`:
[source,yaml]
----
apiVersion: eventing.knative.dev/v1
kind: Trigger
metadata:
  name: my-service-trigger
spec:
  broker: default
  filter:
    attributes:
      type: dev.knative.foo.bar
  subscriber:
    ref:
      apiVersion: serving.knative.dev/v1
      kind: Service
      name: my-service
----

[NOTE]
====
Routing all events without a `filter` attribute is recommended for debugging purposes. It allows you to observe and analyze all incoming events, helping identify issues or validate the flow of events through the broker before applying specific filters. To know more about filtering, see xref:../../eventing/triggers/advanced-trigger-filters.adoc#advanced-trigger-filter-overview_advanced-trigger-filters[Advanced trigger filters].
====

To apply this trigger, you can save the configuration to a file, for example, `trigger.yaml` and run the following command:
[source,terminal]
----
$ oc apply -f trigger.yaml
----

.Example of routing events to a custom path

This Trigger routes all events from the default broker to a custom path `/my-custom-path` on the service named `my-service`:

[source,yaml]
----
apiVersion: eventing.knative.dev/v1
kind: Trigger
metadata:
  name: my-service-trigger
spec:
  broker: default
  subscriber:
    ref:
      apiVersion: v1
      kind: Service
      name: my-service
    uri: /my-custom-path
----

You can save the configuration to a file, for example, `custom-path-trigger.yaml` and run the following command:
[source,terminal]
----
$ oc apply -f custom-path-trigger.yaml
----

// ODC
include::modules/serverless-create-trigger-odc.adoc[leveloffset=+1]

// kn trigger
include::modules/serverless-create-kn-trigger.adoc[leveloffset=+1]
