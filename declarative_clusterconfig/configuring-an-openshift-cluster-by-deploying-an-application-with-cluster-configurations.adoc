:_mod-docs-content-type: ASSEMBLY
include::_attributes/common-attributes.adoc[]
[id="configuring-an-openshift-cluster-by-deploying-an-application-with-cluster-configurations"]
= Configuring an OpenShift cluster by deploying an application with cluster configurations
:context: configuring-an-openshift-cluster-by-deploying-an-application-with-cluster-configurations

toc::[]

With {gitops-title}, you can configure Argo CD to recursively sync the content of a Git directory with an application that contains custom configurations for your cluster.

[id="prerequisites_{context}"]
== Prerequisites

* You have logged in to the {OCP} cluster as an administrator.
* You have installed the {gitops-title} Operator on your {OCP} cluster.

// Using an Argo CD instance to manage cluster-scoped resources
include::modules/gitops-using-argo-cd-instance-to-manage-cluster-scoped-resources.adoc[leveloffset=+1]

// Default permissions of an Argocd instance
include::modules/gitops-default-permissions-of-an-argocd-instance.adoc[leveloffset=+1]

// Running the Argo CD instance at the cluster-level
include::modules/go-run-argo-cd-instance-on-infrastructure-nodes.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources
* To learn more about taints and tolerations, see link:https://docs.openshift.com/container-platform/latest/nodes/scheduling/nodes-scheduler-taints-tolerations.html#nodes-scheduler-taints-tolerations[Controlling pod placement using node taints].
* For more information on infrastructure machine sets, see link:https://docs.openshift.com/container-platform/latest/machine_management/creating-infrastructure-machinesets.html#creating-infrastructure-machinesets[Creating infrastructure machine sets].

// Creating an application by using the Argo CD dashboard
include::modules/gitops-creating-an-application-by-using-the-argo-cd-dashboard.adoc[leveloffset=+1]

// Creating an application by using the `oc` tool
include::modules/gitops-creating-an-application-by-using-the-oc-tool.adoc[leveloffset=+1]

// Creating an application in default mode by using the GitOps CLI
include::modules/gitops-argocd-cli-creating-an-application-in-default-mode.adoc[leveloffset=+1]

// Creating an application in core mode by using the GitOps CLI
include::modules/gitops-argocd-cli-creating-an-application-in-core-mode.adoc[leveloffset=+1]

// Synchronizing your application with your Git repository
include::modules/gitops-synchronizing-your-application-application-with-your-git-repository.adoc[leveloffset=+1]

// Synchronizing an application in default mode by using the GitOps CLI
include::modules/gitops-argocd-cli-synchronizing-an-application-in-default-mode.adoc[leveloffset=+1]

// Synchronizing an application in core mode by using the GitOps CLI
include::modules/gitops-argocd-cli-synchronizing-an-application-in-core-mode.adoc[leveloffset=+1]

// In-built permissions for cluster configuration
include::modules/gitops-inbuilt-permissions-for-cluster-config.adoc[leveloffset=+1]

// Adding permissions for cluster configuration
include::modules/gitops-additional-permissions-for-cluster-config.adoc[leveloffset=+1]
[role="_additional-resources"]
.Additional resources 
* xref:../declarative_clusterconfig/customizing-permissions-by-creating-user-defined-cluster-roles-for-cluster-scoped-instances.adoc#customizing-permissions-by-creating-user-defined-cluster-roles-for-cluster-scoped-instances[Customizing permissions by creating user-defined cluster roles for cluster-scoped instances]
* xref:../declarative_clusterconfig/customizing-permissions-by-creating-aggregated-cluster-roles.adoc#customizing-permissions-by-creating-aggregated-cluster-roles[Customizing permissions by creating aggregated cluster roles]

// Installing OLM Operators using Red Hat OpenShift GitOps
include::modules/gitops-installing-olm-operators-using-gitops.adoc[leveloffset=+1]

// Installing cluster-scoped Operators
include::modules/gitops-installing-cluster-scoped-operators.adoc[leveloffset=+2]

// Installing namespace-scoped Operators
include::modules/gitops-namespace-scoped-operators.adoc[leveloffset=+2]

// Configuring respectRBAC using Red Hat OpenShift GitOps
include::modules/gitops-configuring-respect-rbac-using-gitops.adoc[leveloffset=+1]

// Configuring respectRBAC using the CLI
include::modules/gitops-configuring-respect-rbac-using-the-cli.adoc[leveloffset=+2]

// Configuring respectRBAC by using the web console
include::modules/gitops-configuring-respect-rbac-using-the-web-console.adoc[leveloffset=+2]

[role="_additional-resources"]
[id="additional-resources_{context}"]
== Additional resources

* xref:../installing_gitops/installing-argocd-gitops-cli.adoc#installing-argocd-gitops-cli[Installing the {gitops-shortname} CLI]
* xref:../gitops_cli_argocd/argocd-gitops-cli-reference.adoc#argocd-gitops-cli-reference[Basic {gitops-shortname} argocd commands]
* xref:../multitenancy/multitenancy-support-in-gitops.adoc#multitenancy-support-in-gitops[Multitenancy support in {gitops-shortname}]
* xref:../declarative_clusterconfig/configuring-an-openshift-cluster-by-deploying-an-application-with-cluster-configurations.adoc#using-argo-cd-instance-to-manage-cluster-scoped-resources_configuring-an-openshift-cluster-by-deploying-an-application-with-cluster-configurations[Using an Argo CD instance to manage cluster-scoped resources]
* link:https://argo-cd.readthedocs.io/en/stable/operator-manual/declarative-setup/#auto-respect-rbac-for-controller[Auto respect RBAC for controller]