:_content-type: ASSEMBLY
include::_attributes/common-attributes.adoc[]
include::_attributes/attributes-openshift-dedicated.adoc[]
[id="logging-install-logging-operator"]
= Installing logging
:context: logging-install-logging-operator

toc::[]

To use the {logging} on your {product-title} cluster, you must install the Red{nbsp}Hat Openshift Logging Operator.
After the Operator is installed, you can configure your logging deployment by using the xref:../../logging/logging_installation/logging-clusterlogging-cr.adoc#logging-clusterlogging-cr[`ClusterLogging`] and xref:../../logging/log_collection_forwarding/log-forwarding.adoc#logging-create-clf_log-forwarding[`ClusterLogForwarder`] custom resources (CRs).
// REMEMBER to comment CLF docs out before merging until 5.8 go live

// Install Operator
include::modules/logging-install-logging-operator-console.adoc[leveloffset=+1]
include::modules/logging-install-logging-operator-cli.adoc[leveloffset=+1]

[id="logging-install-logging-operator-troubleshooting"]
== Troubleshooting

If the Operator does not appear as installed, to troubleshoot further:

* Switch to the *Operators* → *Installed Operators* page and inspect the *Status* column for any errors or failures.
* Switch to the *Workloads* → *Pods* page and check the logs in any pods in the `openshift-logging` project that are reporting issues.

If Alertmanager logs alerts such as `Prometheus could not scrape fluentd for more than 10m`, make sure that `openshift.io/cluster-monitoring` is set to `"true"` for the OpenShift Elasticsearch Operator and OpenShift Logging Operator. See the Red Hat KnowledgeBase for more information: link:https://access.redhat.com/solutions/5692801[Prometheus could not scrape fluentd for more than 10m alert in Alertmanager]

[id="logging-install-logging-operator-post-install"]
== Post-installation tasks

If you plan to use Kibana, you must xref:#cluster-logging-visualizer-indices_logging-install-logging-operator[manually create your Kibana index patterns and visualizations] to explore and visualize data in Kibana.

If your network plugin enforces network isolation, xref:#cluster-logging-deploy-multitenant_logging-install-logging-operator[allow network traffic between the projects that contain the {logging} Operators].

// TODO: Move to Kibana section later once visualization content is restructured
include::modules/cluster-logging-visualizer-indices.adoc[leveloffset=+2]
include::modules/cluster-logging-deploy-multitenant.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

ifdef::openshift-enterprise,openshift-origin[]
* xref:../../networking/network_policy/about-network-policy.adoc[About network policy]
* xref:../../networking/openshift_sdn/about-openshift-sdn.adoc[About the OpenShift SDN default CNI network provider]
* xref:../../networking/ovn_kubernetes_network_provider/about-ovn-kubernetes.adoc[About the OVN-Kubernetes default Container Network Interface (CNI) network provider]
endif::[]
ifdef::openshift-rosa,openshift-dedicated[]
* link:https://docs.openshift.com/container-platform/latest/networking/network_policy/about-network-policy.html[About network policy]
* link:https://docs.openshift.com/container-platform/latest/networking/openshift_sdn/about-openshift-sdn.html[About the OpenShift SDN default CNI network provider]
* link:https://docs.openshift.com/container-platform/latest/networking/ovn_kubernetes_network_provider/about-ovn-kubernetes.html[About the OVN-Kubernetes default Container Network Interface (CNI) network provider]
endif::[]

include::modules/cluster-logging-deploy-certificates.adoc[leveloffset=+2]
include::modules/cluster-logging-deploy-label.adoc[leveloffset=+2]

[role="_additional-resources"]
[id="additional-resources_logging-install-logging-operator"]
== Additional resources
* xref:../../operators/admin/olm-adding-operators-to-cluster.adoc#olm-installing-operators-from-operatorhub_olm-adding-operators-to-a-cluster[Installing Operators from the OperatorHub]
