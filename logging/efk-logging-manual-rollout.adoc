// For example:
// * file name: assembly_my-assembly-a.adoc
// * ID: [id='assembly_my-assembly-a_{context}']
// * Title: = My assembly A
//
// The ID is used as an anchor for linking to the module.
// Avoid changing it after the module has been published
// to ensure existing links are not broken.
//
// In order for  the assembly to be reusable in other assemblies in a guide,
// include {context} in the ID: [id='a-collection-of-modules_{context}'].
//
// If the assembly covers a task, start the title with a verb in the gerund
// form, such as Creating or Configuring.
// The `context` attribute enables module reuse. Every module's ID
// includes {context}, which ensures that the module has a unique ID even if
// it is reused multiple times in a guide.

:context: efk-logging-driver
[id='efk-logging-driver_{context}']
= Manually rolling out Elasticsearch
{product-author}
{product-version}
ifdef::openshift-enterprise[]
:latest-tag: v3.11.16
endif::[]
ifdef::openshift-origin[]
:latest-tag: v3.11.16
endif::[]
:data-uri:
:icons:
:experimental:
:toc: macro
:toc-title:
:prewrap!:

toc::[]



{product0title} is configured so that the Elasticsearch
Deployment Config object does not have a Config Change Trigger, meaning
any changes to the deployment configuration does not result in an automatic rollout. This prevents
unintended restarts happening in the Elasticsearch cluster, which could create excessive shard
rebalancing as cluster members restart.

This section presents two restart procedures: rolling-restart and full-restart. Where a rolling restart
applies appropriate changes to the Elasticsearch cluster without down time
(provided three masters are configured) and a full restart safely applies major
changes without risk to existing data.

// The following include statements pull in the module files that comprise
// the assembly. Include any combination of concept, procedure, or reference
// modules required to cover the user story. You can also include other
// assemblies.

include::modules/efk-logging-manual-rollout-rolling.adoc[leveloffset=+2]

include::modules/efk-logging-manual-rollout-full.adoc[leveloffset=+2]



