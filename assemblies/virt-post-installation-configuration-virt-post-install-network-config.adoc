:_mod-docs-content-type: ASSEMBLY
[id="virt-post-install-network-config"]
= Postinstallation network configuration
include::_attributes/common-attributes.adoc[]
:context: virt-post-install-network-config

toc::[]

By default, {VirtProductName} is installed with a single, internal pod network.

ifndef::openshift-rosa,openshift-dedicated[]
After you install {VirtProductName}, you can install networking Operators and configure additional networks.
endif::openshift-rosa,openshift-dedicated[]

[id="installing-operators"]
== Installing networking Operators

ifndef::openshift-rosa,openshift-dedicated[]
You must install the xref:../../networking/k8s_nmstate/k8s-nmstate-about-the-k8s-nmstate-operator.adoc#k8s-nmstate-about-the-k8s-nmstate-operator[Kubernetes NMState Operator] to configure a Linux bridge network for live migration or external access to virtual machines (VMs). For installation instructions, see xref:../../networking/k8s_nmstate/k8s-nmstate-about-the-k8s-nmstate-operator.adoc#installing-the-kubernetes-nmstate-operator-cli[Installing the Kubernetes NMState Operator by using the web console].
endif::openshift-rosa,openshift-dedicated[]

ifndef::openshift-rosa,openshift-dedicated[]
You can install the xref:../../networking/hardware_networks/about-sriov.adoc#about-sriov[SR-IOV Operator] to manage SR-IOV network devices and network attachments. For installation instructions, see xref:../../networking/hardware_networks/installing-sriov-operator.adoc#installing-sriov-operator[Installing the SR-IOV Network Operator].
endif::openshift-rosa,openshift-dedicated[]

ifndef::openshift-rosa,openshift-dedicated[]
You can add the xref:../../networking/metallb/about-metallb.adoc#about-metallb[MetalLB Operator] to manage the lifecycle for an instance of MetalLB on your cluster. For installation instructions, see xref:../../networking/metallb/metallb-operator-install.adoc#metallb-operator-install[Installing the MetalLB Operator from the OperatorHub using the web console].
endif::openshift-rosa,openshift-dedicated[]

[id="configuring-linux-bridge-network"]
== Configuring a Linux bridge network

After you install the Kubernetes NMState Operator, you can configure a Linux bridge network for live migration or external access to virtual machines (VMs).

include::modules/virt-creating-linux-bridge-nncp.adoc[leveloffset=+2]

include::modules/virt-creating-linux-bridge-nad-web.adoc[leveloffset=+2]

ifndef::openshift-rosa,openshift-dedicated[]
.Next steps
* xref:../../virt/vm_networking/virt-connecting-vm-to-linux-bridge.adoc#virt-attaching-vm-secondary-network-cli_virt-connecting-vm-to-linux-bridge[Attaching a virtual machine (VM) to a Linux bridge network]
endif::openshift-rosa,openshift-dedicated[]

[id="configuring-network-live-migration"]
== Configuring a network for live migration

After you have configured a Linux bridge network, you can configure a dedicated network for live migration. A dedicated network minimizes the effects of network saturation on tenant workloads during live migration.

include::modules/virt-configuring-secondary-network-vm-live-migration.adoc[leveloffset=+2]

include::modules/virt-selecting-migration-network-ui.adoc[leveloffset=+2]

ifndef::openshift-rosa,openshift-dedicated[]
[id="configuring-sriov-network"]
== Configuring an SR-IOV network

After you install the SR-IOV Operator, you can configure an SR-IOV network.

include::modules/nw-sriov-configuring-device.adoc[leveloffset=+2]

include::modules/nw-sriov-network-attachment.adoc[leveloffset=+2]

.Next steps

* xref:../../virt/vm_networking/virt-connecting-vm-to-sriov.adoc#virt-attaching-vm-to-sriov-network_virt-connecting-vm-to-sriov[Attaching a virtual machine (VM) to an SR-IOV network]
endif::openshift-rosa,openshift-dedicated[]

include::modules/virt-enabling-load-balancer-service-web.adoc[leveloffset=+1]
