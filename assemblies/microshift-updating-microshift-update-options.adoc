:_mod-docs-content-type: ASSEMBLY
[id="microshift-update-options"]
= Update options with {product-title} and {op-system-bundle}
include::_attributes/attributes-microshift.adoc[]
:context: microshift-update-options

toc::[]

You can update {op-system-ostree-first} images or {op-system-base-full} with or without updating the {product-title} version if the version combination is supported. See the following table for details:

include::snippets/microshift-rhde-compatibility-table-snip.adoc[leveloffset=+1]

include::snippets/microshift-update-paths-snip.adoc[leveloffset=+1]

[IMPORTANT]
====
Updates of {microshift-short} are supported with a maximum of two minor versions. For example, you can update from 4.14 to 4.16 in a single step. Updating 4.14 to 4.15 first is not required.
====

[id="microshift-update-options-standalone-updates_{context}"]
== Standalone {microshift-short} updates
Consider the following when planning to update {microshift-short}:

* You can potentially update {microshift-short} without reinstalling your applications and Operators.
* {op-system} or {op-system-ostree} updates are only required to update {microshift-short} if the existing operating system is not compatible with the new version of {microshift-short} that you want to use.
* {microshift-short} operates as an in-place update and does not require removal of the previous version. Data backups beyond those required for the usual functioning of your applications are also not required.

[id="microshift-update-options-rpm-ostree-updates_{context}"]
=== RPM-OSTree updates
You can update {microshift-short} on an `rpm-ostree` system such as {op-system-ostree} by building a new image containing the new version of {microshift-short}. Ensure that the version of the operating system you want to use is compatible with the new version of {microshift-short} that you update to.

The following features are available in the {op-system-ostree} update path:

* The system automatically rolls back to a previous healthy system state if the update fails.
* Applications do not need to be reinstalled.
* Operators do not need to be reinstalled.
* You can update an application without updating {microshift-short} using this update type.
* The image you build can contain other updates as needed.

To begin a {microshift-short} update by embedding in a {op-system-ostree} image, use the procedures in the following documentation:

* xref:../microshift_updating/microshift-update-rpms-ostree.adoc#microshift-update-rpms-ostree[Applying updates on an OSTree system]

To understand more about Greenboot, see the following documentation:

* xref:../microshift_install/microshift-greenboot.adoc#microshift-greenboot[The Greenboot health check]
* xref:../microshift_running_apps/microshift-greenboot-workload-scripts.adoc#microshift-greenboot-workload-scripts[Greenboot workload health check scripts]

[id="microshift-update-options-manual-rpm-updates_{context}"]
=== Manual RPM updates
You can update {microshift-short} manually on a non-OSTree system such as {op-system-base-full} by downloading and updating the RPMs. To complete this update type, use the subscription manager to access the repository containing the new RPMs. To begin a manual RPM update, use the procedures in the following documentation:

* xref:../microshift_updating/microshift-update-rpms-manually.adoc#microshift-update-rpms-manually[About updating MicroShift RPMs manually]

[id="microshift-update-options-standalone-rhel-updates_{context}"]
== Standalone {op-system-ostree} updates
You can update {op-system-ostree} or {op-system} without updating {microshift-short}, on the condition that the two versions are compatible. Check compatibilities before beginning an update. Use the {op-system-ostree} documentation specific to your update path.

//additional resources for updating RHEL alone
[role="_additional-resources"]
.Additional resources
* link:https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/index[Managing RHEL for Edge images]

[id="microshift-update-options-simultaneous-microshift-rhel-updates_{context}"]
== Simultaneous {microshift-short} and operating system updates
You can update {op-system-ostree} or {op-system} and update {microshift-short} at the same time, on the condition that the versions are compatible. Check for compatibility before beginning an update. First use the {op-system-ostree} and {op-system} documentation specific to your update path to plan and update the operating system. Then use the {microshift-short} update type specific to your update path.

//additional resources for updating RHEL and MicroShift
[role="_additional-resources"]
.Additional resources
* link:https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/index[Managing RHEL for Edge images]
* link:https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/index[Composing a customized RHEL system image]
* xref:../microshift_updating/microshift-update-rpms-ostree.adoc#microshift-update-rpms-ostree[Applying updates on an OSTree system]
* xref:../microshift_updating/microshift-update-rpms-manually.adoc#microshift-update-rpms-manually[Applying updates manually with RPMs]
* xref:../microshift_install/microshift-greenboot.adoc#microshift-greenboot[The Greenboot system health check]
* xref:../microshift_running_apps/microshift-greenboot-workload-scripts.adoc#microshift-greenboot-workload-scripts[Greenboot workload scripts]
