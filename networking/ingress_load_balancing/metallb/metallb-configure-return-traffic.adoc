:_mod-docs-content-type: ASSEMBLY
[id="metallb-configure-return-traffic"]
= Managing symmetric routing with MetalLB
include::_attributes/common-attributes.adoc[]
:context: metallb-configure-return-traffic

toc::[]

[role="_abstract"]
As a cluster administrator, you can effectively manage traffic for pods behind a MetalLB load-balancer service with multiple host interfaces by implementing features from MetalLB, NMState, and OVN-Kubernetes. By combining these features in this context, you can provide symmetric routing, traffic segregation, and support clients on different networks with overlapping CIDR addresses.

To achieve this functionality, learn how to implement virtual routing and forwarding (VRF) instances with MetalLB, and configure egress services.

:FeatureName: Configuring symmetric traffic by using a VRF instance with MetalLB and an egress service
include::snippets/technology-preview.adoc[]

include::modules/challenges-of-managing-symmetric-routing-with-metallb.adoc[leveloffset=+1]

include::modules/overview-of-managing-symmetric-routing-using-vrf-based-networks-with-metallb.adoc[leveloffset=+1]

// Deploying an egress service for VRF
include::modules/nw-metallb-configure-return-traffic-proc.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* xref:../../../networking/multiple_networks/about-virtual-routing-and-forwarding.adoc#cnf-about-virtual-routing-and-forwarding_about-virtual-routing-and-forwarding[About virtual routing and forwarding]

* xref:../../../networking/ingress_load_balancing/metallb/metallb-configure-bgp-peers.adoc#nw-metallb-bgp-peer-vrf_configure-metallb-bgp-peers[Exposing a service through a network VRF]

* xref:../../../networking/k8s_nmstate/k8s-nmstate-updating-node-network-config.adoc#virt-example-host-vrf_k8s-nmstate-updating-node-network-config[Example: Network interface with a VRF instance node network configuration policy]

* xref:../../../networking/ovn_kubernetes_network_provider/configuring-egress-traffic-for-vrf-loadbalancer-services.adoc#configuring-egress-traffic-loadbalancer-services[Configuring an egress service]
