[id="configuring-secondary-external-gw"]
= Configure an external gateway through a secondary network interface
include::modules/common-attributes.adoc[]
:context: configuring-secondary-external-gw

toc::[]

As a cluster administrator, you can configure an external gateway on a secondary network. After configuring the external gateway you can apply a label to a namespace so that network traffic from pods in that namespace use the external gateway egress cluster traffic.

Network traffic is routed to the external gateway using equal-cost multi-path routing (ECMP).

[id="{context}_prerequisites"]
== Prerequisites

* You must have two Network Interface Controllers (NICs) in a system to configure that system to use a secondary network interface as an external gateway.
* You can route traffic to the secondary network through the additional NIC. 

[id="{context}_how-the-configuration-process-works"]
== How the configuration process works

You configure a secondary network as an external gateway in two phases.

* In the first phase, you define a machine config that specifies the secondary network interface. A machine config pool that you create applies the machine config to machines that you annotate.
* In the second phase, you annotate a namespace with the IP address of the secondary network external gateway. You can add this annotation to every namespace that must use the secondary network external gateway.

include::modules/nw-secondary-external-gw-node.adoc[leveloffset=+1]

include::modules/nw-secondary-external-gw-namespace.adoc[leveloffset=+1]
