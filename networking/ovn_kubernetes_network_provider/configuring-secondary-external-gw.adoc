[id="configuring-secondary-external-gw"]
= Configure an external gateway through a secondary network interface
include::modules/common-attributes.adoc[]
:context: configuring-secondary-external-gw

toc::[]

As a cluster administrator, you can configure an external gateway on a secondary network. After configuring the external gateway you can apply a label to a namespace so that network traffic from pods in that namespace use the external gateway egress cluster traffic.

This uses an ECMP route.

[id="{context}_prerequisites"]
== Prerequisites

* You must have two Network Interface Controllers (NICs) in a system to configure that system to use a secondary network interface as an external gateway.
* You can route traffic to the secondary network through the additional NIC. 

## How the configuration process works

User-initiated steps
- Apply a label to each node that requires an external gateway
- Create a machine config pool to manage the new machine configuration
- Create a machine config that writes the secondary network interface name to a file

Cluster activity
- Does this make sense? Only after the last step does anything happen.

include::modules/nw-secondary-external-gw-node.adoc[leveloffset=+1]

include::modules/nw-secondary-external-gw-namespace.adoc[leveloffset=+1]
