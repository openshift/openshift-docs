:_mod-docs-content-type: ASSEMBLY
[id="configuring-a-custom-pki"]
= Configuring a custom PKI
include::_attributes/common-attributes.adoc[]
:context: configuring-a-custom-pki

toc::[]

To ensure secure communication between internal components, your {product-title} cluster uses a shared set of trusted Certificate Authorities (CAs). If your organization uses its own private certificates (a custom PKI), you must add your CA to the cluster so that all components trust it.

You can add your custom CA certificates to the cluster-wide truststore in one of two ways:

* During cluster installation, by adding your CA certificate to the `install-config.yaml` file.

* On a running cluster, by creating a `ConfigMap` object that contains your CA certificate and referencing it in the cluster `Proxy` object.

[IMPORTANT]
====
The cluster Proxy object is the mechanism for managing the cluster-wide truststore. This guide focuses only on the task of adding a CA. If you also need to configure an egress proxy, refer to the "Configuring the cluster-wide proxy" chapter for detailed instructions.
====

include::modules/adding-a-custom-CA-during-cluster-installation.adoc[leveloffset=+1]
include::modules/adding-a-custom-CA-to-a-running-cluster.adoc[leveloffset=+1]
include::modules/verifying-the-custom-ca-configuration.adoc[leveloffset=+1]
include::modules/certificate-injection-using-operators.adoc[leveloffset=+1]
