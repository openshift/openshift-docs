[id="configuring-additional-network"]
= Configuring an additional network
include::modules/common-attributes.adoc[]
:context: configuring-additional-network

toc::[]

As a cluster administrator, you can configure an additional network for your cluster. The following additional network types are supported:

* macvlan
* ipvlan
* bridge
* host-device

== Approaches to managing an additional network

You can manage the life cycle of an additional network by two mutually exclusively approaches:

Modify the Cluster Network Operator (CNO) configuration::
The CNO automatically creates and manages the `NetworkAttachmentDefinition` object.

Applying a YAML manifest::
You can manage the additional network directly by creating an `NetworkAttachmentDefinition` object.

== IP address assignment

== Configuration for additional network types

The specific configuration fields for additional networks is described in the following sections.

include::modules/nw-multus-bridge-object.adoc[leveloffset=+2]
include::modules/nw-multus-host-device-object.adoc[leveloffset=+2]
include::modules/nw-multus-ipvlan-object.adoc[leveloffset=+2]
include::modules/nw-multus-macvlan-object.adoc[leveloffset=+2]

// IP address assignment

include::modules/nw-multus-ipvlan-object.adoc[leveloffset=+1]

== Configuring an additional network through the Cluster Network Operator

The configuration for an additional network attachment that uses the ipvlan
Container Network Interface (CNI) plug-in is provided in two parts:

* Cluster Network Operator (CNO) configuration
* CNI plug-in configuration

The CNO configuration specifies the name for the additional network attachment and the namespace to create the attachment in. The plug-in is configured by a JSON object specified by the `rawCNIConfig` parameter in the CNO configuration.

The following YAML describes the configuration parameters for the CNO:

.Cluster Network Operator YAML configuration
[source,yaml]
----
name: <name> <1>
namespace: <namespace> <2>
rawCNIConfig: '{ <3>
  ...
}'
type: Raw
----
<1> Specify a name for the additional network attachment that you are
creating. The name must be unique within the specified `namespace`.

<2> Specify the namespace to create the network attachment in. If
you do not specify a value, then the `default` namespace is used.

<3> Specify the CNI plug-in configuration in JSON format, which
is based on the following template.
