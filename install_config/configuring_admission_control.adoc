= Configuring Admission Control Plug-ins
{product-author}
{product-version}
:data-uri:
:icons:
:experimental:
:toc: macro
:toc-title:

toc::[]

== Overview

An admission control plug-in is a piece of code that intercepts requests to the
master API prior to persistence of a resource, but after the request is
authenticated and authorized.

Each admission control plug-in is run in sequence before a request is accepted
into the cluster. If any plug-in in the sequence rejects the request, the entire
request is rejected immediately, and an error is returned to the end-user.

Admission control plug-ins may modify the incoming object in some cases to apply
system configured defaults. In addition, admission control plug-ins may modify
related resources as part of request processing to do things such as
incrementing quota usage.

== Providing Configuration for Admission Control Plug-ins

Certain admission control plug-ins may take an additional configuration file. The 
configuration for a plug-in may be provided either as a file location or an embedded 
configuration object in
link:master_node_configuration.html#master-configuration-files[master-config.yaml].

If specifying a path to a configuration file, use a location field:

[source, yaml]
----
admissionControl:
  pluginConfig:
    MyPlugin:
      location: /path/to/pluginconfig
----

If specifying an embedded configuration, use a configuration field:

[source, yaml]
----
admissionControl:
  pluginConfig:
    MyPlugin:
      configuration:
        apiVersion: v1
        kind: MyPluginConfig
        configItem1: value1
        configItem2: value2
----

Each plug-in is responsible for initializing and using the configuration
provided in the master configuration file.

In general, admission control plugins that require a configuration are effectively
disabled if no configuration is present for them.
