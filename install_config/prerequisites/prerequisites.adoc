[[install-config-prereqs-system-reqs]]
= System Requirements
{product-author}
{product-version}
:data-uri:
:icons:
:experimental:
:toc: macro
:toc-title:
:prewrap!:

toc::[]

== Overview

ifdef::atomic-registry[]
[NOTE]
====
While {product-title} is based on OpenShift, some of these topics are irrelevant
to an {product-title} deployment. The following is provided for reference.
====
endif::[]

ifdef::openshift-origin[]
{product-title}
xref:../../architecture/infrastructure_components/kubernetes_infrastructure.adoc#architecture-infrastructure-components-kubernetes-infrastructure[infrastructure
components] can be installed across multiple hosts. The following sections
outline the system requirements and instructions for preparing your environment
and hosts before installing {product-title}.
endif::[]

ifdef::openshift-enterprise[]
{product-title}
xref:../../architecture/infrastructure_components/kubernetes_infrastructure.adoc#architecture-infrastructure-components-kubernetes-infrastructure[infrastructure
components] can be installed across multiple hosts. The following sections
outline the system requirements and instructions for preparing your environment
and hosts before installing {product-title}.
endif::[]

ifdef::openshift-enterprise[]
You must have an active {product-title} subscription on your Red Hat
account to proceed. If you do not, contact your sales representative for more
information.

[IMPORTANT]
====
{product-title} 3.3 requires Docker 1.10.
====
endif::[]

The system requirements vary per host type:

[cols="1,7"]
|===
|xref:../../architecture/infrastructure_components/kubernetes_infrastructure.adoc#master[Masters]
a|- Physical or virtual system, or an instance running on a public or private IaaS.
ifdef::openshift-origin[]
- Base OS: Fedora 21, CentOS 7.1, or RHEL 7.1 or later with "Minimal"
installation option, or RHEL Atomic Host 7.2.4 or later.
endif::[]
ifdef::openshift-enterprise[]
- Base OS: RHEL 7.1 or later with "Minimal" installation option, or RHEL Atomic
Host 7.2.4 or later.
endif::[]
- 2 vCPU.
- Minimum 8 GB RAM.
- Minimum 30 GB hard disk space for the file system containing *_/var/_*.

|xref:../../architecture/infrastructure_components/kubernetes_infrastructure.adoc#node[Nodes]
a| - Physical or virtual system, or an instance running on a public or private IaaS.
ifdef::openshift-origin[]
- Base OS: Fedora 21, CentOS 7.1, or RHEL 7.1 or later with "Minimal"
installation option, or RHEL Atomic Host 7.2.4 or later.
endif::[]
ifdef::openshift-enterprise[]
- Base OS: RHEL 7.1 or later with "Minimal" installation option, or RHEL Atomic
Host 7.2.4 or later.
endif::[]
- NetworkManager 1.0 or later
- 1 vCPU.
- Minimum 8 GB RAM.
- Minimum 15 GB hard disk space for the file system containing *_/var/_*.
- An additional minimum 15 GB unallocated space to be used for Docker's storage
back end; see xref:configuring-docker-storage[Configuring Docker Storage]
below.
|===

[IMPORTANT]
====
{product-title} only supports servers with x86_64 architecture.
====

[NOTE]
====
Meeting the *_/var/_* file system sizing requirements in RHEL Atomic Host
requires making changes to the default configuration. See
https://access.redhat.com/documentation/en/red-hat-enterprise-linux-atomic-host/version-7/getting-started-with-containers/#managing_storage_in_red_hat_enterprise_linux_atomic_host[Managing
Storage in Red Hat Enterprise Linux Atomic Host] for instructions on configuring
this during or after installation.
====

[[configuring-core-usage]]

== Configuring Core Usage

By default, {product-title} masters and nodes use all available cores in the
system they run on. You can choose the number of cores you want {product-title}
to use by setting the https://golang.org/pkg/runtime/[`*GOMAXPROCS*` environment
variable].

For example, run the following before starting the server to make
{product-title} only run on one core:

====
----
# export GOMAXPROCS=1
----
====

ifdef::openshift-origin[]
Alternatively, if you plan to
xref:../../getting_started/administrators.adoc#running-in-a-docker-container[run
OpenShift in a Docker container], add `-e GOMAXPROCS=1` to the `docker run`
command when launching the server.
endif::[]

[[security-warning]]

== Security Warning

{product-title} runs
xref:../../architecture/core_concepts/containers_and_images.adoc#containers[Docker
containers] on your hosts, and in some cases, such as build operations and the
registry service, it does so using privileged containers. Furthermore, those
containers access your host's Docker daemon and perform `docker build` and
`docker push` operations. As such, you should be aware of the inherent security
risks associated with performing `docker run` operations on arbitrary images as
they effectively have root access.

For more information, see these articles:

- http://opensource.com/business/14/7/docker-security-selinux
- https://docs.docker.com/articles/security/

To address these risks, {product-title} uses
xref:../../architecture/additional_concepts/authorization.adoc#security-context-constraints[security
context constraints] that control the actions that pods can perform and what it
has the ability to access.


[[prereq-selinux]]

== SELinux

Security-Enhanced Linux (SELinux) must be enabled on all of the servers before
installing {product-title} or the installer will fail. Also, configure
`*SELINUXTYPE=targeted*` in the *_/etc/selinux/config_* file:

====
----
# This file controls the state of SELinux on the system.
# SELINUX= can take one of these three values:
#     enforcing - SELinux security policy is enforced.
#     permissive - SELinux prints warnings instead of enforcing.
#     disabled - No SELinux policy is loaded.
SELINUX=enforcing
# SELINUXTYPE= can take one of these three values:
#     targeted - Targeted processes are protected,
#     minimum - Modification of targeted policy. Only selected processes are protected.
#     mls - Multi Level Security protection.
SELINUXTYPE=targeted
----
====
