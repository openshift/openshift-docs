= Non-Interactive Installation
{product-author}
{product-version}
:data-uri:
:icons:
:experimental:
:toc: macro
:toc-title:
:prewrap!:

ifdef::openshift-enterprise[]
toc::[]

== Overview
You can run or re-run the OpenShift installer using a predefined non-interactive install configuration file. This file can be used to create additional hosts, upgrade systems, or re-install OpenShift.

To prepare a non-interactive install configuration file:

* Create the configuration file manually
+
Or,

* Use the file that the *atomic-openshift-installer* creates after a complete
install, which is configured with the settings from that install. By default,
this file is written to *_~/.config/openshift/install.cfg.yml_*.

== Prerequisites
include::install_config/install/quick_install.adoc[tag=prereq]

== Manually Creating the File

Manually created non-interactive installation config files must use the following format:

.Sample Non-Interactive Install Configuration File
[source,yaml]
----
variant: openshift-enterprise <1>
variant_version: 3.0 <2>
ansible_ssh_user: root
hosts: <4>
- ip: 10.0.0.1 <5>
  hostname: master-private.example.com <5>
  public_ip: 24.222.0.1 <6>
  public_hostname: master.example.com <6>
  master: true <7>
  node: true <7>
  containerized: true <8>
- ip: 10.0.0.2
  hostname: node1-private.example.com
  public_ip: 24.222.0.2
  public_hostname: node1.example.com
  node: true
- ip: 10.0.0.3
  hostname: node2-private.example.com
  public_ip: 24.222.0.3
  public_hostname: node2.example.com
  node: true
----

1. The OpenShift variant to install. Currently valid options are
`openshift-enterprise` or `atomic-enterprise`.
2. A valid version your selected variant. If not specified, this defaults to the
newest version for the specified variant. For example: `3.0` or `3.1`.
3. Defines which user Ansible will use to SSH in to remote systems for gathering facts, and for the installation. By default, this is the root user.
4. This section defines a list of the hosts onto which you want to install the
OpenShift master/node service.
5. Required. Allows the installer to connect to the system and gather facts
before proceeding with the install.
6. Required for unattended installations. If these details are not specified,
then this information is pulled from the facts gathered by the installer, and
you are asked to confirm the details. If undefined for an unattended
installation, then the installer fails.
7. Determines the type of services that are installed. At least one of these
must be set to `true` for the configuration file to be considered valid.
8. If set to `true`, then OpenShift services will be run in a container on this
host.

[[installing-openshift]]
== Completing a Non-Interactive Installation

== What's Next?

Now that you have a working OpenShift Enterprise instance, you can:

- link:../../admin_guide/configuring_authentication.html[Configure
authentication]; by default, authentication is set to
link:../../admin_guide/configuring_authentication.html#DenyAllPasswordIdentityProvider[Deny
All].
- Deploy an link:docker_registry.html[integrated Docker registry].
- Deploy a link:deploy_router.html[router].
- link:first_steps.html[Populate your OpenShift installation] with a useful set
of Red Hat-provided image streams and templates.
endif::[]
