// Module included in the following assemblies:

// * about/ols-configuring-openshift-lightspeed.adoc

:_mod-docs-content-type: REFERENCE
[id="ols-custom-resource-definition-file-parameters_{context}"]
= Lightspeed Custom Resource Definition specification

The following tables provide information about the `OLSConfig` Custom Resource Definition (CRD) specification 

.{ols-short} CRD parameters for Large Language Model (LLM) providers
[options="header"]
[cols="l, 4, 1, 1"]
|===
|Parameter |Description |Values |Required

|spec:
  llm:
    providers:
      name:
|Name of the LLM provider.
|String
|yes

|spec:
  llm:
    providers:
      type:
|LLM provider type.
|azure_openai, openai, watsonx, rhoai_vllm, rhelai_vllm
|yes

|spec:
  llm:
    providers:
      url:
|URL for API provider. The URL must start with `https://`.
|URL
|No

|spec:
  llm:
    providers:
      deploymentName:
|Name of the {azure-openai} deployment.
|string
|No

|spec:
  llm:
    providers:
      projectID:
|The {watsonx} project ID.
|string
|No

|spec:
  llm:
    providers:
      credentialsSecretRef:
|The name of the secret object that stores the API provider credentials
|string
|Yes

|spec:
  llm:
    providers:
      models:
|List of models from the Large Language Model (LLM) provider that you want {ols-long} to use. At least one model is required.
|string
|Yes
|===

.{ols-short} CRD parameters for Large Language Models
[options="header"]
[cols="l, 4, 1, 1"]
|===
|Parameter |Description |Values |Required

|spec:
  llm:
    providers:
      models:
        name:
|Model name.
|string
|yes

|spec:
  llm:
    providers:
      models:
        url:
|URL for the API model. The URL must start with `https://`.
|URL
|No

|spec:
  llm:
    providers:
      models:
        contextWindowSize:
|Defines the size of the context window that the LLM model uses for conversations. The default setting is specific to each LLM provider model. Verify the size of the context window for the specific model you are using. The minimum value that this parameter can accept is `1024`. If this parameter is not set, the default value is `8192`.
|Integer
|No

|spec:
  llm:
    providers:
      models:
        parameters:
|API parameters for the model. Most parameters are unique for each model.
|Dictionary
|No
|===

.{ols-short} CRD parameters for Large Language Model (LLM) provider model parameters
[options="header"]
[cols="l, 4, 1, 1"]
|===
|Parameter |Description |Values |Required

|spec:
  llm:
    providers:
      maxTokensForResponse:
|Maximum number of response tokens that the LLM provider uses. If this parameter is not set, the default value is `1024`.
|Integer
|No
|===

.CRD OLSSpec parameters
[options="header"]
[cols="l, 4, 1, 1"]
|===
|Parameter |Description |Values |Required

|spec:
  ols:
    defaultModel:
|The name of the default model.
|String
|Yes

|spec:
  ols:
    defaultProvider:
|Provider that the model uses by default.
|String
|No

|spec:
  ols:
    logLevel:
|The log level. The default is `Info`
|DEBUG,INFO, WARNING, ERROR, CRITICAL
|No

|spec:
  ols:
    queryFilters:
|Contains the list of query filters.
|Array or string.
|No
|===

.{ols-short} query filter CRD parameters
[options="header"]
[cols="l, 4, 1, 1"]
|===
|Parameter |Description |Values |Required

|spec:
  ols:
    queryFilters:
      name:
|Filter name.
|String
|No

|spec:
  ols:
    queryFilters:
      name:
        pattern:
|Filter pattern.
|regexp
|No

|spec:
  ols:
    queryFilters:
      replaceWith:
|Replacement for matching query. 
|String
|No
|===

.{ols-short} deployment CRD parameters
[options="header"]
[cols="l, 4, 1, 1"]
|===
|Parameter |Description |Values |Required

|spec:
   ols:
     deployment:
       replicas:
|Specifies the number of {ols-short} pods. The default is 1.
|Integer
|No
|===

.{ols-short} deployment data collector CRD parameters
[options="header"]
[cols="l, 4, 1, 1"]
|===
|Parameter |Description |Values |Required

|spec:
   ols:
     deployment:
       dataCollector:
         limits:
|Specifies the maximum amount of compute resources allocated for the container.
|Integer or string
|No

|spec:
   ols:
     deployment:
       dataColector:
         requests:
|Specifies the minimum amount of compute resources allocated for the container.  If this parameter is omitted, the value of the `Limits` parameter defines the minimum amount for the compute resources. Otherwise the parameter defaults to an implementation-defined value. `Requests` cannot exceed `Limits`.  
|Integer or string
|No
|===

.{ols-short} deployment API resource CRD parameters
[options="header"]
[cols="l, 4, 1, 1"]
|===
|Parameter |Description |Values |Required

|spec:
   ols:
     deployment:
       api:
         resources:
           requests:
|The minimum amount of compute resources required by the container. If `requests` is omitted the container defaults to the value of the `limits` parameter. If `limits` is not set the container uses an implementation-defined value.
|Integer or string.
|No
|===

.{ols-short} deployment API tolerations CRD parameters
[options="header"]
[cols="l, 4, 1, 1"]
|===
|Parameter |Description |Values |Required

|spec:
   ols:
     deployment:
       api:
         tolerations:
           effect:
|Indicates the taint effect to match so that a pod is not rejected by a node. If the parameter is empty all taint effects must match so that a pod is not rejected.
|NoSchedule, PreferNoSchedule and NoExecute
|No

|spec:
   ols:
     deployment:
       api:
         tolerations:
           key:
|Specifies the condition being imposed when you apply a taint to a node. If the parameter is empty, the Operator must be `Exists`. These configuration settings match all values and all keys.
|String
|No

|spec:
   ols:
     deployment:
       api:
         tolerations:
           operator:
|Represents the relationship between the taint key and the value. The default for this parameter is `Equal`. `Exists` is equivalent to a wildcard for value, so that a pod tolerates all taints of a particular category.
|Exists, Equal
|No

|spec:
   ols:
     deployment:
       api:
         tolerations:
           tolerationSeconds:
|Represents the period of time the toleration tolerates the taint. This parameter is not set by default, which means tolerate the taint forever (do not evict). Zero and negative values will be treated as 0 (evict immediately) by the system.
|Integer
|No

|spec:
   ols:
     deployment:
       api:
         tolerations:
           value:
|Specifies the taint value the toleration matches to. If the operator parameter is set to `Exists` the value should be empty. Otherwise, the value should be a regular string.
|String
|No
|===

.{ols-short} deployment console resources CRD parameters
[options="header"]
[cols="l, 4, 1, 1"]
|===
|Parameter |Description |Values |Required

|spec:
   ols:
     deployment:
       console:
         resources:
           claims:
|Lists the names of resources defined in `spec.resourceClaims` that the container uses.
|List
|No

|spec:
   ols:
     deployment:
       console:
         resources:
           liimts:
|Describes the maximum amount of compute resources allocated for the container.  
|Integration or strings
|No

|spec:
   ols:
     deployment:
       console:
         resources:
           requests:
|The minimum amount of compute resources required by the container. If omitted, the container either defaults to the value of the `Limits` parameter or uses an implementation-defined value. `Requests` cannot exceed `Limits`.  
|Integration or strings
|No
|===

.{ols-short} deployment console tolerations CRD parameters
[options="header"]
[cols="l, 4, 1, 1"]
|===
|Parameter |Description |Values |Required

|spec:
   ols:
     deployment:
       console:
         tolerations:
           effect:
|Indicates the taint effect to match. Empty means match all taint effects.  When specified, the allowed values are `NoSchedule`, `PreferNoSchedule` and `NoExecute`.
|String
|No

|spec:
   ols:
     deployment:
       console:
         tolerations:
           key:
|Key is the taint key that the toleration applies to. If the key is empty, the `operator`` parameter must be set to `Exists`. This setting matches all values and all keys.
|String
|No

|spec:
   ols:
     deployment:
       console:
         tolerations:
           operator:
|Represents the relationship between the key and the value.  Valid operators are `Exists` and `Equal`. The default setting is `Equal`. `Exists` is equivalent to a wildcard value so that a pod can tolerate all taints of a particular category.
|String
|No

|spec:
   ols:
     deployment:
       console:
         tolerations:
           tolerationSeconds:
|Represents the period of time the toleration (which must be of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default, it is not set, which means tolerate the taint forever (do not evict). Zero and negative values will be treated as 0 (evict immediately) by the system.
|Integer
|No

|spec:
   ols:
     deployment:
       console:
         tolerations:
           value:
|The taint value the toleration matches to. If the `operator` parameter is set to `Exists`, the value should be empty. Otherwise, the value should be a regular string.
|String
|No
|===