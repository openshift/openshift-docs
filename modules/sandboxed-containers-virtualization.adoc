//Module included in the following assemblies:
//
// * sandboxed_containers/understanding_sandboxed_containers-workloads.adoc

:_content-type: CONCEPT
[id="sandboxed-containers-workload-management_{context}"]

= {sandboxed-containers-first} workload management

==  {sandboxed-containers-first} building blocks

The {sandboxed-containers-operator} encapsulates all of the components from Kata containers. It manages installation, lifecycle, and configuration tasks.

The {sandboxed-containers-operator} is packaged in the xref:../operators/operator_sdk/osdk-working-bundle-images.adoc#osdk-working-bundle-images[Operator bundle format] as two container images. The bundle image contains metadata and is required to make the operator OLM-ready. The second container image contains the actual controller that monitors and manages the `KataConfig` resource.

== {sandboxed-containers-first} and {VirtProductName}

You can use {sandboxed-containers-first} on clusters with {VirtProductName}.

To run {VirtProductName} and {sandboxed-containers-first} at the same time, you must enable VMs to migrate, so that they do not block node reboots. Configure the following parameters on your VM:

* Use `ocs-storagecluster-ceph-rbd` as the storage class.
* Set the `evictionStrategy` parameter to `LiveMigrate` in the VM.

////
You can configure `KataContainers` as a runtime and deploy it together with virtual machines running KubeVirt or CNV on the same {product-title} cluster. You must configure the following CNV settings prior to deployment:

* `storage-class`::`ocs-storagecluster-ceph-rbd`
* `evictionStrategy`::`LiveMigrate`

////

== {sandboxed-containers-operator} {op-system} extensions

The {sandboxed-containers-operator} is based on the {op-system-first} extensions concept. {op-system-first} extensions are a mechanism to install optional {product-title} software. The {sandboxed-containers-operator} uses this mechanism to deploy sandboxed containers on a cluster.

The sandboxed containers {op-system} extension contains RPMs for Kata, QEMU, and its dependencies. You can enable them by using the `MachineConfig` resources that the Machine Config Operator provides.
