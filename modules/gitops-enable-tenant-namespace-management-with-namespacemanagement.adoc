// Module included in the following assemblies:
//
// * multitenancy/multitenancy-support-in-gitops.adoc

:_mod-docs-content-type: CONCEPT
[id="gitops-enable-tenant-namespace-management-with-namespacemanagement_{context}"]
= Enable tenant namespace management with the NamespaceManagement CR

[role="_abstract"]
By default, only a cluster administrator can enable Argo CD to manage a namespace by labeling it with `argocd.argoproj.io/managed-by: <argo-cd-namespace>`. Because modifying namespaces requires cluster-admin privileges, this approach is not suitable for tenant self-service.

_NamespaceManagement CR Overview_

The namespace management feature in {gitops-shortname} introduces a new `NamespaceManagement` custom resource (CR) that allows tenants to delegate control of their own namespaces to Argo CD instances without requiring direct cluster administrator action. For security reasons, this feature is disabled by default and must be explicitly enabled by a cluster administrator.

When enabled, Argo CD administrators can configure namespace management using glob patterns to match one or more namespaces, such as `/\*` or `tenant-/\*`. Tenants then create a `NamespaceManagement` custom resource (CR) in their target namespace. The {gitops-title} Operator automatically provisions the required role-based access control (RBAC) resources and updates the Argo CD cluster secret, ensuring that the namespace is managed correctly.

_Effects of `NamespaceManagement` CR_

The lifecycle of a `NamespaceManagement` CR determines how the {gitops-title} Operator responds:

* **Creation**: A Role and RoleBinding is created, and the namespace is added to the cluster secret.

* **Update**: RBAC and cluster secret entries are updated when the `.spec.managedBy` field changes.

* **Deletion**: The associated RBAC resources and cluster secret entries are removed.

If this feature is disabled at the `Subscription` level, all `NamespaceManagement` related configuration is cleaned up automatically.