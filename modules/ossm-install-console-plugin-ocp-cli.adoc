// Module included in the following assemblies:
//
// * service-mesh-docs-main/kiali/ossm-console-plugin-assembly.adoc

:_mod-docs-content-type: PROCEDURE
[id="ossm-install-console-plugin-ocp-cli_{context}"]
= Installing OSSMC plugin via OpenShift CLI

You can install the {SMPlugin} using the {ocp-short-name} CLI.

.Prerequisites

* You have access to the {ocp-short-name} cluster via CLI as an administrator.
* You have installed the {SMProduct} (OSSM).
* You have installed the `{istio}` control plane from OSSM 3.0.
* You have installed the {KialiServer} 2.4.
.Procedure

. Create a `OSSMConsole` custom resource (CR) to install the plugin:
+
[source,yaml,subs="attributes,verbatim"]
----
cat <<EOM | oc apply -f -
apiVersion: kiali.io/v1alpha1
kind: OSSMConsole
metadata:
  namespace: openshift-operators
  name: ossmconsole
spec:
  version: default
EOM
----
+
[NOTE]
====
The {OSSMC} (OSSMC) version must match with the {KialiServer} version. If `spec.version` field value is the string `default` or is not specified, the Kiali Operator installs OSSMC with the same version as the operator.
====
+
The plugin resources deploy in the same namespace as the `OSSMConsole` CR.

. Optional: If more than one {KialiServer} is installed in the cluster, specify the `spec.kiali` setting in the OSSMC CR. For example:
+
[source,yaml,subs="attributes,verbatim"]
----
cat <<EOM | oc apply -f -
apiVersion: kiali.io/v1alpha1
kind: OSSMConsole
metadata:
  namespace: openshift-operators
  name: ossmconsole
spec:
  kiali:
    serviceName: kiali
    serviceNamespace: istio-system-two
    servicePort: 20001
EOM
----

. Go to the {ocp-short-name} web console.

. Refresh the {ocp-short-name} Console UI to use the {SMPluginShort}.