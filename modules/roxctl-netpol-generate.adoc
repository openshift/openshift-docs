// Module included in the following assemblies:
//
// * command-reference/roxctl-netpol.adoc

:_mod-docs-content-type: REFERENCE
[id="roxctl-netpol-generate_{context}"]
= roxctl netpol generate

Recommend network policies based on the deployment information.

.Usage
[source,terminal]
----
$ roxctl netpol generate <folder_path> [flags] <1>
----

<1> For `<folder_path>`, specify the path to the directory containing your Kubernetes deployment and service configuration files.

.Options
[cols="2,2",options="header"]
|===
|Option |Description

|`--dnsport <int_or_string>`
a|Specify the DNS port or a named port that you want to use in the egress rules of synthesized network policies. For example:

* `roxctl netpol generate --dnsport 5353 <other_options>`
* `roxctl netpol generate --dnsport foo-dns <other_options>`.

|`--fail`
|Fail on the first encountered error. The default value is `false`.

|`-d`, `--output-dir string`
|Save generated policies into the target folder.

|`-f`, `--output-file string`
|Save and merge generated policies into a single YAML file.

|`--remove`
|Remove the output path if it already exists. The default value is `false`.

|`--strict`
|Treat warnings as errors. The default value is `false`.
|===

[NOTE]
====
If you do not specify a port, the `roxctl netpol generate` command uses port `53` for DNS connections.

If you are using {ocp}, you might need to change the port when generating network policies by using the `roxctl` CLI. If you do not change the port, {ocp} uses port `5353` and assigns the name `dns` for this port automatially. You can use the `--dnsport` option to override the default DNS port. For example:

* `roxctl netpol generate --dnsport 5353 <other_options>`
* `roxctl netpol generate --dnsport dns <other-options>`.
====

