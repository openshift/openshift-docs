// Module included in the following assemblies:
//
// * installing/installing_aws/installing-aws-default.adoc
// * installing/installing_aws/installing-aws-customizations.adoc
// * installing-byoh/installing-existing-hosts.adoc

[id='installation-overview-{context}']
= {product-title} installation overview

You use the {product-title} installer to create {product-title} clusters in
//a variety of environments. The same installer allows you to install
//{product-title} on your own infrastructure or in
Amazon Web Services (AWS).
By default, the installation program acts as an installation wizard, prompting you
for values that it cannot determine on its own and providing reasonable default
values for the remaining parameters. You can also customize the installation
process to support advanced infrastructure scenarios. The installation program provisions
the underlying infrastructure for the cluster.

////
In supported cloud environments, the installation program can also provision the underlying
infrastructure for the cluster. If possible, use this feature to avoid
having to provision and maintain the cluster infrastructure. In all other
environments, you use the installation program to generate the assets that you need to
provision your cluster infrastructure.
////

[NOTE]
====
In {product-title} version 4.0, the installation program can only provision infrastructure
for clusters on AWS.
//If you use another cloud provider or on-premises hardware, you must provide the infrastructure.
====

[discrete]
== Cluster installation process

In supported cloud environment scenarios, {product-title} manages all aspects of
the cluster, including the operating system itself. Each machine boots with a
configuration that references resources hosted in the cluster that it joins.
This configuration allows the cluster to manage itself as updates are applied.

Because each machine in the cluster requires information about the cluster when
it is provisioned, {product-title} uses a temporary _bootstrap_ machine during
initial configuration. This machine provides the required information. It boots
by using an Ignition
configuration that describes how to create the cluster. This temporary machine
is a temporary control plane that launches the rest of the cluster and then is
destroyed.

The main assets generated by the installation program are the Ignition configurations for the
bootstrap, master, and worker machines. With these three configurations and correctly
configured infrastructure, you can start an {product-title} cluster.

Bootstrapping a cluster involves the following steps:

. The bootstrap machine boots and starts hosting the remote resources required
for the master machines to boot.
. The master machines fetch the remote resources from the bootstrap machine
and finish booting.
. The master machines use the bootstrap node to form an etcd cluster.
. The bootstrap node starts a temporary Kubernetes control plane using the
new etcd cluster.
. The temporary control plane schedules the production control plane to the
master machines.
. The temporary control plane shuts down and passes control to the production
control plane.
. The bootstrap node injects {product-title} components into the production
control plane.
. The installation program shuts down the bootstrap node.

The result of this bootstrapping process is a fully running {product-title}
cluster. The cluster then downloads and configures remaining components
needed for the day-to-day operation, including the creation of worker machines
in supported environments.

[discrete]
== Installation scope

The scope of the {product-title} 4 installation program is intentionally narrow.
It is designed for simplicity and ensured success. You can complete many
more configuration tasks after installation completes.
