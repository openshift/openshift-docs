// Module included in the following assemblies:
//
// * installing/install_config/configuring-firewall.adoc

:_mod-docs-content-type: PROCEDURE
[id="network-commatrix-plugin-install_{context}"]
= Installing the commatrix plugin

[role="_abstract"]
You can install the `commatrix` plugin from the Red Hat Ecosystem Catalog.

[NOTE]
====
You can also install the `commatrix` plugin by using Krew. For more information, see "{cli-manager} overview".
====

.Prerequisites
* You installed the OpenShift CLI (`oc`).
* You installed Podman.

.Procedure

. Log in to the Red Hat Ecosystem Catalog registry by running the following command and entering your credentials:
+
[source,bash]
----
$ podman login registry.redhat.io
----

. Extract the `commatrix` binary from the plugin image by running the following commands:
+
[source,bash]
----
$ podman create --name oc-commatrix registry.redhat.io/openshift-kni/commatrix:v4.21
$ podman cp oc-commatrix:/oc-commatrix .
$ podman rm oc-commatrix
----

. Move the extracted binary to a directory in your system `PATH`, such as `/usr/local/bin/`, by running the following command:
+
[source,bash]
----
sudo mv oc-commatrix /usr/local/bin/
----


.Verification

* Run the following command to verify that the plugin is available locally:
+
[source,bash]
----
$ oc commatrix
----
+
[source,bash]
----
Generate an up-to-date communication flows matrix for all ingress flows of openshift (multi-node and single-node in OpenShift) and Operators.

 Optionally, generate a host open ports matrix and the difference with the communication matrix.

 For additional details, please refer to the communication matrix documentation(https://github.com/openshift-kni/commatrix/blob/main/README.md).

Usage:
  commatrix [command]

Available Commands:
  completion  Generate the autocompletion script for the specified shell
  generate    Generate an up-to-date communication flows matrix for all ingress flows.
  help        Help about any command

Flags:
  -h, --help   help for commatrix

Use "commatrix [command] --help" for more information about a command.
----
