// Module included in the following assemblies:
//
// * cloud_experts_tutorials/cloud-experts-getting-started/cloud-experts-rosa-sts-explained.adoc

:_mod-docs-content-type: CONCEPT

[id="cloud-experts-components-specific-to-rosa-with-sts_{context}"]
= Components specific to {product-title} with STS

[role="_abstract"]
* *AWS infrastructure* - This provides the infrastructure required for the cluster. It contains the actual EC2 instances, storage, and networking components.
* *AWS STS* - See the credential method section above.
* *OpenID Connect (OIDC)* - This provides a mechanism for cluster Operators to authenticate with AWS, assume the cluster roles through a trust policy, and obtain temporary credentials from STS to make the required API calls.
* *Roles and policies* - The roles and policies are one of the main differences between {product-title} with STS and {product-title} with IAM Users. For {product-title} with STS, the roles and policies used by {product-title} are broken into account-wide roles and policies and Operator roles and policies.
+
The policies determine the allowed actions for each of the roles. See xref:../../rosa_architecture/rosa-sts-about-iam-resources.adoc#rosa-sts-about-iam-resources[About IAM resources] for more details about the individual roles and policies.
+
** The following account-wide roles are required:
+
*** ManagedOpenShift-Installer-Role
*** ManagedOpenShift-ControlPlane-Role
*** ManagedOpenShift-Worker-Role
*** ManagedOpenShift-Support-Role
+
** The following account-wide policies are required:
+
*** ManagedOpenShift-Installer-Role-Policy
*** ManagedOpenShift-ControlPlane-Role-Policy
*** ManagedOpenShift-Worker-Role-Policy
*** ManagedOpenShift-Support-Role-Policy
*** ManagedOpenShift-openshift-ingress-operator-cloud-credentials ^[1]^
*** ManagedOpenShift-openshift-cluster-csi-drivers-ebs-cloud-credent ^[1]^
*** ManagedOpenShift-openshift-cloud-network-config-controller-cloud ^[1]^
*** ManagedOpenShift-openshift-machine-api-aws-cloud-credentials ^[1]^
*** ManagedOpenShift-openshift-cloud-credential-operator-cloud-crede ^[1]^
*** ManagedOpenShift-openshift-image-registry-installer-cloud-creden ^[1]^
+
[.small]
--
1. This policy is used by the cluster Operator roles, listed below. The Operator roles are created in a second step because they are dependent on an existing cluster name and cannot be created at the same time as the account-wide roles.
--
+
** The Operator roles are:
+
*** <cluster-name\>-xxxx-openshift-cluster-csi-drivers-ebs-cloud-credent
*** <cluster-name\>-xxxx-openshift-cloud-network-config-controller-cloud
*** <cluster-name\>-xxxx-openshift-machine-api-aws-cloud-credentials
*** <cluster-name\>-xxxx-openshift-cloud-credential-operator-cloud-crede
*** <cluster-name\>-xxxx-openshift-image-registry-installer-cloud-creden
*** <cluster-name\>-xxxx-openshift-ingress-operator-cloud-credentials
+
** Trust policies are created for each account-wide and Operator role.