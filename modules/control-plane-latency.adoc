// Module included in the following assemblies:
//
// * scalability_and_performance/control-plane-latency-recommendations-for-reliable-clusters.adoc

:_mod-docs-content-type: CONCEPT
[id="control-plane-latency_{context}"]
= Recommended control plane latency for cluster reliability

Latency between each of the control plane nodes must be less than 15ms to ensure a well performing and reliable cluster. Some of the metrics to keep track of include etcd gRPC requests latency, fysnc latency and any critical alerts. 

The following PromQL queries can help monitor latency requirements:
[source,terminal]
----
histogram_quantile(0.99, sum(rate(grpc_server_handling_seconds_bucket{job=~".*etcd.*", grpc_method!="Defragment", grpc_type="unary"}[5m])) without(grpc_type)) < 0.15

avg_over_time(histogram_quantile(0.99, rate(etcd_disk_wal_fsync_duration_seconds_bucket[2m]))[10m:]) < 1

ALERTS{severity="critical", alertstate="firing"} > 0

----
