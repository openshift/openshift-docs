// Module included in the following assemblies:
//
// * osd_cluster_create/managing-byo-vpc-single-az.adoc

[id="byo-vpc-single-az_{context}"]
= Configuring subnets for a VPC with a single availability zone

For virtual private clouds (VPC) with a single availability zone, you must configure a public subnet and private subnet, and then create the appropriate routing rule and NAT gateway for this availability zone.

.Procedure

. Create two subnets as follows:
+
[cols="2",options="header"]
|===
| Subnet name | CIDR IP address
| `public`  | `10.0.0.0/17`
| `private` | `10.0.128.0/17`
|===

. Create a route table that has an association with the public subnet.
. Create a routing rule on the route table that is associated with the public subnet for IP address `0.0.0.0/0` to the internet gateway you created.
. On the `public` subnet, create a NAT gateway with an elastic internet address (EIP). Name this gateway `private`.
. Create a routing rule on the route table that is associated with the private subnet for IP address `0.0.0.0/0` to the internet gateway you created.

.Additional resources

* For information on route table association, see link:https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Route_Tables.html#RouteTables[Route tables for your VPC] in the AWS documentation.
