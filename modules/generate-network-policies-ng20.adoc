// Module included in the following assemblies:
//
// * operating/manage-network-policies.adoc
:_mod-docs-content-type: PROCEDURE
[id="generate-network-policies-ng20_{context}"]
= Generating network policies in the network graph

[role="_abstract"]
{product-title-short} lets you automatically generate network policies based on the actual observed network communication flows in your environment.

You can generate network policies from the network graph.

The generated policies apply to all of the deployments that exist in the currently-selected cluster and they allow all network traffic observed during the baseline discovery period.

.Procedure
. In the {product-title-short} portal, navigate to *Network Graph*.
. Select a cluster, and then select one or more namespaces.
. In the network graph header, select *Simulate network policy*. {product-title-short} generates policies for all of the deployments that exist in the selected cluster.
. Optional: In the information panel that opens, select *Exclude ports & protocols* if you do not want ports and protocols to be scoped in {product-title-short} generated policies.
. Select *Generate and simulate network policies*.
The generated network policy configuration YAML file opens in the same panel, and the network graph shows the effects of the policies.
