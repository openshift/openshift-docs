// Module included in the following assemblies:
//
// * release_notes/logging-release-notes.adoc

:_mod-docs-content-type: REFERENCE
[id="logging-release-notes-6-4-2_{context}"]
= Logging 6.4.2 release notes

This release includes link:<todo>[<todo>].

[id="logging-release-notes-6-4-2-bug-fixes_{context}"]
== Bug fixes

* Before this update, you could leave the `logType` field empty in the Azure Monitor output specification.
However, `logType` field is required by the Vector collector.
Missing `logType` field causes Vector collector failure.
With this update you cannot pass an empty `logType` field for the Azure Monitor in the `ClusterLogForwarder` custom resource (CR).
As a result, Vector pods no longer crash due to missing `logType` definition.
(link:https://issues.redhat.com/browse/LOG-8007[LOG-8007])

* Before this update, an EventRouter message with a newline character (\n) caused malformed syslog data and split events due to broken framing.
With this update, newline characters in log message payloads are properly escaped.
As a result, the syslog sink emits a single, well formed line even when an EventRouter message contains a newline character.
(link:https://issues.redhat.com/browse/LOG-8090[LOG-8090])

* Before this update, if you did not define a port for the http/https output, enabling NetworkPolicy for the {clo} blocked egress for the collector.
With this update, the NetworkPolicy has been updated to use well-known port values for http/https ports.
As a result, egress for a collector is not blocked if enable NetworkPolicy without specifying the port for http/https output.
(link:https://issues.redhat.com/browse/LOG-8091[LOG-8091])

* Before this update, the `RestrictIngressEgress` network policy blocked traffic to the HTTP proxy.
As a consequence, user logs were not forwarded to the HTTP output via HTTP proxy.
With this update, the network policy for `RestrictIngressEgress` allows traffic to the HTTP proxy.
As a result, you can forward logs to the HTTP output via HTTP proxy with `RestrictIngressEgress` network policy in place.
(link:https://issues.redhat.com/browse/LOG-8109[LOG-8109])

* Before this update, the network policy port list lacked sorting when multiple outputs or inputs receivers were present in the `ClusterLogForwarder` custom resource (CR).
As a consequence, the user experience was inconsistent with port order in network policies when multiple outputs or inputs were present.
With this update, network policy port sorting has been fixed for serialization consistency.
As a result, the network policy port order remains consistent, reducing unexpected changes in the end user's ClusterLogForwarder configuration.
(link:https://issues.redhat.com/browse/LOG-8129[LOG-8129])

* Before this update, enabling the `RestrictIngressEgress` network policy rule restricted scraping of collector metrics.
This update fixes the issue by deploying a network policy that relies upon the port number instead of the named port.
As a result, you can now scrape collector metrics with the `RestrictIngressEgress` network policy enabled.
(link:https://issues.redhat.com/browse/LOG-8130[LOG-8130])

* Before this update, the LokiStack API specification did not specify that container fields cannot be pruned in LokiStack.
As a result the output contained the container fields even if users pruned them in the LokiStack CR.
With this update, the LokiStack API specification clearly states that container cannot be pruned.
(link:https://issues.redhat.com/browse/LOG-8507[LOG-8507])

* Before this update, a short timeout between the distributor and ingester component caused HTTP 503 errors when ingesting logs into LokiStack under high loads.
With this update, the timeout has been increased to prevent the errors.
(link:https://issues.redhat.com/browse/LOG-8583[LOG-8583])
