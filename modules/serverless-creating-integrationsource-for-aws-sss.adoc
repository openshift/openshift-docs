// Module included in the following assemblies:
//
// * /serverless/eventing/event-sources/serverless-integrationsource.adoc

:_mod-docs-content-type: PROCEDURE
[id="serverless-creating-integrationsource-for-aws-sss_{context}"]
= Creating an IntegrationSource for AWS S3

To create an `IntegrationSource` API that receives data from an Amazon S3 bucket, apply a YAML manifest.

.Prerequisites

* You have created your AWS credentials and stored them in a Kubernetes Secret in the same namespace as the `IntegrationSource` resource.
* You have the OpenShift CLI (oc) installed and are logged in to the target cluster.
* You know the namespace where the `IntegrationSource` resource will be created.
* A Knative broker or another event sink exists to receive S3 events.

.Procedure

. Save the following YAML manifest as `integration-source-aws-s3.yaml`:
+
[source,yaml]
----
apiVersion: sources.knative.dev/v1alpha1
kind: IntegrationSource
metadata:
  name: integration-source-aws-s3
  namespace: knative-samples
spec:
  aws:
    s3:
      arn: "arn:aws:s3:::my-bucket"
      region: "eu-north-1"
    auth:
      secret:
        ref:
          name: "my-secret"
  sink:
    ref:
      apiVersion: eventing.knative.dev/v1
      kind: Broker
      name: default
----

. Apply the manifest by running the following command:
+
[source,terminal]
----
$ oc apply -f integration-source-aws-s3.yaml
----
+
This manifest configures the `IntegrationSource` API to monitor an Amazon S3 bucket identified by its Amazon Resource Name (ARN)`arn:aws:s3:::my-bucket` in the `eu-north-1 region`. The `auth.secret.ref.name` field references the Kubernetes Secret (`my-secret`) that stores your AWS credentials. Events are delivered to the `default` Knative broker defined in the sink section.