// This module is included in the following assemblies:
// * create/using-manual-approval.adoc

:_mod-docs-content-type: REFERENCE
[id="op-managing-approval-task-with-cli_{context}"]
= Managing approval task with CLI

[role="_abstract"]
The `tkn-approvaltask` CLI plugin provides support for approval tasks. It includes commands to list, describe, approve, and reject approval tasks.

== Supported CLI commands

* `list` - List approval tasks.
* `describe` - Show details about an approval task.
* `approve` - Approve an approval task.
* `reject` - Reject an approval task.

The following examples demonstrate how to use the `tkn-approvaltask` CLI commands in different scenarios.

.List approval tasks
[source,terminal]
----
$ tkn-approvaltask list -n production
NAME                       NumberOfApprovalsRequired   PendingApprovals   Rejected   STATUS
deployment-approval        3                           1                  0          Pending
security-review            1                           0                  1          Rejected
----

The following is an example of describing an approval task.

[source,terminal]
----
$ tkn-approvaltask describe deployment-approval -n production
Name: deployment-approval
Namespace: production
PipelineRunRef: pr-abc123
Approvers: alice, bob, dev-team
----

The following is an example of approving an approval task with a message.

[source,terminal]
----
$ tkn-approvaltask approve deployment-approval -m "Tests passed"
ApprovalTask deployment-approval is approved in production namespace
----

The following is an example of rejecting an approval task with a message.

[source,terminal]
----
$ tkn-approvaltask reject deployment-approval -m "Critical bugs found"
ApprovalTask deployment-approval is rejected in production namespace
----

Use the following flags with the `opc downstream` CLI commands:

[cols="2,4,4",options="header"]
|===
| Flag | Description | Example
| `-n, --namespace` | Specifies the Kubernetes namespace | `-n production`
| `-o`, `--output` | Specifies the output format, such as `json`, `yaml`, or `wide` | `-o yaml`
| `--kubeconfig` | Specifies the path to the `kubeconfig` file | `--kubeconfig ~/.kube/config`
| `-v`, `--verbose` | Enables verbose output | `-v`
| `--help` | Show help | `--help`
|===
