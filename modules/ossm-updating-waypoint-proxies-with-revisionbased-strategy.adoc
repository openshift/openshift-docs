// Module included in the following assemblies:
// update/ossm-updating-openshift-service-mesh-in-ambient-mode.adoc

:_mod-docs-content-type: PROCEDURE
[id="ossm-updating-waypoint-proxies-with-revisionbased-strategy_{context}"]
= Updating waypoint proxies with RevisionBased strategy in ambient mode

[role="_abstract"]
In ambient mode, you can update waypoint proxies by using the `RevisionBased` update strategy. During the migration period, the proxies remain compatible with many control plane versions and automatically connect to the active control plane revision.

[NOTE]
====
Keep waypoint proxies within one minor version of the control plane (same version or `nâ€“1`). This recommendation aligns with the support policy of {istio}, which states that data plane components must not run ahead of the control plane version. Apply the same versioning guidance to {istio} Container Network Interface (CNI) and `Ztunnel` components. For more details, see the "{istio} Supported Releases" documentation.
====

.Prerequisites

* You have updated the {istio} control plane with `RevisionBased` update strategy.

.Procedure

. After the new {istio} control plane revision is ready, verify waypoint proxy pods are running by entering the following command:
+
[source,terminal]
----
$ oc get pods -n bookinfo -l gateway.networking.k8s.io/gateway-name=waypoint
----
+
You should see an output similar to the following example:
+
[source,terminal]
----
NAME                       READY   STATUS    RESTARTS   AGE
waypoint-5d9c8b7f9-abc12   1/1     Running   0          5m
----

. Confirm that the waypoint proxy is updated to the latest version by running the following command:
+
[source,terminal]
----
$ istioctl proxy-status | grep waypoint
----
+
You should see an output similar to the following example:
+
[source,terminal,subs="+attributes"]
----
waypoint-5d9c8b7f9-abc12.bookinfo     SYNCED     SYNCED     SYNCED     SYNCED     istiod-1-27-3-7b9f8c5d6-xyz78.istio-system     {istio-latest}
----
+
You can run the command to query the {istio} control plane and verify that the waypoint proxy is connected to the new revision. The output lists the revision-specific `istiod` pod (for example, `istiod-1-27-3`) and shows that the waypoint proxy is running the updated version, {istio-latest}. The revision-specific name in the `ISTIOD` column confirms that the waypoint proxy has successfully migrated to the new control plane revision.