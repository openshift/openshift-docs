// Module included in the following assemblies:
//
// * installing/disconnected_install/installing-mirroring-disconnected.adoc

:_mod-docs-content-type: PROCEDURE
[id="setting-incremental-mirroring_{context}"]
= Setting up for incremental mirroring

You mirror images to install, upgrade, and maintain {product-title} in a disconnected environment. Because the volume of the image set needed to install or upgrade {product-title} can be substantial, oc-mirror plugin v1 stores the metadata of the previously mirrored images in its storage backend thus reducing the volume of the image sets to the recent images only.

You can specify the following storage backends:

* A local directory 
+
[NOTE]
====
Using a local directory is not recommended for enterprise scenarios because it does not scale effectively. This method is suitable only for small-scale environments or testing purposes.
====
+
.Example `ImageSetConfiguration` file
[source,terminal]
----
kind: ImageSetConfiguration
apiVersion: mirror.openshift.io/v1alpha2
storageConfig:                                                    
  local:
    path: <oc_mirror_workspace> <1>
----
<1> Specify your target workspace path.

* A registry that supports Docker v2-2
+
.Example `ImageSetConfiguration` file
[source,terminal]
----
kind: ImageSetConfiguration
apiVersion: mirror.openshift.io/v1alpha2
storageConfig:                                                    
  registry:
    imageURL: <storage_backend> <1>              
    skipTLS: false
----
<1> Specifies the location of your storage backend, such as `example.com/mirror/oc-mirror-metadata`.

When mirroring content with the oc-mirror plugin v1, consider the following:

* Ensure you always use the same storage backend and the same image set configuration for a given mirror registry location, so that the metadata remains consistent.

* Do not attempt to push or prune images of that mirror registry location manually, without using oc-mirror plugin v1.

* Do not delete or modify the metadata that is generated by the oc-mirror plugin v1.

* Keep a backup of the storage backend when mirroring content to a given location on your mirror registry with the oc-mirror plugin v1.