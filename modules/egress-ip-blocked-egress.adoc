// Module included in the following assemblies:
//
// * cloud_experts_tutorials/cloud-experts-consistent-egress-ip.adoc

:_mod-docs-content-type: PROCEDURE
[id="cloud-experts-consistent-egress-ip-blocked-egress_{context}"]
= Optional: Testing blocked egress

[role="_abstract"]
You can test if the egress is blocked by using {oc-first} tool.

.Procedure
. Test that the traffic is successfully blocked when the egress rules do not apply by running the following command:
+
[source,terminal]
----
$ oc run \
  demo-egress-pod-fail \
  -it \
  --namespace=demo-egress-pod \
  --env=LOAD_BALANCER_HOSTNAME=$LOAD_BALANCER_HOSTNAME \
  --image=registry.access.redhat.com/ubi9/ubi -- \
  bash
----
+
. Send a request to the load balancer by running the following command:
+
[source,terminal]
----
$ curl -s http://$LOAD_BALANCER_HOSTNAME
----
+
. If the command is unsuccessful, egress is successfully blocked.
. Exit the pod by running the following command:
+
[source,terminal]
----
$ exit
----