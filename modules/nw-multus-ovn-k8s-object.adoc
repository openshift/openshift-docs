// Module included in the following assemblies:
//
// * networking/multiple_networks/configuring-additional-network.adoc

[id="nw-multus-ovn-k8s-object_{context}"]
= Configuration for an OVN-Kubernetes additional network

The following object describes the configuration parameters for the OVN-Kubernetes CNI network plugin:

.OVN-Kubernetes network plugin JSON configuration object
[cols=".^2,.^2,.^6",options="header"]
|====
|Field|Type|Description

|`cniVersion`
|`string`
|The CNI specification version. The `0.3.1` value is required.

|`name`
|`string`
|The value for the `name` parameter you provided previously for the CNO configuration.

|`type`
|`string`
|The name of the CNI plugin to configure: `ovn-k8s-cni-overlay`.

|`topology`
|`string`
|The topological configuration for the network. The value must be either `layer2` or `layer3`.

|`subnets`
|`string`
| The subnet to use for the network across the cluster. If you specify `layer3` for the `topology`, the value must include CIDR ranges for both the cluster and per node. For example, `10.128.0.0/16/24` specifies a `/16` cluster CIDR and a `/24` node CIDR range. If you specify `layer2` for the `topology`, only include the CIDR for the node. For example, `10.100.200.0/24`.

|`mtu`
|`string`
|The maximum transmission unit (MTU) to the specified value. The default value is automatically set by the kernel.

|`netAttachDefName`
|`string`
| The namespace and the network attachment name. The value must match the values specified for `namespace` and `name` when defining the network attachment definition object. For example, `ns1/l3-network` refers to the `ns1` namespace and the `l3-network` network attachment definition name.

|====

[id="nw-multus-ovn-k8s-config-example_{context}"]
== OVN-Kubernetes plugin configuration examples

The following examples describe additional networks that use the OVN-Kubernetes CNI network plugin.

.OVN-Kubernetes CNI plugin layer 3 configuration example
[source,yaml]
----
{
  "cniVersion": "0.3.1",
  "name": "l3-network",
  "type": "ovn-k8s-cni-overlay",
  "topology":"layer3",
  "subnets": "10.128.0.0/16/24",
  "mtu": 1300,
  "netAttachDefName": "ns1/l3-network"
}
----

.OVN-Kubernetes CNI plugin layer 2 configuration example
[source,yaml]
----
{
  "cniVersion": "0.3.1",
  "name": "l2-network",
  "type": "ovn-k8s-cni-overlay",
  "topology":"layer2",
  "subnets": "10.100.200.0/24",
  "mtu": 1300,
  "netAttachDefName": "ns1/l2-network"
}
----
