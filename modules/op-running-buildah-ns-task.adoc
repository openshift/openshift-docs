// This module is included in the following assemblies:
// * secure/using-buildah-ns-tekton-task.adoc

:_mod-docs-content-type: PROCEDURE

[id="running-buildah-ns-task_{context}"]
= Running the `buildah-ns` task

[role="_abstract"]
You can run the `buildah-ns` task as part of a `PipelineRun` resource.

.Procedure

. Create a YAML file that defines `PipelineRun` object:
+
.Example `pipeline-run.yaml` file
[source,yaml]
----
apiVersion: tekton.dev/v1beta1
kind: PipelineRun
metadata: {}
spec:
  pipelineRef:
    name: task-buildah-ns
  params:
    - name: IMAGE
      value: your-image-name
    - name: TLS_VERIFY
      value: true
    - name: VERBOSE
      value: false
  workspaces:
    - name: source
      persistentVolumeClaim:
        claimName: your-pvc-name
----
+
`params.name`:: Replace `your-image-name` with the full name of the container image that you want to build.
`workspaces.persistentVolumeClaim.claimName`:: Replace `your-pvc-name` with the name of the `PersistentVolumeClaim` (PVC) that stores the application source code.
+
[NOTE]
====
If the target container registry requires authentication, configure a Kubernetes secret for registry access and link it to the service account that runs the `TaskRun` or `PipelineRun` resources.
====

. Create the `PipelineRun` resource by applying the YAML file:
+
[source,terminal]
----
$ oc apply -f pipeline-run.yaml
----
