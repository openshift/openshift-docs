// Module included in the following assemblies:
//

:_content-type: PROCEDURE
[id="logging-loki-stream-retention_{context}"]
= Configuring Loki stream based retention



.Prerequisites
* LokiStack Operator version 5.6


.Procedure
. Create or edit your `LokiStack` custom resource (CR).

[source,terminal]
$ oc edit LokiStack

.. Use the example below to populate your `LokiStack` CR.

[source,yaml]
----
apiVersion: loki.grafana.com/v1
kind: LokiStack
metadata:
  name: lokistack-sample
  namespace: openshift-logging
spec:
  limits:
    global:
      retention:
        days: 20
    tenants:
      application:
        retention:
          days: 1
          streams:
            - days: 4
              selector: '{kubernetes_namespace_name="test"}'
      audit:
        retention:
          days: 15
  managementState: Managed
  replicationFactor: 1
  size: 1x.extra-small
  storage:
    schemas:
    - effectiveDate: "2020-10-11"
      version: v11
    secret:
      name: gcs-secret
      type: gcs
  storageClassName: standard
  tenants:
    mode: openshift-logging
----
