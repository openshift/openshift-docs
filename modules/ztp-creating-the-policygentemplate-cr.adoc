// Module included in the following assemblies:
//
// scalability_and_performance/ztp-deploying-disconnected.adoc

:_content-type: PROCEDURE
[id="ztp-creating-the-policygentemplate-cr_{context}"]
= Creating the PolicyGenTemplate CR

Use this procedure to create the `PolicyGenTemplate` CR for your site in your local clone of the Git repository.

.Procedure

. Choose an appropriate example from `out/argocd/example/policygentemplates`.
This directory demonstrates a three-level policy framework that represents a well-supported
low-latency profile tuned for the needs of 5G Telco distributed unit (DU) deployments:
+
* A single `common-ranGen.yaml` file that should apply to all types of sites.
* A set of shared `group-du-*-ranGen.yaml` files, each of which should be common across a set
of similar clusters.
* An example `example-*-site.yaml` that is typically copied and updated for each individual site.

. Ensure the labels defined in your PGTs `bindingRules` section correspond to the proper labels
defined on the `SiteConfig` files of the clusters you are managing.

. Ensure the content of the overlaid spec files matches your desired end state.
As a reference, the `out/source-crs` directory contains the full list of source-crs available to be
included and overlaid by your PGT templates.
+
[NOTE]
====
Depending on the specific requirements of your clusters, you may need more than just a single group policy
per cluster type, especially considering that the example group policies each have a single
PerformancePolicy that can only be shared across a set of clusters if those clusters consist of
identical hardware configurations.
====

. Define all of the policy namespaces in a `yaml` file much like in the example
`out/argocd/example/policygentemplates/ns.yaml` file.

. Add all of the PGTs and ns.yaml to the `kustomization.yaml` file, much like in the
example `out/argocd/example/policygentemplates/kustomization.yaml` file.

. Commit the `PolicyGenTemplate` CRs, `ns.yaml`, and the associated `kustomization.yaml` file in the Git repository.
