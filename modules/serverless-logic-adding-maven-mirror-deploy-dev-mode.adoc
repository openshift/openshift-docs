// Module included in the following assemblies:
// * serverless-logic/serverless-logic-configuring-custom-maven-mirrors.adoc


:_mod-docs-content-type: PROCEDURE
[id="serverless-logic-adding-maven-mirror-deploy-dev-mode_{context}"]
= Adding a Maven mirror when deploying in development mode

You can configure a Maven mirror for workflows that run in `dev` mode by adding the `MAVEN_MIRROR_URL` environment variable to the `SonataFlow` custom resource (CR). 

.Prerequisites 

* You have created your {ServerlessLogicProductName} project. 
* You have access to a {ServerlessLogicProductName} project with the appropriate roles and permissions to create applications and other workloads in {ocp-product-title}.
* You have a workflow deployed in `dev` profile.
* You have access to a custom Maven mirror or internal repository.

.Procedure

* Edit the `SonataFlow` CR to include the Maven mirror configuration as shown in the following example:
+
.Example of Maven mirror configuration on SonataFlow CR
[source,yaml]
----
apiVersion: sonataflow.org/v1alpha08
kind: SonataFlow
metadata:
  name: greeting
  annotations:
    sonataflow.org/description: Greeting example on k8s!
    sonataflow.org/version: 0.0.1
    sonataflow.org/profile: dev
spec:
  podTemplate:
    container:
      env:
        - name: MAVEN_MIRROR_URL <1>
          value: http://my.company.registry.local
  flow: #suppressed for brevity
----
+
<1> The `MAVEN_MIRROR_URL` variable specifies the custom Maven mirror.

[NOTE]
====
Only workflows deployed with the `dev` profile can use Maven mirrors. Other deployment models run compiled code only, so they do not need to connect to a Maven registry.
====