// Module included in the following assemblies:
//
// * support/remote_health_monitoring/remote-health-reporting-from-restricted-network.adoc



[id="insights-operator-manual-upload_{context}"]
= Manually uploading an Insights Operator archive

You can manually upload an Insights Operator archive to cloud.redhat.com to diagnose potential issues.

.Prerequisites

* Workstation with unrestricted internet access
* Insights Operator archive 

.Procedure

. Find your *link:https://docs.openshift.com/container-platform/latest/support/gathering-cluster-data.html#support-get-cluster-id_gathering-cluster-data[cluster ID]*.
. Download your `dockerconfig.json` file:
+
[source,terminal]
----
$ oc extract secret/pull-secret -n openshift-config --to=.
----
. Gather your `"auth"` token from `dockerconfig.json`:
+
[source,json]
----
{    
  "auths": {        
    "cloud.openshift.com": {            
      "auth": "<your_token>",
      "email": "asd@redhat.com"
    }
}
----


. Run this command to upload the archive to cloud.redhat.com.
+
[source,terminal]
----
$ curl -v -H "User-Agent: insights-operator/one10time200gather184a34f6a168926d93c330 cluster/<cluster_id>" -H "Authorization: Bearer <your_token>" -F "upload=@p<path_to_archive>; type=application/vnd.redhat.openshift.periodic+tar" https://cloud.redhat.com/api/ingress/v1/upload
----
Where *<cluster_id>* is your cluster ID, *<your_token>* is the token from your pull secret, and *<path_to_archive>* is the path to your Insights Operator archive. 

.Verification steps

. Log in to link:https://cloud.redhat.com/openshift[].

. Click the *Clusters* menu in the left pane.

. Click the clusterâ€™s name to display the details of the cluster.

. Open the *Insights Advisor* tab of the cluster.
+
If the upload was successful, the tab displays one of the following:
+
* *Your cluster passed all recommendations*, if Insights Advisor did not identify any issues.

* A list of issues Insights Advisor has detected, prioritized by risk (low, moderate, important, and critical).
