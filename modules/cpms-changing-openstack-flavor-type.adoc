// Module included in the following assemblies:
// * machine_management/control_plane_machine_management/cpmso-using.adoc

ifeval::["{context}" == "recommended-control-plane-practices"]
:scale-host:
endif::[]
ifeval::["{context}" == "cpmso-using"]
:cpmso-using:
endif::[]

:_content-type: PROCEDURE
[id="cpms-changing-openstack-flavor-type_{context}"]
= Changing the {rh-openstack} Nova Flavor by using a control plane machine set

In {rh-openstack}, flavors define the compute, memory, and storage capacity of nova computing instances. An {rh-openstack} Nova flavor is a virtual hardware template. 

You can change the {rh-openstack-first} Nova flavor that your control plane machines use by updating the specification in the control plane machine set custom resource (CR).

.Prerequisites

* Your {rh-openstack} cluster uses a control plane machine set.

.Procedure

ifdef::scale-host[]
. Edit your control plane machine set CR by running the following command:
+
[source,terminal]
----
$ oc --namespace openshift-machine-api edit controlplanemachineset.machine.openshift.io cluster
----
endif::scale-host[]

. Edit the following line under the `providerSpec` field:
+
[source,yaml]
----
providerSpec:
  value:
    ...
    flavor: <1>
----
<1> Specify a larger {rh-openstack}  flavor type with the same base as the previous selection. For example, you can change `m6i.xlarge` to `m6i.2xlarge` or `m6i.4xlarge`.

. Save your changes.

ifdef::scale-host[]
** For clusters that use the default `RollingUpdate` update strategy, the Operator automatically propagates the changes to your control plane configuration.

** For clusters that are configured to use the `OnDelete` update strategy, you must replace your control plane machines manually.
endif::scale-host[]

ifeval::["{context}" == "recommended-control-plane-practices"]
:!scale-host:
endif::[]
ifeval::["{context}" == "cpmso-using"]
:!cpmso-using:
endif::[]
