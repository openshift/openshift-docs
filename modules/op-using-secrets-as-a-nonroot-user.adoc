// This module is included in the following assemblies:
// * secure/authenticating-pipelines-repos-using-secrets.adoc
:_mod-docs-content-type: REFERENCE
[id="op-using-secrets-as-a-nonroot-user_{context}"]
= Use of secrets as a non-root user

You might need to use secrets as a non-root user in certain scenarios, such as:

* The platform randomizes the users and groups that the containers use to start runs.
* The steps in a task define a non-root security context.
* A task specifies a global non-root security context, which applies to all steps in a task.

In such scenarios, consider the following aspects of starting task runs and pipeline runs as a non-root user:

* SSH authentication for Git requires the user to have a valid home directory configured in the `/etc/passwd` directory. Specifying a UID that has no valid home directory results in authentication failure.
* SSH authentication ignores the `$HOME` environment variable. So you must or symlink the appropriate secret files from the `$HOME` directory defined by {pipelines-shortname} (`/tekton/home`), to the non-root user's valid home directory.

In addition, to configure SSH authentication in a non-root security context, see the `git-clone-and-check` step in the link:https://github.com/openshift-pipelines/pipelines-examples/blob/main/v1/taskruns/authenticating-git-commands.yaml[example for authenticating git commands].
