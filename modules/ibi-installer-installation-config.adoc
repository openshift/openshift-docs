// Module included in the following assemblies:
//
// * edge_computing/ibi-image-based-install.adoc 

:_mod-docs-content-type: REFERENCE
[id="ibi-installer-installation-config_{context}"]
= Reference specifications for the image-based-installation-config.yaml manifest

The following content describes the specifications for the `image-based-installation-config.yaml` manifest. 

The {product-title} installation program uses the ``image-based-installation-config.yaml` manifest to create a live installation ISO for image-based installations of {sno}. 

.Required specifications
[options="header"]
[cols="2a,1a,4a"]
|====
|Specification|Type|Description
|`seedImage`|`string`|Specifies the seed image to use in the ISO generation process.
|`seedVersion`|`string`|Specifies the {product-title} release version of the seed image. The release version in the seed image must match the release version that you specify in the `seedVersion` field.
|`installationDisk`|`string`|Specifies the disk that will be used for the installation process. 

Because the disk discovery order is not guaranteed, the kernel name of the disk can change across booting options for machines with multiple disks. For example, `/dev/sda` becomes `/dev/sdb` and vice versa. To avoid this issue, you must use a persistent disk attribute, such as the disk World Wide Name (WWN), for example: `/dev/disk/by-id/wwn-<disk-id>`.

|`pullSecret`|`string`|Specifies the pull secret to use during the precache process. The pull secret contains authentication credentials for pulling the release payload images from the container registry. 

If the seed image requires a separate private registry authentication, add the authentication details to the pull secret. 

|====

.Optional specifications
[options="header"]
[cols="2a,1a,4a"]
|====
|Specification|Type|Description
|`shutdown`|`boolean`|Specifies if the host shuts down after the installation process completes. The default value is `false`.
|`extraPartitionStart`|`string`|Specifies the start of the extra partition used for `/var/lib/containers`. The default value is `-40Gb`, which means that the partition will be exactly 40Gb in size and uses the space 40Gb from the end of the disk. If you specify a positive value, the partition will start at that position of the disk and extend to the end of the disk.
|`extraPartitionLabel`|`string`|The label of the extra partition you use for `/var/lib/containers`. The default label is `varlibcontainers`.
|`extraPartitionNumber`|`unsigned integer`|The number of the extra partition you use for `/var/lib/containers`. The default number is `5`.
|`skipDiskCleanup`|`boolean`|The installation process formats the disk on the host. Set this specification to 'true' to skip this step. The default is `false`.
|`networkConfig`|`string`|Specifies networking configurations for the host, for example:
[source,yaml]
----
networkConfig:
    interfaces:
      - name: ens1f0
        type: ethernet
        state: up
        ...
----
If you require static networking, you must install the `nmstatectl` library on the host that creates the live installation ISO. For further information about defining network configurations by using `nmstate`, see link:https://nmstate.io/[nmstate.io].
[IMPORTANT]
====
The name of the interface must match the actual NIC name as shown in the operating system.
====
|`proxy`|`string`|Specifies proxy settings to use during the installation ISO generation, for example:
[source,yaml]
----
proxy:
  httpProxy: "http://proxy.example.com:8080"
  httpsProxy: "http://proxy.example.com:8080"
  noProxy: "no_proxy.example.com"
----
|`imageDigestSources`|`string`|Specifies the sources or repositories for the release-image content, for example:
[source,yaml]
----
imageDigestSources:
  - mirrors:
      - "registry.example.com:5000/ocp4/openshift4"
    source: "quay.io/openshift-release-dev/ocp-release"
----
|`additionalTrustBundle`|`string`|Specifies the PEM-encoded X.509 certificate bundle. The installation program adds this to the `/etc/pki/ca-trust/source/anchors/` directory in the installation ISO.
[source,yaml]
----
additionalTrustBundle: \|
  -----BEGIN CERTIFICATE-----
  MTICLDCCAdKgAwfBAgIBAGAKBggqhkjOPQRDAjB9MQswCQYRVEQGE
  ...
  l2wOuDwKQa+upc4GftXE7C//4mKBNBC6Ty01gUaTIpo=
  -----END CERTIFICATE-----
----
|`sshKey`|`string`|Specifies the SSH key to authenticate access to the host.
|`ignitionConfigOverride`|`string`|Specifies a JSON string containing the user overrides for the Ignition config. The configuration merges with the Ignition config file generated by the installation program. This feature requires Ignition version is 3.2 or later.

|====
