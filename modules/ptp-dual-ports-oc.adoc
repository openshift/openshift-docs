// Module included in the following assemblies:
//
// * networking/ptp/about-ptp.adoc

:_mod-docs-content-type: CONCEPT
[id="ptp-dual-ports-oc_{context}"]
= Using dual-port NICs to improve redundancy for PTP ordinary clocks

{product-title} supports single-port networking interface cards (NICs) as ordinary clocks for PTP timing. To improve redundancy, you can configure a dual-port NIC with one port as active and the other as standby.

:FeatureName: Configuring linuxptp services as an ordinary clock with dual-port NIC redundancy
include::snippets/technology-preview.adoc[leveloffset=+1]

In this configuration, the ports in a dual-port NIC operate as follows:

* The active port functions as an ordinary clock in the `Following` port state.

* The standby port remains in the `Listening` port state.

* If the active port fails, the standby port transitions to active to ensure continued PTP timing synchronization.

* If both ports become faulty, the clock state moves to the `HOLDOVER` state, then the `FREERUN` state when the holdover timeout expires, before resyncing to a leader clock.

[id="hardware-requirements_{context}"]
== Hardware requirements

You can configure PTP ordinary clocks with added redundancy on x86_64 or AArch64 architecture nodes.

For x86_64 architecture nodes, the nodes must feature dual-port NICs that support PTP and expose a single PTP hardware clock (PHC) per NIC, such as the Intel E810.

For AArch64 architecture nodes, you can use the following dual-port NICs only:

* NVIDIA ConnectX-7 series

* NVIDIA BlueField-3 series, in NIC mode

** You must configure the NVIDIA BlueField-3 series DPU in NIC mode before configuring the interface as an ordinary clock with improved redundancy. For further information about configuring NIC mode, see link:https://docs.nvidia.com/networking/display/bluefielddpubspv422/modes+of+operation#src-141856548_ModesofOperation-NICModeforBlueField-3[NIC Mode for BlueField-3] (NVIDIA documentation), link:https://docs.nvidia.com/networking/display/bluefieldbmcv2504/bluefield+managementink[BlueField Management] (NVIDIA documentation), and link:https://docs.nvidia.com/networking/display/bluefielddpuosv470/modes+of+operation#src-2821766680_ModesofOperation-ConfiguringNICModeonBlueField-3fromHostHIIUEFI[Configuring NIC Mode on BlueField-3 from Host BIOS HII UEFI Menu] (NVIDIA documentation).

** You must restart the card after changing to NIC mode. For more information about restarting the card, see link:https://docs.nvidia.com/doca/sdk/nvidia+bluefield+reset+and+reboot+procedures/index.html[NVIDIA BlueField Reset and Reboot Procedures] (NVIDIA documentation).

* Use the latest supported NVIDIA drivers and firmware to ensure proper PTP support and to expose a single PHC per NIC.