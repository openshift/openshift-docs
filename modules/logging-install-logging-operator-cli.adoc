// Module is included in the following assemblies:
//
// logging/logging_installation/logging-install-logging-operator.adoc

:_content-type: PROCEDURE
[id="logging-install-logging-operator-cli_{context}"]
= Installing the Red Hat Openshift Logging Operator by using the CLI

You can use the {oc-first} to install the Red{nbsp}Hat Openshift Logging Operator on your {product-title} cluster.

.Procedure

. Create a `Namespace` object for the Red{nbsp}Hat Openshift Logging Operator:
+
[source,yaml]
----
apiVersion: v1
kind: Namespace
metadata:
  name: openshift-logging
  annotations:
    openshift.io/node-selector: ""
  labels:
    openshift.io/cluster-monitoring: "true"
----

. Apply the `Namespace` object:
+
[source,terminal]
----
$ oc create -f <filename>.yaml
----

. Create an `OperatorGroup` object:
+
[source,yaml]
----
apiVersion: operators.coreos.com/v1
kind: OperatorGroup
metadata:
  name: cluster-logging
  namespace: openshift-logging # <1>
spec:
  targetNamespaces:
  - openshift-logging
----
<1> You must specify the `openshift-logging` namespace.

. Apply the `OperatorGroup` object:
+
[source,terminal]
----
$ oc create -f <filename>.yaml
----

. Create a `Subscription` object to subscribe a namespace to the Red{nbsp}Hat Openshift Logging Operator:
+
[source,yaml]
----
apiVersion: operators.coreos.com/v1alpha1
kind: Subscription
metadata:
  name: cluster-logging
  namespace: openshift-logging # <1>
spec:
  channel: stable # <2>
  name: cluster-logging
  source: redhat-operators # <3>
  sourceNamespace: openshift-marketplace
----
<1> You must specify the `openshift-logging` namespace.
<2> You must specify `stable`, or `stable-5.<y>` as the channel.
<3> You must specify `redhat-operators`. If your {product-title} cluster is installed on a restricted network, also known as a disconnected cluster, specify the name of the `CatalogSource` object you created when you configured the Operator Lifecycle Manager (OLM).

. Apply the `Subscription` object:
+
[source,terminal]
----
$ oc create -f <filename>.yaml
----

.Verification

. List the cluster service versions (CSVs) by running the following command:
+
[source,terminal]
----
$ oc get csv -n openshift-logging
----
+
The Red{nbsp}Hat Openshift Logging Operator is shown in the `openshift-logging` namespace:
+
.Example output
[source,terminal]
----
NAME                            DISPLAY                            VERSION   REPLACES                        PHASE
cluster-logging.v5.7.6          Red Hat OpenShift Logging          5.7.6     cluster-logging.v5.7.5          Succeeded
----

. List the pods in the `openshift-logging` project by running the following command:
+
[source,terminal]
----
$ oc get pods -n openshift-logging
----

. Verify that the `cluster-logging-operator`, `collector`, and `logging-view-plugin` pods exist:
+
.Example output
[source,terminal]
----
NAME                                               READY   STATUS    RESTARTS   AGE
cluster-logging-operator-fb7f7cf69-8jsbq           1/1     Running   0          98m
collector-222js                                    2/2     Running   0          18m
collector-g9ddv                                    2/2     Running   0          18m
collector-hfqq8                                    2/2     Running   0          18m
collector-sphwg                                    2/2     Running   0          18m
collector-vv7zn                                    2/2     Running   0          18m
collector-wk5zz                                    2/2     Running   0          18m
logging-view-plugin-6f76fbb78f-n2n4n               1/1     Running   0          18m
----
