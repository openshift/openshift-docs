// Module included in the following assemblies:
//
// * installing/installing_rhv/installing-rhv-default.adoc

[id="installing-rhv-creating-the-cluster_{context}"]
= Creating the cluster

To create a default cluster without customizations, run the installation program with the `create cluster` subcommand. When you finish responding to the installation program's prompts, the installation program begins creating the cluster.

IMPORTANT: Due to bug link:https://bugzilla.redhat.com/show_bug.cgi?id=1814172[bz#1814172], you must run the installation program as superuser to install {product-title} on {rh-virtualization-first}.

.Procedure

. On the installation machine, go to the directory that has the installation program and run it.
+
----
$ sudo ./openshift-install create cluster --dir=<installation_directory> <1>
----
<1> For `<installation_directory>`, specify a new directory name for the installation program to create and save files. For example, name the asset directory `my-default-cluster`.
+
. Respond to the following installation program prompts for information.
+
[NOTE]
====
* For more information about a prompt, enter kbd:[?].
* The order of the prompts might vary from the order shown here.
====
+
.. For `SSH Public Key`, select the public key on the installation machine, such as `~/.ssh/id_rsa.pub`. This key authenticates connections with the new {product-title} cluster. Only the owner of this public key can ssh to the new nodes. Optionally, after the installation, you can add and replace keys using the Machine Config Operator (MCO).
.. For `Platform`, select `ovirt`.
.. For `Enter oVirt's API endpoint URL`, enter the URL of the {rh-virtualization} API using this format:
+
----
https://<engine-fqdn>/ovirt-engine/api <1>
----
<1> For `<engine-fqdn>`, specify the fully qualified domain name of the {rh-virtualization} environment.
+
For example:
+
----
https://rhv-env.virtlab.example.com/ovirt-engine/api
----
+
.. For `Is the installed oVirt certificate trusted?`, enter `Yes` since you have already set up a CA certificate.
.. For `oVirt's CA bundle`, if you entered `Yes` for the preceding question, copy the certificate from `/etc/pki/ca-trust/source/anchors/ca.pem` and paste it here. Then, press `Enter` twice. Otherwise, if you entered `No` for the preceding question, this question does not appear.
.. For `Enter the oVirt engine username`, enter the {rh-virtualization} admin user name and profile using this format:
+
----
<username>@<profile> <1>
----
<1> For `<username>`, specify the username of an {rh-virtualization} administrator. For `<profile>`, specify the login profile, which you can get by going to the {rh-virtualization} Administration Portal login page and reviewing the *Profile* dropdown list. Together, the user name and profile should look similar to this example:
+
----
admin@internal
----
+
.. For `Enter password`, enter the {rh-virtualization} admin password.
.. For `Select the oVirt cluster`, select the cluster for installing {product-title}.
.. For `Select the oVirt storage domain`, select the storage domain for installing {product-title}.
.. For `Select the oVirt network`, select a virtual network that has access to the {rh-virtualization} Manager REST API.
.. For `Enter the internal API Virtual IP`, enter the static IP address you set aside for the cluster’s REST API.
.. For `Enter the internal DNS Virtual IP`, enter the static IP address you set aside for the cluster’s internal DNS service.
.. For `Enter the ingress IP`, enter the static IP address you reserved for the wildcard apps domain.
.. For `Base domain`, enter the base domain of the {product-title} cluster. If this cluster is exposed to the outside world, this must be a valid domain recognized by DNS infrastructure. For example, enter: `virtlab.example.com`
.. For `Cluster name`, enter the name of the cluster. For example, `my-cluster`. Use cluster name from the the externally registered/resolvable DNS entries you created for the {product-title} REST API and apps domain names. The installation program also gives this name to the cluster in the {rh-virtualization} environment.
.. For `Pull secret`, copy the pull secret from the `pull-secret.txt` file you downloaded earlier and paste it here. You can also get a copy of the same pull secret from the link:https://cloud.redhat.com/openshift/install/pull-secret[Pull Secret] page on the {cloud-redhat-com} website.

[NOTE]
====
When you finish responding to the prompts, the installation program begins creating the cluster. While the cluster is starting, you have the option to connect to the control plane and verify that all of the nodes start.
====
