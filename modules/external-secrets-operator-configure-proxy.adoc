// Module included in the following assemblies:
//
// * security/external_secrets_operator/external-secrets-operator-proxy.adoc

:_mod-docs-content-type: PROCEDURE
[id="external-secrets-operator-configure-proxy_{context}"]
= Configuring the egress proxy for the {external-secrets-operator}

The egress proxy can be configured in the `ExternalSecretsConfig` or the `ExternalSecretsManager` custom resource. The Operator and the operand make use of the {product-title} supported Certificate Authority (CA) bundle for the proxy validations.

.Prerequisites

* You have access to the cluster as a user with the `cluster-admin` role.

* You have created the `ExternalSecretsConfig` custom resource.

.Procedure

* To set the proxy in the `ExternalSecretsConfig` resource, perform the following steps:
. Edit the `ExternalSecretsConfig` resource by running the following command:
+
[source,terminal]
----
$ oc edit externalsecretsconfigs.operator.openshift.io cluster
----

. Edit the `spec.appConfig.proxy` section to set the proxy values as follows:
+
[source,yaml]
----
apiVersion: operator.openshift.io/v1alpha1
kind: ExternalSecretsConfig
...
spec:
  appConfig:
    proxy:
      httpProxy: <http_proxy>
      httpsProxy: <https_proxy>
      noProxy: <no_proxy>
----

<http_proxy>:: Proxy URL for the http requests.

<https_proxy>:: Proxy URL for the https requests.

<no_proxy>:: Comma-separated list of hostnames and/or CIDRs and/or IPs for which the proxy should not be used.

* To set the proxy in the `ExternalSecretsManager` resource, perform the following steps.

. Edit the `ExternalSecretsManager` resource by running the following command:
+
[source,terminal]
----
$ oc edit externalsecretsmanagers.operator.openshift.io cluster
----

. Edit the `spec.globalConfig.proxy` section to set the proxy values as follows:
+
[source,yaml]
----
apiVersion: operator.openshift.io/v1alpha1
kind: ExternalSecretsManager
...
spec:
  globalConfig:
    proxy:
      httpProxy: <http_proxy>
      httpsProxy: <https_proxy>
      noProxy: <no_proxy>
----

<http_proxy>:: Proxy URL for the http requests.

<https_proxy>:: Proxy URL for the https requests.

<no_proxy>:: Comma-separated list of hostnames and/or CIDRs and/or IPs for which the proxy should not be used.
