// Module included in the following assemblies:
// Epic CNF-2600 (CNF-2133) (4.10), Story TELCODOCS-285
// * scalability_and_performance/cnf-talo-for-cluster-upgrades.adoc

:_content-type: CONCEPT
[id="talo-policies-concept_{context}"]
= Update policies on managed clusters

The {cgu-operator-first} remediates a set of `inform` policies for the clusters specified in the `ClusterGroupUpgrade` CR. The {cgu-operator} remediates `inform` policies by making `enforce` copies of the managed {rh-rhacm} policies. Each copied policy has its own corresponding {rh-rhacm} placement rule and {rh-rhacm} placement binding.

One by one, the {cgu-operator} adds each cluster from the current batch to the placement rule that corresponds with the applicable managed policy. If a cluster is already compliant with a policy, the {cgu-operator} skips applying that policy on the compliant cluster. The {cgu-operator} then moves on to applying the next policy to the non-compliant cluster. After the {cgu-operator} completes the updates in a batch, all clusters are removed from the placement rules associated with the copied policies. Then, the update of the next batch starts.

If a spoke cluster does not report any compliant state to {rh-rhacm}, the managed policies on the hub cluster can be missing status information that the {cgu-operator} needs. The {cgu-operator} handles these cases in the following ways:

* If a policy's `status.compliant` field is missing, the {cgu-operator} ignores the policy and the {cgu-operator} adds a log entry. Then the {cgu-operator} continues looking at the policy's `status.status` field.
* If a policy's `status.status` is missing, the {cgu-operator} produces an error.
* If a cluster's compliance status is missing in the policy's `status.status` field, the {cgu-operator} considers that cluster to be non-compliant with that policy.

For more information about {rh-rhacm} policies, see link:https://access.redhat.com/documentation/en-us/red_hat_advanced_cluster_management_for_kubernetes/2.4/html-single/governance/index#policy-overview[Policy overview].