// This module is used in the following assemblies:

// * configure/ols-configuring-openshift-lightspeed.adoc

:_mod-docs-content-type: PROCEDURE
[id="ols-configuring-lightspeed-with-a-trusted-ca-certificate-for-the-llm_{context}"]
= Configuring {ols-long} with a trusted-ca certificate for the LLM 

Configure {ols-long} with a trusted-ca certificate to connect to the large language model (LLM) provider.

[NOTE]
====
If the LLM provider you are using requires a trusted-ca certificate to authenticate the {ols-long} service you must perform this procedure. If the LLM provider does not require a trusted-ca certificate to authenticate the service, you should skip this procedure.
====

.Procedure

. Copy the contents of the certificate file and paste it into a file called `caCertFileName`.

. Create a `ConfigMap` object called `trusted-certs` by running the following command:
+
[source,terminal]
----
$ oc create configmap trusted-certs --from-file=caCertFileName --namespace openshift-lightspeed
----
+
.Example output
[source,terminal]
----
kind: ConfigMap
apiVersion: v1
metadata:
  name: trusted-certs
  namespace: openshift-lightspeed
data:
  caCertFileName: | <1>
    -----BEGIN CERTIFICATE-----
    .
    .
    .
    -----END CERTIFICATE-----  
----
<1> Specify the CA certificates required to connect to your LLM provider. You can include one or more certificates.

. Update the `OLSConfig` custom resource file to include the name of the `ConfigMap` object you just created.
+
.Example {rhelai} CR file
[source,yaml,subs="attributes,verbatim"]
----
apiVersion: ols.openshift.io/v1alpha1
kind: OLSConfig
metadata:
  name: cluster
spec:
  ols:
    defaultProvider: rhelai
    defaultModel: models/<model_name>
    additionalCAConfigMapRef:
      name: trusted-certs <1>
----
<1> Specifies the name of `ConfigMap` object.  

 . Create the custom CR.
+
[source,terminal]
----
$ oc apply -f <olfconfig_cr_filename> 
----
