//Module included in the following assemblies:
//
// network_observability/network-observability-per-tenant-configuration.adoc

:_mod-docs-content-type: CONCEPT
[id="network-observability-per-tenant-flowcollector-slice-about_{context}"]
= About network observability FlowCollectorSlice custom resource definition

[role="_abstract"]
The `FlowCollectorSlice` is a Custom Resource Definition (CRD) that enables granular, multi-tenant network flow collection. By defining logical slices based on namespaces or subnets, you can selectively collect traffic and apply custom sampling to specific workloads rather than the entire cluster.

It complements the existing `FlowCollector` custom resource by enabling granular, selective, and multi-tenant-aware flow collection, instead of a single global configuration that applies uniformly to all traffic.

When slice-based collection is enabled, only traffic that matches at least one `FlowCollectorSlice` is collected, allowing administrators to precisely control which network flows are observed.

[id="benefits-of-flowcollector-slice_{context}"]
== Benefits of FlowCollectorSlice

By default, network flow collection applies uniformly to all traffic in the cluster. This can result in excessive data volume and limited flexibility.

Using `FlowCollectorSlice` provides the following benefits:

* Enables selective flow collection for specific namespaces or workloads.
* Supports multi-tenant and environment-based observability.
* Reduces storage and processing costs by filtering irrelevant traffic.
* Preserves backward compatibility through opt-in configuration.

[id="reletionship-flowcollector-flowcollector-slice_{context}"]
== Relationship between FlowCollector and FlowCollectorSlice

While the `FlowCollector` resource defines global flow collection behavior for the cluster, the `FlowCollectorSlice` resource defines which traffic is eligible for collection when slice-based filtering is enabled.

The `FlowCollector.spec.slicesConfig` field controls how slice definitions are applied.

[id="collection-modes_{context}"]
== Collection modes

Slice behavior is governed by the `FlowCollector.spec.slicesConfig.collectionMode` field. You can set it to one of the following options:

AlwaysCollect::
* `FlowCollectorSlice` resources are ignored.
* All traffic continues to be collected.
* This mode preserves backward compatibility.

AllowList::
* Only traffic matching at least one `FlowCollectorSlice` is collected.
* An optional namespace allow list can be used to always include selected namespaces.

[id="flowcollector-slice-status_{context}"]
== FlowCollectorSlice status

Each `FlowCollectorSlice` resource exposes a status `subresource` that reports:

* Validation results.
* Reconciliation state.
* Whether the slice is successfully applied.

This ensures visibility into how slice definitions affect actual flow collection.

This status allows administrators to verify that slice definitions are active and functioning as expected.