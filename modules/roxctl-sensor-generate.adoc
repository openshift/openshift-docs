// Module included in the following assemblies:
//
// * command-reference/roxctl-sensor.adoc

:_mod-docs-content-type: REFERENCE
[id="roxctl-sensor-generate_{context}"]
= roxctl sensor generate

Generate files to deploy {product-title-short} services in secured clusters.

.Usage
[source,terminal]
----
$ roxctl sensor generate [flags]
----

.Options
[cols="6,3",options="header"]
|===
|Option |Description

|`--admission-controller-disable-bypass`
|Disable the bypass annotations for the admission controller. The default value is `false`.

|`--admission-controller-enforcement`
|Valid values are `true` and `false`. The default value is `true`. When set to `true`, the admission controller enforces policies by rejecting creation or update attempts that are in violation of an enabled policy. When set to `false`, the admission controller does not enforce policies.

|`--admission-controller-enforce-on-creates`
|This field is deprecated and has no effect. Use the `--admission-controller-enforcement` option to configure enforcement.

|`--admission-controller-enforce-on-updates`
|This field is deprecated and has no effect. Use the `--admission-controller-enforcement` option to configure enforcement.

|`--admission-controller-fail-on-error`
| This parameter determines whether the API server request is allowed (fail open) or blocked (fail closed) if an error or timeout happens in the {product-title-short} validating webhook's evaluation. Valid values are `true` and `false`. The default value is `false`, which allows the request. When set to `true`, the request is blocked. 

|`--admission-controller-listen-on-creates`
|This field is deprecated. The `sensor generate` command behaves as if this flag has been specified.

|`--admission-controller-listen-on-updates`
|This field is deprecated. The `sensor generate` command behaves as if this flag has been specified.

|`--admission-controller-scan-inline`
|This field is deprecated. The `sensor generate` command behaves as if this flag has been specified.

|`--admission-controller-timeout int32`
|This field is deprecated and using it has no effect.

|`--central string`
|Set the endpoint to which you want to connect Sensor. The default value is `central.stackrox:443`.

|`--collection-method collection method`
|Specify the collection method that you want to use for runtime support. Collection methods include `none`, `default`, `ebpf` and `core_bpf`. The default value is `default`.

|`--collector-image-repository string`
|Set the image repository that you want to use to deploy Collector. If not specified, a default value corresponding to the effective `--main-image repository` value is derived.

|`--continue-if-exists`
|Continue with downloading the sensor bundle even if the cluster already exists. The default value is `false`.

|`--create-upgrader-sa`
|Decide whether to create the upgrader service account with `cluster-admin` privileges to facilitate automated sensor upgrades. The default value is `true`.

|`--disable-tolerations`
|Disable tolerations for tainted nodes. The default value is `false`.

|`--enable-pod-security-policies`
|Create `PodSecurityPolicy` resources. The default value is `true`.

|`--istio-support string`
|Generate deployment files that support the specified Istio version. Valid versions include `1.0`, `1.1`, `1.2`, `1.3`, `1.4`, `1.5`, `1.6`, `1.7`.

|`--main-image-repository string`
|Specify the image repository that you want to use to deploy Sensor. If not specified, a default value is used.

|`--name string`
|Set the cluster name to identify the cluster.

|`--output-dir string`
|Set the output directory for the bundle contents. The default value is an automatically generated directory name inside the current directory.

|`--slim-collector string[="true"]`
|Use Collector-slim in the deployment bundle. Valid values include `auto`, `true`, and `false`. The default value is `auto`.

|`-t`, `--timeout duration`
|Set the timeout for API requests representing the maximum duration of a request. The default value is `5m0s`.
|===