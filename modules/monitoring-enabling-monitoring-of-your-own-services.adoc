// Module included in the following assemblies:
//
// * monitoring/monitoring-your-own-services.adoc

[id="enabling-monitoring-of-your-own-services_{context}"]
= Enabling monitoring of your own services

You can enable monitoring your own services by setting the `techPreviewUserWorkload/enabled` flag in the cluster monitoring config map.

.Prerequisites

* You have access to the cluster as a user with the `cluster-admin` role.
* You have installed the OpenShift CLI (oc).
* You have created the `cluster-monitoring-config` `ConfigMap` object.

.Procedure

. Start editing the `cluster-monitoring-config` `ConfigMap` object:
+
[source,terminal]
----
$ oc -n openshift-monitoring edit configmap cluster-monitoring-config
----

. Set the `techPreviewUserWorkload` setting to `true` under `data/config.yaml`:
+
[source,yaml]
----
apiVersion: v1
kind: ConfigMap
metadata:
  name: cluster-monitoring-config
  namespace: openshift-monitoring
data:
  config.yaml: |
    techPreviewUserWorkload:
      enabled: true
----

. Save the file to apply the changes. Monitoring your own services is enabled automatically.

. Optional: You can check that the `prometheus-user-workload` pods were created:
+
[source,terminal]
----
$ oc -n openshift-user-workload-monitoring get pod
----
+
.Example output
[source,terminal]
----
NAME                                   READY   STATUS    RESTARTS   AGE
prometheus-operator-85bbb7b64d-7jwjd   1/1     Running   0          3m24s
prometheus-user-workload-0             5/5     Running   1          3m13s
prometheus-user-workload-1             5/5     Running   1          3m13s
----
