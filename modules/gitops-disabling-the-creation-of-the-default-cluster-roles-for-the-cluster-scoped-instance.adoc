// Module included in the following assembly:
//
// * declarative_clusterconfig/customizing-permissions-by-creating-user-defined-cluster-roles-for-cluster-scoped-instances.adoc

:_mod-docs-content-type: PROCEDURE
[id="gitops-disabling-the-creation-of-the-default-cluster-roles-for-the-cluster-scoped-instance_{context}"]
= Disabling the creation of the default cluster roles for the cluster-scoped instance

[role="_abstract"]
To add or remove permissions to cluster-wide resources, as needed, you must disable the creation of the default cluster roles for the cluster-scoped instance by editing the YAML file of the Argo CD custom resource (CR).

.Procedure

. In the Argo CD CR, set the value of the `.spec.defaultClusterScopedRoleDisabled` field to `true`:
+
.Example Argo CD CR

[source,yaml]
----
apiVersion: argoproj.io/v1beta1
kind: ArgoCD
metadata:
  name: example # <1>
  namespace: spring-petclinic # <2>
# ...
spec:
  defaultClusterScopedRoleDisabled: true # <3>
# ...
----
<1> The name of the cluster-scoped instance.
<2> The namespace where you want to run the cluster-scoped instance.
<3> The flag value that disables the creation of the default cluster roles for the cluster-scoped instance. If you want the Operator to recreate the default cluster roles and cluster role bindings for the cluster-scoped instance, set the field value to `false`.
+
.Sample output
[source,terminal]
----
argocd.argoproj.io/example configured
----

. Verify that the {gitops-title} Operator has deleted the default cluster roles and cluster role bindings for the {gitops-shortname} control plane components by running the following commands:
+
[source,terminal]
----
$ oc get ClusterRoles/<argocd_name>-<argocd_namespace>-<control_plane_component>
----
+
[source,terminal]
----
$ oc get ClusterRoleBindings/<argocd_name>-<argocd_namespace>-<control_plane_component>
----
+
.Sample output
[source,terminal]
----
No resources found
----
+
The default cluster roles and cluster role bindings for the cluster-scoped instance are not created. As a cluster administrator, you can now create and customize permissions for cluster-scoped instances by creating new cluster roles and cluster role bindings for the {gitops-shortname} control plane components.