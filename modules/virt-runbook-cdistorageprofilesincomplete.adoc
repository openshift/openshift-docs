// Module included in the following assemblies:
//
// * virt/logging_events_monitoring/virt-runbooks.adoc

:_content-type: REFERENCE
[id="virt-runbook-cdistorageprofilesincomplete_{context}"]
= CDIStorageProfilesIncomplete

// Edited by davozeni, 10 Nov 2022

[discrete]
[id="meaning-cdistorageprofilesincomplete_{context}"]
== Meaning

This alert fires when a Containerized Data Importer (CDI) storage profile is
incomplete.

If a storage profile is incomplete, the CDI cannot infer persistent volume claim
(PVC) fields, such as `volumeMode` and  `accessModes`, which are required to
create a virtual machine (VM) disk.

[discrete]
[id="impact-cdistorageprofilesincomplete_{context}"]
== Impact

The CDI cannot create a VM disk on the PVC.

[discrete]
[id="diagnosis-cdistorageprofilesincomplete_{context}"]
== Diagnosis

* Identify the incomplete storage profile:
+
[source,terminal]
----
$ oc get storageprofile <storage_class>
----

[discrete]
[id="mitigation-cdistorageprofilesincomplete_{context}"]
== Mitigation

* Add the missing storage profile information as in the following
example:
+
[source,terminal]
----
$ oc patch storageprofile local --type=merge -p '{"spec": \
  {"claimPropertySets": [{"accessModes": ["ReadWriteOnce"], \
  "volumeMode": "Filesystem"}]}}'
----

If you cannot resolve the issue, log in to the
link:https://access.redhat.com[Customer Portal] and open a support case,
attaching the artifacts gathered during the diagnosis procedure.
