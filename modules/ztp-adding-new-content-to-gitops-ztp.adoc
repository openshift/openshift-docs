// Module included in the following assemblies:
//
// scalability_and_performance/ztp-deploying-disconnected.adoc

:_module-type: PROCEDURE
[id="ztp-adding-new-content-to-gitops-ztp_{context}"]
= Adding new content to the GitOps ZTP pipeline

To add or modify existing source CRs in the `ztp-site-generate` container, rebuild the `ztp-site-generate` container and make it available to the hub cluster, typically from the disconnected registry associated with the hub cluster. Any valid {product-title} CR can be added.

To add new content to the ZTP pipeline, perform the following procedure:

.Prerequisites

* Create a Git repository where you manage your custom site configuration data.

.Procedure

. Create a directory containing a Containerfile and the source CR YAML files that you want to include in the updated `ztp-site-generate` container, for example:
+
[source,text]
----
ztp-update/
├── example-cr1.yaml
├── example-cr2.yaml
└── ztp-update.in
----

. Add the following content to the `ztp-update.in` Containerfile:
+
[source,text]
----
FROM registry.redhat.io/openshift4/ztp-site-generate-rhel8:v4.10

ADD example-cr2.yaml /kustomize/plugin/ran.openshift.io/v1/policygentemplate/source-crs/
ADD example-cr1.yaml /kustomize/plugin/ran.openshift.io/v1/policygentemplate/source-crs/
----

. Open a terminal at the `ztp-update/` folder and rebuild the container:
+
[source,terminal]
----
$ podman build -t ztp-site-generate-rhel8-custom:v4.10-custom-1
----

. Push the built container image to your disconnected registry, for example:
+
[source,terminal]
----
$ podman push localhost/ztp-site-generate-rhel8-custom:v4.10-custom-1 registry.example.com:5000/ztp-site-generate-rhel8-custom:v4.10-custom-1
----
