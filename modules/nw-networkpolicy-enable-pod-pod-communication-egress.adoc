// Module included in the following assemblies:
//
// * networking/network_security/network_policy/creating-network-policy.adoc

:_mod-docs-content-type: PROCEDURE
[id="nw-networkpolicy-enable-pod-pod-communication-egress_{context}"]
= Enabling pod-to-pod communication

After creating a `default-deny-all` network policy that isolates pods for egress, pod-to-pod communication is broken for ingress. To re-establish ingress communication for pods, you must create a complementary egress network policy _mirrors_ the network policy that allowed for ingress pod-to-pod communication across namespaces. 

The procedure in this section shows you how to create a complementary egress network policy that mirrors the following ingress network policy:

.Example
[source,yaml]
----
apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: allow-n1-a-to-n2-b
  namespace: <namespace_b>
spec:
  podSelector:
    matchLabels:
      app: test  # this is the label on test-pod-tenant-b
  policyTypes:
  - Ingress
  ingress:
  - from:
    - namespaceSelector:
        matchLabels:
          networking/namespace: n1  # label on namespace tenant-a
      podSelector:
        matchLabels:
          app: test-pod  # this is the label on test-pod in tenant-a
----

.Procedure


