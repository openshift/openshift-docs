// Module included in the following assemblies:
//
// * cli_reference/kam_cli/getting-started-with-kam.adoc

[id="understanding-environment-configurations_{context}"]
= Understanding environment configurations

`kam` automatically creates two environments: dev and stage. You can find the default pipeline specification for the dev environment in the following files:

* `config/cicd/base/07-templates/app-ci-build-from-push-template.yaml`
* `config/cicd/base/06-bindings/github-push-binding.yaml`

By default, a PipelineRun is triggered using the following pipeline:

* `config/cicd/base/05-pipelines/app-ci-pipeline.yaml`

.Default pipelines configuration
[source,yaml]
----
  config:
    argocd:
      namespace: openshift-gitops
    pipelines:
      name: cicd
  environments:
  - apps:
    - name: app-taxi
      services:
      - name: taxi
        pipelines:
          integration:
            bindings:
            - dev-app-taxi-taxi-binding
            - gitlab-push-binding
        source_url: https://github.com/<your organization>/taxi.git
        webhook:
          secret:
            name: webhook-secret-dev-taxi
            namespace: cicd
    name: dev
    pipelines: <1>
      integration: <2>
        bindings:
        - gitlab-push-binding
        template: app-ci-template
  - name: stage
  gitops_url: https://github.com/<your organization>/gitops.git
  version: 1
----
<1> The `pipelines` key describes how to trigger an OpenShift Pipelines run, the integration binding and template are processed when a Pull Request is opened.


.Defualt services configuration
[source,yaml]
----
  - apps:
    - name: app-taxi <1>
      services:
      - name: taxi <2>
        pipelines: <3>
          integration:
            bindings:
            - dev-app-taxi-taxi-binding
            - gitlab-push-binding
        source_url: https://github.com/<your organization>/taxi.git <4>
        webhook:
          secret: <5>
            name: webhook-secret-dev-taxi
            namespace: cicd
----
<1> name of the application 
<2> name of the service
<3> templates and bindings used for the service
<4> source code of the service repository
<5> authentication of incoming hooks from Git
