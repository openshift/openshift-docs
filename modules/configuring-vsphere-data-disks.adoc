// Module included in the following assemblies:
//
//* installing/Installing-vsphere-installer-provisioned-customizations.adoc [IPI]
//* installing/installing-vsphere-installer-provisioned-network-customizations.adoc [IPI]
//* installing/installing-vsphere.adoc [UPI]
//* installing/installing-vsphere-network-customizations.adoc [UPI]
//* installing/installing-restricted-networks-installer-provisioned-vsphere.adoc [IPI]
//* installing/installing-restricted-networks-vsphere.adoc [IPI]

:_mod-docs-content-type: PROCEDURE
[id="configuring-vsphere-data-disks_{context}"]
= Configuring data disks for VMware vCenter
You can modify the default installation configuration file, so that you can deploy an {product-title} cluster with virtual machines that have additional disks attached to the virtual machines.

The default `install-config.yaml` file configuration from the previous release of {product-title} is deprecated. You can continue to use the deprecated default configuration, but the `openshift-installer` will prompt you with a warning message that indicates the use of deprecated fields in the configuration file.

.Prerequisites
* You have an existing `install-config.yaml` installation configuration file.

.Procedure

. Edit your `install-config.yaml` file and add the proxy settings. For example:
+
[source,yaml]
----
apiVersion: v1
baseDomain: my.domain.com
compute:
- architecture: amd64
  hyperthreading: Enabled
  name: worker
  platform:
    vsphere:
      cpus: 4
      coresPerSocket: 2
      memoryMB: 8192
      osDisk:
        diskSizeGB: 60
  replicas: 0
controlPlane:
  architecture: amd64
  hyperthreading: Enabled
  name: master
  platform:
    vsphere:
      cpus: 8
      coresPerSocket: 2
      memoryMB: 16384
      osDisk:
        diskSizeGB: 100
      dataDisks: <1>
      - name: disk1 <2>
        sizeGiB: 10 <3>
        provisioningMode: Thick <4>
      - name: disk2 <2>
        sizeGiB: 20 <3>
        provisioningMode: EagerlyZeroed <4>
  replicas: 3
----
<1> A collection of data disk definitions.
<2> The name of the data disk with a max length of 80.
<3> The size of the data disk in GiB. Max allowed size 16384 GiB.
<4> The data disk provisioning method. This value defaults to the vSphere default storage policy if not set. Valid values are `Thin`, `Thick`, or `EagerlyZeroed`