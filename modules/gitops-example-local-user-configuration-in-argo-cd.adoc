// Module is included in the following assemblies:
//
// * accesscontrol_usermanagement/managing-local-users-in-argo-cd.adoc

:_mod-docs-content-type: CONCEPT
[id="gitops-example-local-user-configuration-in-argo-cd_{context}"]
= Example local user configuration in Argo CD

[role="_abstract"]
You can configure local users for Argo CD in different ways depending on whether you need long-lived API tokens, renewable tokens, or accounts with UI login capability. The following examples display common configuration patterns for local users.

.Summary of local user configuration
[cols="2,2,2,2,2",options="header"]
|===
| User type | Login enabled | API key | Token lifetime | Auto-renew

| Basic local user | No | Yes | Non-expiring | No
| Expiring token user | No | Yes | 30 days | Yes
| Long-lived token user | No | Yes | 1 year | No
| User with login capability | Yes | Yes | 24 hours | Yes
| Disabled user | No | Yes | Retains configuration | No
| API-only user | No | Yes | 7 days | Yes
|===

The following configuration creates a local user named `developer` with API key enabled and a non-expiring token.

[source,yaml]
----
apiVersion: argoproj.io/v1beta1
kind: ArgoCD
metadata:
  name: example-argocd
spec:
  localUsers:
    - name: developer
----

The following configuration creates a user with a 30-day token lifetime and automatic renewal.

[source,yaml]
----
apiVersion: argoproj.io/v1beta1
kind: ArgoCD
metadata:
  name: example-argocd
spec:
  localUsers:
    - name: ci-system
      apiKey: true
      tokenLifetime: "720h"
      autoRenewToken: true
----

The following configuration creates a user with a one-year token lifetime without automatic renewal.

[source,yaml]
----
apiVersion: argoproj.io/v1beta1
kind: ArgoCD
metadata:
  name: example-argocd
spec:
  localUsers:
    - name: monitoring
      apiKey: true
      tokenLifetime: "8760h"  # 1 year
      autoRenewToken: false
----

The following configuration creates a user who can log in to the Argo CD web UI and also use an API token.

[source,yaml]
----
apiVersion: argoproj.io/v1beta1
kind: ArgoCD
metadata:
  name: example-argocd
spec:
  localUsers:
    - name: developer
      enabled: true
      login: true
      apiKey: true
      tokenLifetime: "24h"
      autoRenewToken: true
----

[IMPORTANT]
====
When `login: true` is enabled, you must set a password manually by using the Argo CD CLI. You cannot log in to the Argo CD web UI without a password.
====

The following configuration defines a user account that is disabled but retains its configuration and token data.

[source,yaml]
----
apiVersion: argoproj.io/v1beta1
kind: ArgoCD
metadata:
  name: example-argocd
spec:
  localUsers:
    - name: temp-user
      enabled: false
      apiKey: true
----

The following configuration creates a user for programmatic access with API key enabled, UI login disabled, and a renewable 7-day token.

[source,yaml]
----
apiVersion: argoproj.io/v1beta1
kind: ArgoCD
metadata:
  name: example-argocd
spec:
  localUsers:
    - name: automation
      enabled: true
      login: false
      apiKey: true
      tokenLifetime: "168h"
      autoRenewToken: true
----