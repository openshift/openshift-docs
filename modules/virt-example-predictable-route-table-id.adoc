// Module included in the following assemblies:
//
// * networking/k8s_nmstate/k8s-nmstate-updating-node-network-config.adoc

:_mod-docs-content-type: REFERENCE
[id="virt-example-predictable-route-table-id_{context}"]
= Example: Network interface with a predictable route table ID

[role="_abstract"]
To simplify network administration and reduce configuration errors in {product-title}, configure Virtual Routing and Forwarding (VRF) instances by using names instead of numerical IDs. Using human-readable names ensures that network routes are easier to identify and maintain without tracking abstract numerical identifiers.

The following `NodeNetworkConfigurationPolicy` (NNCP) YAML file shows an example of creating a Virtual Routing and Forwarding (VRF) instance and applying a route to the VRF instance. The VRF instance uses the stable method of referencing the VRF by name rather than a potentially shifting ID.

[source,yaml]
----
apiVersion: nmstate.io/v1
kind: NodeNetworkConfigurationPolicy
metadata:
  name: vrf-predictable-policy
spec:
  nodeSelector:
    vrf: "true"
  maxUnavailable: 3
  desiredState:
    interfaces:
      - name: vrf0
        type: vrf
        state: up
        vrf:
          route-table-id: 100
          port:
            - eth1
            - eth2
    routes:
      config:
        - destination: 198.51.200.0/24
          route-type: blackhole
          vrf-name: vrf0
# ...
----
* `nodeSelector.vrf`: Specifies the application of the policy only to nodes that have the `vrf: true` label. This configuration prevents accidental network changes on noes that do not require VRF support.
* `type.vrf`: Specifies the creation of a VRF-type interface.
* `route-table-id`: Specifies to map the VRF interface to a predictable ID in the routing table.
* `route-type.blackhole`: Specifies a _blackhole_ route that drops any packets within the IP address range of this route. (HOW DOES ONE DETERMINE THE RANGE?)
* `vrf-name`: Specifies a stable link in that if a policy changes the `route-table-id` parameter to a different value, the route automatically follows the `vrf0` name to the new ID. You do not need to manually update the route configuration.


