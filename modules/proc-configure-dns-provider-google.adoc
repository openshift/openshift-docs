// Module included in the following assemblies:
//
// *install-guide/install-guide.adoc

:_mod-docs-content-type: PROCEDURE
[id="proc-configure-dns-provider-google_{context}"]
= Configuring Google DNS provider credentials

[role="_abstract"]
If you want to configure DNS policies in {prodname} using Google Cloud, you must configure the DNS credentials.

[IMPORTANT]
====
* You must perform the steps on each {ocp} cluster that you want to use {prodname} on.
* You must configure the secret in the same namespace that includes your gateway.
* You must configure a DNS hosted zone. The credentials for your DNS provider must have permissions to update DNS records within this zone.
====

.Prerequisites

* You installed {prodname}.
* You have access to the namespace in which your gateway is to be created, for example, `api-gateway`.
+
[NOTE]
====
If you already know your environment variable values, you can set up the required `.yaml` files as required for your use case.
====
//there are no yamls in this procedure
.Procedure

. Optional: Specify your environment variables as follows:
+
[source,bash]
----
$ export GOOGLE=xxxxxxx
$ export PROJECT_ID=xxxxxxx
----
+
These variable values are described as follows:

* `GOOGLE`:  Google credentials JSON file.
* `PROJECT_ID`: Google project ID.
+
The `GOOGLE` variable specifies the JSON credentials generated by the `gcloud` CLI or by the service account.
For example, `$HOME/.config/gcloud/application_default_credentials.json`, which contains the following:
+
[source,json]
----
{"client_id": "***","client_secret": "***","refresh_token": "***","type": "authorized_user"}
----

. Create a `Secret` resource for your credentials as follows:
+
[source,bash]
----
$ kubectl create secret generic test-gcp-credentials \
  --namespace=api-gateway \
  --type=kuadrant.io/gcp \
  --from-literal=PROJECT_ID=$PROJECT_ID \
  --from-file=GOOGLE=$GOOGLE
----
+
Set the secret `type` to `gcp`.
//it actually says `kuadrant.io/gcp`
