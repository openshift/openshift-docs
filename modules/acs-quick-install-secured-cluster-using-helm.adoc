// Module included in the following assemblies:
//
// * installing/installing_ocp/install-secured-cluster-ocp.adoc
// * installing/installing_other/install-secured-cluster-other.adoc
// * installing/installing_cloud_ocp/install-secured-cluster-cloud-ocp.adoc
// * installing/installing_cloud_other/install-secured-cluster-cloud-other.adoc
:_module-type: PROCEDURE
[id="installing-secured-cluster-services-quickly_{context}"]
= Installing the secured-cluster-services Helm chart without customization

ifeval::["{context}" == "install-secured-cluster-cloud-other"]
:cloud-svc:
endif::[]


[role="_abstract"]
Use the following instructions to install the `secured-cluster-services` Helm chart to deploy the per-cluster and per-node components (Sensor, Admission controller, and Collector).

[CAUTION]
====
To install Collector on systems that have Unified Extensible Firmware Interface (UEFI) and that have Secure Boot enabled, you must use eBPF probes because kernel modules are unsigned, and the UEFI firmware cannot load unsigned packages. Collector identifies Secure Boot status at the start and switches to eBPF probes if required.
====

.Prerequisites
ifndef::cloud-svc[]
* You must have the address and the port number that you are exposing the Central service on.
endif::cloud-svc[]
ifdef::cloud-svc[]
* You must have the *Central API Endpoint*, including the address and the port number. You can view this information by choosing *Advanced Cluster Security* -> *ACS Instances* from the cloud console navigation menu, then clicking the ACS instance you created.
endif::[]

.Procedure
* Run the following command on your Kubernetes based clusters:
+
[source,terminal]
----
$ helm install -n stackrox --create-namespace \
    stackrox-secured-cluster-services rhacs/secured-cluster-services \
    -f <path_to_cluster_init_bundle.yaml> \ <1>
    --set clusterName=<name_of_the_secured_cluster> \
    --set centralEndpoint=<endpoint_of_central_service> <2>
ifdef::cloud-svc[]
--set imagePullSecrets.username=<your redhat.com username> \ 
--set imagePullSecrets.password=<your redhat.com password>
endif::[]
----
<1> Use the `-f` option to specify the path for the init bundle.
ifndef::cloud-svc[]
<2> Specify the address and port number for Central. For example, `acs.domain.com:443`.
endif::[]
ifdef::cloud-svc[]
<2> Enter the Central API Endpoint, including the address and the port number. You can view this information again in the Red Hat Hybrid Cloud Console console by choosing Advanced Cluster Security â†’ ACS Instances, and then clicking the ACS instance you created.
endif::[]

ifndef::cloud-svc[]
* Run the following command on {ocp} clusters:
+
[source,terminal]
----
$ helm install -n stackrox --create-namespace \
    stackrox-secured-cluster-services rhacs/secured-cluster-services \
    -f <path_to_cluster_init_bundle.yaml> \ <1>
    --set clusterName=<name_of_the_secured_cluster> \
    --set centralEndpoint=<endpoint_of_central_service> <2>
    --set scanner.disable=false
----
<1> Use the `-f` option to specify the path for the init bundle.
<2> Specify the address and port number for Central. For example, `acs.domain.com:443`.
endif::[]
