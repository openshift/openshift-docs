[id="set-up-dns-provider_{context}"]
= Set up a DNS provider secret

Your DNS provider supplies credentials to access the DNS zones that {prodname} can use to set up your DNS configuration. You must ensure that these credentials have access to only the DNS zones that you want {prodname} to manage with your DNSPolicy.

NOTE: You must apply the following `Secret` resource to each cluster. If you are adding an additional cluster, add it to the new cluster.

.Prerequisites

* See xref:set-up-environment_{context}[].

.Procedure

. Create the namespace that the Gateway will be deployed in as follows:
+
[source,bash]
----
kubectl create ns ${KUADRANT_GATEWAY_NS}
----

. Create the secret credentials in the same namespace as the Gateway as follows:
+
[source,bash]
----
kubectl -n ${KUADRANT_GATEWAY_NS} create secret generic aws-credentials \
  --type=kuadrant.io/aws \
  --from-literal=AWS_ACCESS_KEY_ID=$KUADRANT_AWS_ACCESS_KEY_ID \
  --from-literal=AWS_SECRET_ACCESS_KEY=$KUADRANT_AWS_SECRET_ACCESS_KEY
----

. Before adding a TLS certificate issuer, create the secret credentials in the `cert-manager` namespace as follows:
+
[source,bash]
----
kubectl -n cert-manager create secret generic aws-credentials \
  --type=kuadrant.io/aws \
  --from-literal=AWS_ACCESS_KEY_ID=$KUADRANT_AWS_ACCESS_KEY_ID \
  --from-literal=AWS_SECRET_ACCESS_KEY=$KUADRANT_AWS_SECRET_ACCESS_KEY
----

