// Module included in the following assemblies:
//
// * security/external_secrets_operator/external-secrets-operator-migrate-downstream-upstream.adoc

:_mod-docs-content-type: PROCEDURE
[id="external-secrets-operator-delete-upstream-operatorconfig_{context}"]
= Deleting the upstream {external-secrets-operator} configoperator

You must delete the `operatorconfig` from the upstream {external-secrets-operator-short} because it creates a direct resource conflict with {external-secrets-operator} because the two operator versions use different methods for configuration.

.Prerequisites

* You must be logged in as a user with the `cluster-admin` role.

* You must have the `oc` command-line tool installed and configured.

.Procedure

. Find your upstream Operator's `namespace` by running the following command:
+
[source,terminal]
----
$ oc get deployment -A | grep external-secrets
----
+
The following is example output from finding your `namespace`:
+
[source,terminal]
----
external-secrets      external-secrets-webhook    1/1     1    1
external-secrets      external-secrets            1/1     1    1
----

. Find the name of the `operatorconfig` resource within that namespace by running the following command:
+
[source,terminal]
----
$ oc get operatorconfig -n _<operator-namespace>_
----
+
The following example provides output displaying the `operatorconfig` name:
+
[source,terminal]
----
NAME                           AGE
external-secrets               30d
----

. Delete the `operatorconfig` by running the following command:
+
[source,terminal]
----
$ oc delete operatorconfig _<config-name>_ -n _<operator-namespace>_
----

.Verification

. To verifiy that the `operatorconfig` was deleted, run the following command:
+
[source,terminal]
----
$ oc get operatorconfig -n _<operator-namespace>_
----
+
The command should return `no resource found`.

. To verify that the old webhooks are gone, run the following commands:
+
[source,terminal]
----
$ oc get validatingwebhookconfigurations | grep external-secrets
----
+
[source,terminal]
----
oc get mutatingwebhookconfigurations | grep external-secrets
----
+
The commands should return no results.
