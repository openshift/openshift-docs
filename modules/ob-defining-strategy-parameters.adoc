// This module is included in the following assembly:
//
// * configuring/configuring-build-strategies.adoc

:_mod-docs-content-type: REFERENCE
[id="ob-defining-strategy-parameters_{context}"]
= Strategy parameters definition

[role="_abstract"] 

You can define strategy parameters in a `BuildStrategy` or `ClusterBuildStrategy` custom resource (CR) and set, or modify, the values of those parameters in your `Build` or `BuildRun` CR. You can also configure or modify strategy parameters at build time when creating your build strategy.

Consider the following points before defining parameters for your strategy:

* Define a list of parameters in the `spec.parameters` field of your build strategy CR. Each list item contains a name, a description, a type, and an optional default value, or values, for an array type. If no default value is set, you must define a value in the `Build` or `BuildRun` CR.
* Define parameters of string or array type in the `spec.steps` field of your build strategy.
* Specify a parameter of string type by using the `$(params.your-parameter-name)` syntax. You can set a value for the `your-parameter-name` parameter in your `Build` or `BuildRun` CR that references your strategy. You can define the following string parameters based on your needs:

.String parameters
[options="header"]
|===

| Parameter | Description

| `image`  | Use this parameter to define a custom tag, such as `golang:$(params.go-version)`

| `args`  | Use this parameter to pass data into your builder commands

| `env`  | Use this parameter to provide a value for an environment variable

|===

* Specify a parameter of array type by using the `$(params.your-array-parameter-name[*])` syntax. After specifying the array, you can use it in an argument or a command. For each item in the array, an argument will be set. The following example uses an array parameter in the `spec.steps` field of the build strategy:

[source,yaml]
----
apiVersion: shipwright.io/v1beta1
kind: ClusterBuildStrategy
metadata:
  name: <cluster_build_strategy_name>
  # ...
spec:
  parameters:
    - name: tool-args
      description: Parameters for the tool
      type: array
  steps:
    - name: a-step
      command:
        - some-tool
      args:
        - --tool-args
        - $(params.tool-args[*])
----

* Provide parameter values as simple strings or as references to keys in config maps or secrets. For a parameter, you can use a config map or secret value only if it is defined in the `command`, `args`, or `env` section of the `spec.steps` field.

