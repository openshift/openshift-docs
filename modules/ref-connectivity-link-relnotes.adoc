// Module used the following assemblies
//
// *release_notes/release-notes.adoc

:_mod-docs-content-type: CONCEPT
[id="prodname-relnotes_{context}"]
= {product-title} {version} release notes

[role="_abstract"]
{product-title} is a modular and flexible solution for application connectivity, policy management, and API management in multicloud and hybrid cloud environments. You can use {prodname} to secure, protect, connect, and observe your APIs, applications, and infrastructure. {prodname} is based on the link:https://kuadrant.io/[Kuadrant] community project.

{prodname} provides a control plane for configuring and deploying ingress gateways and policies based on the link:https://gateway-api.sigs.k8s.io/[Kubernetes Gateway API] standard. {prodname} supports link:https://docs.redhat.com/en/documentation/red_hat_openshift_service_mesh/{service-mesh-version}/html-single/about/index[{service-mesh} {service-mesh-version}] as the Gateway API provider, which is based on the link:https://istio.io/[Istio] community project.

[id="rhcl-relnotes-features-enhancements_{context}"]
== New features and enhancements

* New custom policy extensions:
** *OIDC policy:* Low-code approach to authentication
** *Plan policy:* Definition of usage plans for API consumers
** *Telemetry policy:* More extensibility with metrics
* Al gateway functionalities:
** *Token-based rate limiting policy:* Control access to Al services by setting limits based on tokens
** *Token metrics:* Evaluate the performance, efficiency, and resource consumption of Al models and applications
* New builds of {prodname} for operation within ARM infrastructure
* Seamless WASM plug-in installation

[id="rhcl-relnotes-support-matrix_{context}"]
== Supported platforms and components

For details on all platform and component versions supported by {prodname} {version}, see the following article:

* https://access.redhat.com/articles/7092611[Supported Configurations for {product-title}].
//TODO this should not be a KCS

[id="rhcl-relnotes-tech-preview_{context}"]
== {prodname} Technology Preview features

[IMPORTANT]
====
Technology Preview features are not supported with Red Hat production service level agreements (SLAs) and might not be functionally complete. {rh} does not recommend using them in production.

Technology Preview features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process. For more information, see https://access.redhat.com/support/offerings/techpreview[{rh} Technology Preview Features - Scope of Support].
====

[id="rhcl-relnotes-tp-coredns_{context}"]
=== CoreDNS integration for on-premise DNS

{prodname} provides integration with https://coredns.io/[CoreDNS] for on-premise DNS as a Technology Preview feature. For more information, see the https://github.com/Kuadrant/kuadrant-operator/blob/main/doc/user-guides/dns/core-dns.md[Kuadrant documentation on using CoreDNS].
//TODO must link to prod docs

//TODO remove, pending discussion
== Developer Preview features

[IMPORTANT]
====
Developer Preview features are not supported by {rh} in any way and are not functionally complete or production-ready. Do not use Developer Preview features for production or business-critical workloads. Developer Preview features provide early access to functionality in advance of possible inclusion in a {rh} product offering. Customers can use these features to test functionality and provide feedback during the development process.

Developer Preview features might not have any documentation, are subject to change or removal at any time, and have received limited testing. {rh} might provide ways to submit feedback on Developer Preview features without an associated SLA. For more information, see https://access.redhat.com/support/offerings/devpreview[{rh} Developer Preview - Scope of Support].
====

Red Hat customers can provide feedback on Developer Preview features through your account teams. You can also ask questions and provide feedback directly by using the https://docs.google.com/forms/d/e/1FAIpQLSfrbEYkqfTMs_KBYPuM2UlVZ9Ld9_E8mcQi4xkBFzFQlnZNRw/viewform[Connectivity Link contact form] or by emailing mailto:rhcl-contactus@redhat.com[rhcl-contactus@redhat.com].
//pending discussion; should be removed unless customer requires this here
=== Extension SDK

The Extension SDK is available in {prodname} as a Developer Preview feature.

The Extension SDK provides a framework for developers to build custom policy extensions that integrate with and extend {prodname} capabilities beyond core policies, such as AuthPolicy, RateLimitPolicy, TLSPolicy, and DNSPolicy.

Key features include:

* Building custom policy controllers that follow Gateway API policy attachment patterns.
* Integrating with the {prodname} control plane using gRPC over a Unix socket.
* Using the Common Expression Language (CEL) for dynamic configuration evaluated against the Kuadrant context (topology, request data).
* Publishing data bindings to share computed values or CEL programs with downstream components such as Authorino, Envoy WASM filters, or Limitador.
* Subscribing to cluster events (gateways, Routes, Policies) to react to changes.
* Accessing helper functions to query the Kuadrant topology (gateways, attached Policies) within CEL expressions.

Example extensions and a developer guide are available in the Kuadrant community repository to help users get started with building their own extensions. For more information, see link:https://github.com/Kuadrant/kuadrant-operator/blob/main/doc/overviews/extension-sdk.md[Extension SDK].

//TODO modularize
[id="rhcl-relnotes-update-1.1_{context}"]
== Updating from {prodname} 1.1 to {version}
//module
You can upgrade from {prodname} 1.1.x to {prodname} {version}.x by using the OperatorHub in the {ocp} web console.

IMPORTANT: On {ocp} 4.19 or later, if you are updating your cluster from a previous {ocp} version that contains Gateway API CRDs, you must ensure that these resources exactly match the Gateway API version supported by {ocp} 4.19. For more information, see the https://docs.redhat.com/en/documentation/openshift_container_platform/4.19/html-single/updating_clusters/index#nw-ingress-gateway-api-manage-succession_updating-cluster-prepare[OpenShift documentation on managing Gateway API resources].

//TODO modularize
[id="rhcl-relnotes-update-with-web-console_{context}"]
=== Updating to {prodname} {version} in the web console

.Prerequisites
* You already have {prodname} 1.1.x installed on {ocp} 4.17 or later.

.Procedure
. Click *Operators > Installed Operators* > *{rh} {prodname}*.
. Ensure that the *Update channel* is set to `stable`.
. If *Update approval* is set to *Automatic*, the upgrade will be approved and installed immediately when the *Update channel* is set to `stable`.
. If *Update approval* is set to *Manual*, click *Install*.
. Wait until the {prodname} Operator is deployed.
. Verify that {prodname} {version} is installed and that your deployment is up and running.

.Next steps

* For RateLimitPolicy or AuthPolicy only, if you patched your subscription as a workaround for https://issues.redhat.com/browse/CONNLINK-299[CONNLINK-299], enter the following command to ensure that your environment is set correctly:
+
[source,bash]
----
$ oc patch subscription rhcl-operator -n openshift-operators --type=merge --patch '{"spec": {"config": {"env": null}}}'
----
//TODO remove
.Additional resources
* For more information on Operators, see link:https://docs.openshift.com/container-platform/latest/operators/admin/olm-upgrading-operators.html[Updating installed Operators].

[id="rhcl-relnotes-fixed-issues_{context}"]
== Fixed issues

.Fixed issues in {prodname} 1.2.1

[options="header"]
[cols="2,8"]
|===
|Issue|Description

| https://issues.redhat.com/browse/CONNLINK-595[CONNLINK-595]
| TokenRateLimitPolicy switches between status of Accepted/Enforced and MissingDependency.

Previously, the TokenRateLimitPolicy status switched indefinitely between Accepted/Enforced and MissingDependency. When in the MissingDependency state, the condition message was as follows:
`[token rate limit policy validation has not finished] is not installed, please restart Kuadrant Operator pod once dependency has been installed`.

Now, the TokenRateLimitPolicy status transitions to Accepted/Enforced and remains in that state, and rate limiting rules are consistently enforced by the Limitador component.

| https://issues.redhat.com/browse/CONNLINK-604[CONNLINK-604]
| Added auth headers should replace existing values, not append.

Previously, for token exchange flows where the auth header value must be replaced, the added auth headers were appended instead. Now, the added auth headers replace existing values, instead of appending.

|===
//TODO move to 1.1 docs
.Fixed issues in {prodname} 1.1.1

[options="header"]
[cols="2,8"]
|===
|Issue|Description

| https://issues.redhat.com/browse/CONNLINK-529[CONNLINK-529]
| {service-mesh} pull secret configuration is cumbersome.

Previously, for RateLimitPolicy or AuthPolicy only, you were required to authenticate to `registry.redhat.io` to access the Wasm plug-in image used with {service-mesh} as the Gateway API provider. Now, authenticating to `registry.redhat.io` to access the Wasm plug-in image is no longer required.

| https://issues.redhat.com/browse/CONNLINK-433[CONNLINK-433]
| {ocp} 4.19 Gateway API compatibility.

Previously, on {ocp} 4.19, {prodname} used an incorrect Gateway API controller name. The Gateway API controller name is required in order to enable the Gateway API CRDs, which are now provided in {ocp} 4.19. Now, {prodname} uses the correct Gateway API controller name for {ocp} 4.19.

|===


.Fixed issues in {prodname} 1.1.0

[options="header"]
[cols="2,8"]
|===
|Issue|Description

| https://issues.redhat.com/browse/CONNLINK-289[CONNLINK-289]
| Namespace selector on Policies view switches user from sub-navigation item.

Previously, in the *Policies* view, in a specific policy list such as DNS policies, when you switched namespace, you returned to the *All Policies* view. Now, when you switch namespace, you stay in the original specific policy list.

|===

[id="rhcl-relnotes-known-issues_{context}"]
== Known issues

The following known issues apply in {prodname} {version}:

* Exploratory Testing of Dynamic Plugin: link:https://issues.redhat.com/browse/CONNLINK-566[CONNLINK-566]

** Some documentation links do not resolve or direct to the 1.1 version of {prodname} documentation instead of the 1.2 version.

* {prodname} allows configuration for non-standard response codeslink:https://issues.redhat.com/browse/CONNLINK-287[CONNLINK-287]

** {prodname} should not allow configuration that specifies non-standard custom HTTP response codes such as HTTP 333.
