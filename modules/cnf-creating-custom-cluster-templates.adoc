// Module included in the following assemblies:
// Epic CNF-9657 (TELCODOCS-1540) (4.16)
// * edge_computing/cnf-understanding-siteconfig-operator.adoc

:_mod-docs-content-type: CONCEPT
[id="cnf-creating-custom-cluster-templates_{context}"]
= Creating custom cluster templates with the {sco}

Create user-defined templates with the {sco}.
This example shows how you can create a template for etcd encryption.

.Prerequisites
// Any?

.Procedure

. Create a YAML file, named `example-etcdencryptionsecret-cluster-template.yaml`, that contains the cluster-level template in a `ConfigMap` object:
+
--
include::snippets/siteconfig-etcdencryptionsecret-cluster-level.adoc[]
--

. Create the template on the hub cluster by running the following commands:
+
[source,terminal]
----
$ oc apply -f example-etcdencryptionsecret-cluster-template.yaml
----

. Reference your template in the `ClusterInstance` CR, named for example `clusterinstance-etcd.yaml`:
+
[source,yaml]
----
spec:
    [...]
  templateRefs:
    - name: ai-cluster-templates-v1.yaml
      namespace: siteconfig-operator
    - name: example-etcdencryptionsecret-cluster-template.yaml
      namespace: siteconfig-operator
----

. Create the `ClusterInstance` CR by running the following command:
+
[source,terminal]
----
$ oc apply -f clusterinstance-etcd.yaml
----