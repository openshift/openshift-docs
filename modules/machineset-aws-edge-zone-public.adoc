// Module included in the following assemblies:
//
// * installing/installing_aws/installing-aws-wavelength.adoc

:_mod-docs-content-type: PROCEDURE
[id="installing-with-edge-node-public_{context}"]
= Creating edge worker nodes in public subnets (optional)

AWS Local or Wavelength infrastructures exposes the Public IP address in the zone,
allowing to ingress traffic taking advantage of lower lattency when serving applications
closer to that zone.

If your workload requires deploying the edge worker nodes in public subnets in {aws-service-name-single},
you can modify the machine set manifests when installing a cluster.

+
[IMPORTANT]
====
By Default OpenShift deploy the worker nodes in private subnets.
Red Hat does not recommend placing worker nodes in subnets with Public IP attached to it.

Additional security groups must be created and the rules must not be opened to the internet,
unless you required it.
====

.Procedure

. Change to the directory that contains the installation program and create the manifests:

.Create the manifests
[source,sh]
----
$ ./openshift-install create manifests --dir <installation_directory> 
----

. The installer manifests must be created at `openshift` and `manifests` directory. Edit the
  machine set manifest will be created by the {aws-service-name-single} in the directory
  `openshift`, setting the field `spec.template.spec.providerSpec.value.publicIP` to `true`.

. Edit the following lines under the `providerSpec` field:
[source,yaml]
----
apiVersion: machine.openshift.io/v1beta1
kind: MachineSet
metadata:
  name: <infrastructure_id>-edge-<zone> (2)
  namespace: openshift-machine-api
spec:
  template:
    spec:
      providerSpec:
        value:
          publicIp: true
----
