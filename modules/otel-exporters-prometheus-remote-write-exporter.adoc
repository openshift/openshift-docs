// Module included in the following assemblies:
//
// * observability/otel/otel-collector/otel-collector-exporters.adoc

:_mod-docs-content-type: REFERENCE
[id="otel-exporters-prometheus-remote-write-exporter_{context}"]
= Prometheus Remote Write Exporter

[role="_abstract"]
The Prometheus Remote Write Exporter exports metrics to compatible back ends.

:FeatureName: The Prometheus Remote Write Exporter
include::snippets/technology-preview.adoc[]

.OpenTelemetry Collector custom resource with the enabled Prometheus Remote Write Exporter
[source,yaml]
----
# ...
  config:
    exporters:
      prometheusremotewrite:
        endpoint: "https://my-prometheus:7900/api/v1/push" # <1>
        tls: # <2>
          ca_file: ca.pem
          cert_file: cert.pem
          key_file: key.pem
        target_info: true # <3>
        export_created_metric: true # <4>
        max_batch_size_bytes: 3000000 # <5>
    service:
      pipelines:
        metrics:
          exporters: [prometheusremotewrite]
# ...
----
<1> Endpoint for sending the metrics.
<2> Server-side TLS configuration. Defines paths to TLS certificates.
<3> When set to `true`, creates a `target_info` metric for each resource metric.
<4> When set to `true`, exports a `_created` metric for the Summary, Histogram, and Monotonic Sum metric points.
<5> Maximum size of the batch of samples that is sent to the remote write endpoint. Exceeding this value results in batch splitting. The default value is `3000000`, which is approximately 2.861 megabytes.

[WARNING]
====
* This exporter drops non-cumulative monotonic, histogram, and summary OTLP metrics.

* You must enable the `--web.enable-remote-write-receiver` feature flag on the remote Prometheus instance. Without it, pushing the metrics to the instance using this exporter fails.
====
