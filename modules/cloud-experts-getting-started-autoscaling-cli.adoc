// Module included in the following assemblies:
//
// * cloud_experts_tutorials/cloud-experts-getting-started/cloud-experts-getting-started-autoscaling.adoc

:_mod-docs-content-type: PROCEDURE
[id="cloud-experts-getting-started-autoscaling-cli_{context}"]
= Enabling autoscaling for an existing machine pool using the CLI

[role="_abstract"]
You can enable autoscaling on your machine pools by using the {rosa-cli-first}.

[NOTE]
====
Cluster autoscaling can be enabled at cluster creation and when creating a new machine pool by using the `--enable-autoscaling` option.
====

.Procedure
. Autoscaling is set based on machine pool availability. To find out which machine pools are available for autoscaling, run the following command:
+
[source,terminal]
----
$ rosa list machinepools -c <cluster-name>
----
+
**Example output**
+
[source,terminal]
----
ID         AUTOSCALING  REPLICAS  INSTANCE TYPE  LABELS     TAINTS    AVAILABILITY ZONES
Default    No           2         m5.xlarge                           us-east-1a
----

. Run the following command to add autoscaling to an available machine pool:
+
[source,terminal]
----
$ rosa edit machinepool -c <cluster-name> --enable-autoscaling <machinepool-name> --min-replicas=<num> --max-replicas=<num>
----
+
**Example input**
+
[source,terminal]
----
$ rosa edit machinepool -c my-rosa-cluster --enable-autoscaling Default --min-replicas=2 --max-replicas=4
----
+
The above command creates an autoscaler for the worker nodes that scales between 2 and 4 nodes depending on the resources.