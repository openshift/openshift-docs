// Module included in the following assemblies:
//
// * logging/logging_installation/logging-installation-overview.adoc

:_content-type: PROCEDURE
[id="logging-install-es-operator_{context}"]
= Installing the ElasticSearch Operator using the web console

.Prerequisites

* Ensure that you have the necessary persistent storage for Elasticsearch. Note that each Elasticsearch node
requires its own storage volume.
+
[NOTE]
====
If you use a local volume for persistent storage, do not use a raw block volume, which is described with `volumeMode: block` in the `LocalVolume` object. Elasticsearch cannot use raw block volumes.
====
+
Elasticsearch is a memory-intensive application. By default, {product-title} installs three Elasticsearch nodes with memory requests and limits of 16 GB. This initial set of three {product-title} nodes might not have enough memory to run Elasticsearch within your cluster. If you experience memory issues that are related to Elasticsearch, add more Elasticsearch nodes to your cluster rather than increasing the memory on existing nodes.

ifdef::openshift-origin[]
* Ensure that you have downloaded the {cluster-manager-url-pull} as shown in _Obtaining the installation program_ in the installation documentation for your platform.
+
If you have the pull secret, add the `redhat-operators` catalog to the OperatorHub custom resource (CR) as shown in _Configuring {product-title} to use Red Hat Operators_.
endif::[]

.Procedure

. Install the OpenShift Elasticsearch Operator:

ifndef::openshift-rosa,openshift-dedicated[]
.. In the {product-title} web console, click *Operators* -> *OperatorHub*.
endif::[]
ifdef::openshift-rosa,openshift-dedicated[]
.. In the {hybrid-console}, click *Operators* -> *OperatorHub*.
endif::[]

.. Choose  *OpenShift Elasticsearch Operator* from the list of available Operators, and click *Install*.

.. Ensure that the *All namespaces on the cluster* is selected under *Installation mode*.

.. Ensure that *openshift-operators-redhat* is selected under *Installed Namespace*.
+
You must specify the `openshift-operators-redhat` namespace. The `openshift-operators` namespace might contain Community Operators, which are untrusted and could publish a metric with the same name as
ifdef::openshift-rosa[]
 a ROSA
endif::[]
ifdef::openshift-dedicated[]
 an {product-title}
endif::[]
metric, which would cause conflicts.

.. Select *Enable operator recommended cluster monitoring on this namespace*.
+
This option sets the `openshift.io/cluster-monitoring: "true"` label in the Namespace object. You must select this option to ensure that cluster monitoring scrapes the `openshift-operators-redhat` namespace.

.. Select *stable-5.x* as the *Update channel*.

.. Select an *Update approval*:
+
* The *Automatic* strategy allows Operator Lifecycle Manager (OLM) to automatically update the Operator when a new version is available.
+
* The *Manual* strategy requires a user with appropriate credentials to approve the Operator update.

.. Click *Install*.

.. Verify that the OpenShift Elasticsearch Operator installed by switching to the *Operators* â†’ *Installed Operators* page.

.. Ensure that *OpenShift Elasticsearch Operator* is listed in all projects with a *Status* of *Succeeded*.

.Verification

. Navigate to *Workloads* -> *Pods*.

. Select the *openshift-logging* project.
+
You should see several pods for OpenShift Logging, Elasticsearch, Fluentd, and Kibana similar to the following list:
+
* cluster-logging-operator-cb795f8dc-xkckc
* collector-pb2f8
* elasticsearch-cdm-b3nqzchd-1-5c6797-67kfz
* elasticsearch-cdm-b3nqzchd-2-6657f4-wtprv
* elasticsearch-cdm-b3nqzchd-3-588c65-clg7g
* fluentd-2c7dg
* fluentd-9z7kk
* fluentd-br7r2
* fluentd-fn2sb
* fluentd-zqgqx
* kibana-7fb4fd4cc9-bvt4p
