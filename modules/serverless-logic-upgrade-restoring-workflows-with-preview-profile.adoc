// Module included in the following assemblies:
// * serverless-logic/serverless-logic-upgrading-operator-from-1.34-to-1.35


:_mod-docs-content-type: PROCEDURE
[id="serverless-logic-upgrade-restoring-workflows-with-preview-profile_{context}"]
= Restoring workflows with the preview profile

Workflows with the `preview` profile require an additional configuration step before being redeployed.

.Procedure

. If the workflow uses persistence, add the following property to the `ConfigMap` associated with the workflow:
+
[source,yaml]
----
apiVersion: v1
kind: ConfigMap
metadata:
  labels:
    app: my-workflow
  name: my-workflow-props
data:
  application.properties: |
    kie.flyway.enabled=true
----

. Ensure all required resources are recreated, including `SonataFlow` CRDs, `ConfigMaps`, or any other related custom configurations.

. Redeploy the workflow by running the following command: 
+
[source,terminal]
----
$ oc apply -f <my-workflow.yaml> -n <target_namespace>
----