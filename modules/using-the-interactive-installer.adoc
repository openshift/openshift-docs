// Module included in the following assemblies:
//
// * installing/installing_ocp/install-central-ocp.adoc
// * installing/installing_other/install-central-other.adoc
:_mod-docs-content-type: PROCEDURE
[id="using-the-interactive-installer_{context}"]
= Using the interactive installer

[role="_abstract"]
Use the interactive installer to generate the required secrets, deployment configurations, and deployment scripts for your environment.

.Procedure
. Run the interactive install command:
+
[source,terminal]
----
$ roxctl central generate interactive
----
+
[IMPORTANT]
====
Installing {product-title-short} using the `roxctl` CLI creates PodSecurityPolicy (PSP) objects by default for backward compatibility. If you install {product-title-short} on Kubernetes versions 1.25 and newer or {ocp} version 4.12 and newer, you must disable the PSP object creation. To do this, specify `--enable-pod-security-policies` option as `false` for the `roxctl central generate` and `roxctl sensor generate` commands.
====
. Press *Enter* to accept the default value for a prompt or enter custom values as required. The following example shows the interactive installer prompts:
+
[source,terminal]
----
Path to the backup bundle from which to restore keys and certificates (optional):
PEM cert bundle file (optional): <1>
Disable the administrator password (only use this if you have already configured an IdP for your instance) (default: "false"):
Create PodSecurityPolicy resources (for pre-v1.25 Kubernetes) (default: "false"): <2>
Administrator password (default: autogenerated):
Orchestrator (k8s, openshift):
Default container images settings (rhacs, opensource); it controls repositories from where to download the images, image names and tags format (default: "rhacs"):
The directory to output the deployment bundle to (default: "central-bundle"):
Whether to enable telemetry (default: "true"):
The central-db image to use (if unset, a default will be used according to --image-defaults) (default: "registry.redhat.io/advanced-cluster-security/rhacs-central-db-rhel8:4.6.0"):
List of secrets to add as declarative configuration mounts in central (default: "[]"): <3>
The method of exposing Central (lb, np, none) (default: "none"): <4>
The main image to use (if unset, a default will be used according to --image-defaults) (default: "registry.redhat.io/advanced-cluster-security/rhacs-main-rhel8:4.6.0"):
Whether to run StackRox in offline mode, which avoids reaching out to the Internet (default: "false"):
List of config maps to add as declarative configuration mounts in central (default: "[]"): <5>
The deployment tool to use (kubectl, helm, helm-values) (default: "kubectl"):
Istio version when deploying into an Istio-enabled cluster (leave empty when not running Istio) (optional):
The scanner-db image to use (if unset, a default will be used according to --image-defaults) (default: "registry.redhat.io/advanced-cluster-security/rhacs-scanner-db-rhel8:4.6.0"):
The scanner image to use (if unset, a default will be used according to --image-defaults) (default: "registry.redhat.io/advanced-cluster-security/rhacs-scanner-rhel8:4.6.0"):
The scanner-v4-db image to use (if unset, a default will be used according to --image-defaults) (default: "registry.redhat.io/advanced-cluster-security/rhacs-scanner-v4-db-rhel8:4.6.0"):
The scanner-v4 image to use (if unset, a default will be used according to --image-defaults) (default: "registry.redhat.io/advanced-cluster-security/rhacs-scanner-v4-rhel8:4.6.0"):
External volume type (hostpath, pvc): hostpath
Path on the host (default: "/var/lib/stackrox-central"):
Node selector key (e.g. kubernetes.io/hostname):
Node selector value:
----
<1> If you want to add a custom TLS certificate, provide the file path for the PEM-encoded certificate. When you specify a custom certificate the interactive installer also prompts you to provide a PEM private key for the custom certificate you are using.
<2> If you are running Kubernetes version 1.25 or later, set this value to `false`.
<3> For more information on using declarative configurations for authentication and authorization, see "Declarative configuration for authentication and authorization resources" in "Managing RBAC in Red{nbsp}Hat Advanced Cluster Security for Kubernetes".
<4> To use the {product-title-short} portal, you must expose Central by using a route, a load balancer or a node port.
<5> For more information on using declarative configurations for authentication and authorization, see "Declarative configuration for authentication and authorization resources" in "Managing RBAC in Red{nbsp}Hat Advanced Cluster Security for Kubernetes".
+
[WARNING]
====
On {ocp}, for using a hostPath volume, you must modify the SELinux policy to allow access to the directory, which the host and the container share. It is because SELinux blocks directory sharing by default. To modify the SELinux policy, run the following command:
[source,terminal]
----
$ sudo chcon -Rt svirt_sandbox_file_t <full_volume_path>
----

However, Red{nbsp}Hat does not recommend modifying the SELinux policy, instead use PVC when installing on {ocp}.
====

On completion, the installer creates a folder named central-bundle, which contains the necessary YAML manifests and scripts to deploy Central.
In addition, it shows on-screen instructions for the scripts you need to run to deploy additional trusted certificate authorities, Central and Scanner, and the authentication instructions for logging into the {product-title-short} portal along with the autogenerated password if you did not provide one when answering the prompts.
