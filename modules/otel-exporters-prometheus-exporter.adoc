// Module included in the following assemblies:
//
// * observability/otel/otel-collector/otel-collector-exporters.adoc

:_mod-docs-content-type: REFERENCE
[id="otel-exporters-prometheus-exporter_{context}"]
= Prometheus Exporter

[role="_abstract"]
The Prometheus Exporter exports metrics in the Prometheus or OpenMetrics formats.

:FeatureName: The Prometheus Exporter
include::snippets/technology-preview.adoc[]

.OpenTelemetry Collector custom resource with the enabled Prometheus Exporter
[source,yaml]
----
# ...
  config:
    exporters:
      prometheus:
        endpoint: 0.0.0.0:8889 # <1>
        tls: # <2>
          ca_file: ca.pem
          cert_file: cert.pem
          key_file: key.pem
        namespace: prefix # <3>
        const_labels: # <4>
          label1: value1
        enable_open_metrics: true # <5>
        resource_to_telemetry_conversion: # <6>
          enabled: true
        metric_expiration: 180m # <7>
        add_metric_suffixes: false # <8>
    service:
      pipelines:
        metrics:
          exporters: [prometheus]
# ...
----
<1> The network endpoint where the metrics are exposed. The {OTELOperator} automatically exposes the port specified in the `endpoint` field to the `<instance_name>-collector` service.
<2> The server-side TLS configuration. Defines paths to TLS certificates.
<3> If set, exports metrics under the provided value.
<4> Key-value pair labels that are applied for every exported metric.
<5> If `true`, metrics are exported by using the OpenMetrics format. Exemplars are only exported in the OpenMetrics format and only for histogram and monotonic sum metrics such as `counter`. Disabled by default.
<6> If `enabled` is `true`, all the resource attributes are converted to metric labels. Disabled by default.
<7> Defines how long metrics are exposed without updates. The default is `5m`.
<8> Adds the metrics types and units suffixes. Must be disabled if the monitor tab in the Jaeger console is enabled. The default is `true`.


[NOTE]
====
When the `spec.observability.metrics.enableMetrics` field in the `OpenTelemetryCollector` custom resource (CR) is set to `true`, the `OpenTelemetryCollector` CR automatically creates a Prometheus `ServiceMonitor` or `PodMonitor` CR to enable Prometheus to scrape your metrics.
====
