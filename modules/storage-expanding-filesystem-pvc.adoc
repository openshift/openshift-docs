// Module included in the following assemblies:
//
// * storage/expanding-persistent-volume.adoc

[id="expanding-pvc-filesystem_{context}"]
= Expanding persistent volume claims (PVCs) with a file system

Expanding PVCs based on volume types that need file system resizing,
such as GCE PD, EBS, and Cinder, is a two-step process.
This process involves expanding volume objects in the cloud provider, and
then expanding the file system on the actual node.

Any in use PVC is automatically available to the pod as soon as the file system is expanded.
Note that you must create a pod that is using PVC for the online expansion to take place.

.Prerequisites

* The controlling `StorageClass` object must have `allowVolumeExpansion` set
to `true`.

.Procedure

. Edit the PVC and request a new size by editing `spec.resources.requests`.
For example, the following expands the `ebs` PVC to 8 Gi.
+
[source,yaml]
----
kind: PersistentVolumeClaim
apiVersion: v1
metadata:
  name: ebs
spec:
  storageClass: "storageClassWithFlagSet"
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 8Gi <1>
----
<1> Updating `spec.resources.requests` to a larger amount will expand
the PVC.
