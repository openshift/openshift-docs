// Module is included in the following assemblies:
//
// * accesscontrol_usermanagement/managing-local-users-in-argo-cd.adoc

:_mod-docs-content-type: PROCEDURE
[id="creating-local-users-argocd_{context}"]
= Creating local users in Argo CD

[role="_abstract"]
You can configure local users with API keys for access to Argo CD.  The Argo CD Operator manages these users and securely generates API tokens for service accounts or automation scripts.

.Prerequisites

* You are logged in to the {OCP} cluster as an administrator.
* You installed the {gitops-title} Operator on your {OCP} cluster.
* You can access the default Argo CD instance in the `openshift-gitops` namespace.

.Procedure

. Edit the Argo CD custom resource (CR) for your instance by running the following command:
+
[source,terminal]
----
$ oc edit argocd <argocd-instance-name> -n <namespace>
----

. In the `spec` section of the Argo CD CR, add a `localUsers` configuration. For example:
+
[source,yaml]
----
spec:
  localUsers:
  - name: "alice"
    enabled: true
    apiKey: true
    login: false
    tokenLifetime: "24h"
    autoRenewToken: true
  - name: "service-account"
    enabled: true
    apiKey: true
    login: false
    tokenLifetime: "0h"  # Infinite lifetime
    autoRenewToken: false
----

. Save and close the file.  
+
The Operator reconciles the changes and creates the required secrets and API tokens automatically.
