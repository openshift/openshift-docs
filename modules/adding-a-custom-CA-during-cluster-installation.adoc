// Module included in the following assemblies:
//
// * networking/configuring-a-custom-pki.adoc

:_mod-docs-content-type: PROCEDURE
[id="adding-a-custom-CA-during-cluster-installation_{context}"]
= Adding a custom CA during cluster installation 

You can add a custom CA to the cluster-wide truststore during installation by providing the certificate in your `install-config.yaml` file.

This procedure uses the `additionalTrustBundle` parameter. If you are also configuring an egress proxy, you can add this parameter to your `install-config.yaml` file along with your proxy configuration. For more information on the available proxy settings, see the "Configuring the cluster-wide proxy" chapter.

.Prerequisites 

* You have access to the `install-config.yaml` file for your cluster installation.

* You have your custom CA certificate avalable in PEM-encoded format.

.Procedure

. Open your `install-config.yaml` file.

. Add the `additionalTrustBundle` parameter with your PEM-encoded CA certificate:
+
[source,yaml]
----
apiVersion: v1
baseDomain: my.domain.com
metadata:
  name: my-cluster
additionalTrustBundle: | <1>
  -----BEGIN CERTIFICATE-----
  <MY_PEM_ENCODED_CA_CERT>
  -----END CERTIFICATE-----
----
+
<1> The `additionalTrustBundle` parameter contains the custom CA certificate that you want the cluster to trust. The installation program uses the certificate to generate a `user-ca-bundle` `ConfigMap` object in the `openshift-config` namespace.

. Save the `install-config.yaml` file and continue with your cluster installation.

During installation, the Cluster Network Operator (CNO) merges the certificate you provided with the system's default trust bundle. This process makes your custom CA trusted across the entire cluster.