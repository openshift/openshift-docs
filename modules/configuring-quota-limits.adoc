// Module included in the following assemblies:
//
// * configure/configuring-quotas.adoc

:_mod-docs-content-type: PROCEDURE
[id="configuring-quota-limits_{context}"]
= Configuring quota limits

When you create a cluster queue that is part of a cohort, you can configure quota limits to define the maximum amount of resources that the cluster queue can borrow, as well as the maximum amount of unused resources that other cluster queues can borrow from this cluster queue.

You can configure these limits by specifying values for the `borrowingLimit` and `lendingLimit`, respectively.

.Prerequisites

include::snippets/prereqs-snippet-yaml.adoc[]

.Procedure

. Create a `ClusterQueue` object as a YAML file:
+
.Example of a basic `ClusterQueue` object using quota limits
[source,yaml]
----
apiVersion: kueue.x-k8s.io/v1beta1
kind: ClusterQueue
metadata:
  name: "example-q"
spec:
  namespaceSelector: {}
  cohort: "example-cohort"
  resourceGroups:
  - coveredResources: ["cpu", "memory"]
    flavors:
    - name: "default-flavor"
      resources:
      - name: "cpu"
        nominalQuota: 9
        borrowingLimit: 1 # <1>
        lendingLimit: 3 # <2>
# ...
----
<1> In this example, the borrowing limit is set to `1`, and there is a nominal quota of `9`, so assuming that there is 1 CPU of borrowable resources available in the cohort, the `example-q` cluster queue could admit workloads with resources totaling 10 CPUs. If the borrowing limit is empty or omitted for a cluster queue, the cluster queue can borrow up to the sum of nominal quotas from all the cluster queues in the cohort.
<2> In this example, the lending limit is set to `3`, which means that if all admitted workloads in the cluster queue have a total quota usage below the `nominalQuota` value of `9` CPUs, then cluster queue `example-q` can admit workloads with resources totaling 12 CPUs.

. Apply the `ClusterQueue` object by running the following command:
+
[source,terminal]
----
$ oc apply -f <filename>.yaml
----
