// Module included in the following assembly:
//
// * release-notes/monitoring-release-notes.adoc

:_mod-docs-content-type: REFERENCE
[id="monitoring-4-17-release-notes_{context}"]
= {ocp} {product-version} monitoring release notes

[role="_abstract"]
The changes for {ocp} {product-version} monitoring are included in the following errata advisory:

* link:https://access.redhat.com/errata/RHSA-2024:3718[RHSA-2024:3718]

[id="monitoring-4-17-updates-to-monitoring-components-and-dependencies_{context}"]
== Updates to monitoring stack components and dependencies

This release includes the following version updates for monitoring stack components and dependencies:

* Alertmanager to 0.27.0
* Prometheus Operator to 0.75.2
* Prometheus to 2.53.1
* prom-label-proxy to 0.11.0
* kube-state-metrics to 2.13.0
* node-exporter to 1.8.2
* Thanos to 0.35.1

[id="monitoring-4-17-changes-alerting-rules_{context}"]
== Changes to alerting rules

[NOTE]
====
Red{nbsp}Hat does not guarantee backward compatibility for recording rules or alerting rules.
====

* Added the `PrometheusKubernetesListWatchFailures` alert to warn users about Prometheus and Kubernetes API failures, such as unreachable API and permissions issues, which can lead into silent service discovery failures.

[id="monitoring-4-17-new-features-and-enhancements_{context}"]
== New features and enhancements

The monitoring stack for this release includes the following new features and enhancements:

Updated Prometheus to tolerate jitters at scrape time for user-defined projects::
With this update, the Prometheus configuration for monitoring for user-defined projects now tolerates jitters at scrape time. This update optimizes data compression for monitoring deployments that show sub-optimal chunk compression for data storage, which reduces the disk space used by the time series database in these deployments.

[id="monitoring-4-17-technology-preview-features_{context}"]
== Technology Preview features

[IMPORTANT]
====
[subs="attributes+"]
Technology Preview features are not supported with Red{nbsp}Hat production service level agreements (SLAs) and might not be functionally complete. Red{nbsp}Hat does not recommend using them in production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.

For more information about the support scope of Red{nbsp}Hat Technology Preview features, see link:https://access.redhat.com/support/offerings/techpreview/[Technology Preview Features Support Scope].
====

The following table tracks features that are in Technology Preview or were Technology Preview in recent releases. Features are marked with the following statuses:

* _Not Available_
* _Technology Preview_
* _General Availability_

.Monitoring Technology Preview tracker
[cols="4,1,1,1",options="header"]
|====
|Feature |4.15 |4.16 |4.17

|Metrics Collection Profiles
|Technology Preview
|Technology Preview
|Technology Preview

|Metrics Server
|Technology Preview
|General Availability
|General Availability

|====

[id="monitoring-4-17-removed-features_{context}"]
== Removed features

The following features in the monitoring stack are removed in this release:

The Alertmanager v1 API::
In Alertmanager `v0.27.0`, the Alertmanager v1 API is removed and is no longer supported. Any requests to `alertmanager-main` `/api/v1/` endpoints, such as `api/v1/alerts`, will fail. To mitigate the issue, upgrade any affected Alertmanager instances to support the v2 API, which is supported since Alertmanager v0.16.0, and update your monitoring configuration to use the v2 scheme.

[id="monitoring-4-17-deprecated-and-removed-tracker_{context}"]
== Deprecated and removed feature tracker

The following table tracks features that are deprecated or removed in recent releases. Features are marked with the following statuses:

* _General Availability_
* _Deprecated_
* _Removed_

.Monitoring deprecated and removed tracker
[cols="4,1,1,1",options="header"]
|====
|Feature |4.15 |4.16 |4.17

|`dedicatedServiceMonitors` setting that enables dedicated service monitors for core platform monitoring
|Deprecated
|Removed
|Removed

|`prometheus-adapter` component that queries resource metrics from Prometheus and exposes them in the metrics API
|Deprecated
|Removed
|Removed

|Alertmanager v1 API
|Deprecated
|Deprecated
|Removed
|====
