:_mod-docs-content-type: REFERENCE

[id="gitops-release-notes-1-12-0_{context}"]
= Release notes for {gitops-title} 1.12.0

{gitops-title} 1.12.0 is now available on {OCP} 4.12, 4.13, 4.14, and 4.15.

[id="errata-updates-1-12.0_{context}"]
== Errata updates

[id="RHSA-2024:1441-gitops-1-12-0-security-update-advisory_{context}"]
=== RHSA-2024:1441 - {gitops-title} 1.12.0 security update advisory

Issued: 2024-03-20

The list of security fixes that are included in this release is documented in the following advisory:

* link:https://access.redhat.com/errata/RHSA-2024:1441[RHSA-2024:1441]

If you have installed the {gitops-title} Operator in the default namespace, run the following command to view the container images in this release:

[source,terminal]
----
$ oc describe deployment gitops-operator-controller-manager -n openshift-gitops-operator
----

[id="new-features-1-12-0_{context}"]
== New features

* With this update, the Argo CD CLI is supported and accessible as a productized version and is an easier method for installation because it uses an RPM binary versus XM.
+
[WARNING]
==== 	
The Argo CD CLI tool is a Technology Preview feature.
====
+
By using the Argo CD CLI tool, you can complete the following tasks:
+
** Manage {gitops-title} from a terminal.
** Manage ArgoCD resources, such as `Applications`, `ApplicationSets`, `AppProjects`, `User accounts`, and `GPG keys` from a client terminal. link:https://issues.redhat.com/browse/GITOPS-3389[GITOPS-3389]
+
[NOTE]
====
The `argocd` executable binary file is included in the archive and RPM formats.
====

* With this update, `NotificationsConfiguration` custom resource (CR) is now supported. Before this update, you had to update the `argocd-notifications-cm` ConfigMap to manage templates, triggers, services and subscriptions. With this release, you cannot modify the `argocd-notifications-cm` ConfigMap. A new Custom Resource definition `NotificationsConfiguration` is introduced to manage the `argocd-notifications-cm` ConfigMap. link:https://issues.redhat.com/browse/GITOPS-4130[GITOPS-4130]
+
[NOTE]
====
This update removes any configuration added to `argocd-notifications-cm` ConfigMap. You must take a backup of your configuration and update the configuration/backup in the `default-notifications-configuration` custom resource of `kind:NotificationsConfiguration` after upgrading to the new version. Also, with this update, any modifications to `argocd-notifications-cm` ConfigMap are not allowed.
====

* With this update, two new fields `.spec.applicationSet.sourceNamespaces` and `.spec.applicationSet.scmProviders` are introduced in the `ArgoCD` CRD to support `ApplicationSet` in any namespaces. Administrators can use these fields to define certain namespaces that manage `ApplicationSet` resources. link:https://issues.redhat.com/browse/GITOPS-3754[GITOPS-3754]

* With this update, Argo CD server has the required permissions to manage `ApplicationSet` resources. link:https://issues.redhat.com/browse/GITOPS-3762[GITOPS-3762]

* With this update, you can configure log levels, such as `debug`, `info`, `warn`, `error`, `panic` and `fatal`. The default log level set for the output is `info`. To change the log level, add the environment variable `LOG_LEVEL` in the `.spec.config.env` field of the `Subscription` CR. link:https://issues.redhat.com/browse/GITOPS-4016[GITOPS-4016]
+
.Example output
[source,yaml]
----
apiVersion: operators.coreos.com/v1alpha1
kind: Subscription
metadata:
  name: gitops-operator
  namespace: openshift-gitops-operator
spec:
  ...
  config:
    env:
    - name: LOG_LEVEL
      value: "error"
----

* With this update, Argo CD accepts the wildcard values in the `sourceNamespaces` field so that you can specify multiple namespaces or patterns for namespaces. To use this feature, specify the namespaces where Argo CD can manage applications in the `.spec.sourceNamespaces` field of the `ArgoCD` CR. link:https://issues.redhat.com/browse/GITOPS-3935[GITOPS-3935]
+
.Example
[source,yaml]
----
apiVersion: argoproj.io/v1alpha1
kind: ArgoCD
metadata:
  name: example-argocd-wildcard-pattern
spec:
  sourceNamespaces:
    - app-team-*
   - namespace-2
----
+
In the previous example, permissions are granted to namespaces that match the pattern `app-team-*`, such as `app-team-1`, `app-team-2`, and namespace-2, which does not use wildcard values.
+
To grant permissions for all the namespaces on the Argo CD cluster using the `*` wildcard pattern, configure the `ArgoCD` CR in the following manner:
+
.Example
[source,yaml]
----
apiVersion: argoproj.io/v1alpha1
kind: ArgoCD
metadata:
  name: example-argocd-all-namespaces
spec:
  sourceNamespaces:
    - '*'
----

[id="fixed-issues-1-12-0_{context}"]
== Fixed issues

* Before this update, the notifications controller could not use built-in functions in notification templates to obtain information about applications because of an incorrect repository server address. This update fixes the issue by initializing the notification controller to use the correct repository server address. link:https://issues.redhat.com/browse/GITOPS-2867[GITOPS-2867]

* Before this update, when a user created a `Job` from a `CronJob` resource, an error is displayed. With this update, users can create `Job` executions from a `CronJob` resource defined in a deployed Argo CD application. link:https://issues.redhat.com/browse/GITOPS-3617[GITOPS-3617]

* Before this update, in some instance when applications are deleted, their application environment card would remain in a half-deleted state until the page was refreshed. With this update, the application environment card is removed from the UI automatically after the Argo CD application is deleted. link:https://issues.redhat.com/browse/GITOPS-2677[GITOPS-2677]

* Before this update, when a user deleted apps and namespaces in Argo CD, in some cases, the {gitops-title} plugin would display an error message. This update fixes the issue by updating some components from the dynamic plugin SDK and provides better error handling. As a result, the error message is not displayed after deleting apps or namespaces. link:https://issues.redhat.com/browse/GITOPS-2746[GITOPS-2746]

* Before this update, the password for the `admin` role was used to reset to the default password when it was updated by the Argo CD CLI or the Argo CD UI. This update fixes the issue and the user can now update the admin password and the password is no longer set to default. link:https://issues.redhat.com/browse/GITOPS-3581[GITOPS-3581]

[id="known-issues-1-12-0_{context}"]
== Known Issues

* There is currently a known issue that changes the functionality of routing in the OpenShift Console Dynamic plugin, `dynamic-console-sdk`, that is used by the {gitops-title} Dynamic Plugin. This issue causes the horizontal navigation bar, which is used to switch between the *Application Overview* page and the *Deployment History* page for an application, on the *Application Overview* page to not function correctly. link:https://issues.redhat.com/browse/GITOPS-4232[GITOPS-4232]
+
Workaround: To view the **Deployment History** page of an application, use the *Deployment History* link on the application instead of the link on the horizontal navigation bar on the *Application Overview* page. This issue has been observed on all supported cluster versions that use the {gitops-title} Dynamic Plugin.

* There is currently a known issue on the {OCP} cluster for the console {gitops-title} Dynamic Plugin where users can experience some delay when fetching application data. link:https://issues.redhat.com/browse/GITOPS-4234[GITOPS-4234]
+
Workaround: No workaround currently exists for this issue, so you must wait for the fetching of the application data to complete.

* There is currently a known issue that causes the {gitops-title} Dynamic Plugin to be disabled on the {OCP} 4.15 cluster. link:https://issues.redhat.com/browse/GITOPS-4231[GITOPS-4231]
+
Workaround: Perform the following steps:
+
. Install the {gitops-title} Operator in your cluster.
. In the *Administrator* perspective of the web console, navigate to *Home* -> *Overview*.
. On the *Overview* tab, click the *Dynamic plugins* link in the *Status* section. 
. To enable the {gitops-title} Dynamic Plugin, click *gitops-plugin* and then click *Enabled*. 
+
After some time, a notification with the message “Web console update is available” is displayed.