// This module is included in the following assembly:
//
// * configuring/using-builds-in-a-restricted-environment.adoc

:_mod-docs-content-type: PROCEDURE
[id="ob-verifying-proxy-details_{context}"]
= Verifying proxy details

[role="_abstract"]
If you run a cluster behind a proxy, ensure that cluster-wide proxy settings and environment variables are correctly configured in the {ocp-product-title} cluster. This ensures all {builds-shortname} traffic is routed through the monitored outbound proxy gateway.

.Prerequisites

* You have installed the `oc` CLI.

.Procedure

. To verify the cluster-wide proxy settings, run the following command:
+
[source,terminal]
----
$ oc describe proxy/cluster
----
+
Example output:
+
[source,terminal]
----     
Name:         cluster
Namespace:
Labels:       hypershift.openshift.io/managed=true
Annotations:  hypershift.io/hosted-cluster-proxy-config: true
              include.release.openshift.io/ibm-cloud-managed: true
              include.release.openshift.io/self-managed-high-availability: true
              release.openshift.io/create-only: true
API Version:  config.openshift.io/v1
Kind:         Proxy
Metadata:
  Creation Timestamp:  2026-01-05T09:56:06Z
  Generation:          2
  Owner References:
    API Version:     config.openshift.io/v1
    Kind:            ClusterVersion
    Name:            version
    UID:             bfb9588f-106f-4e9f-965b-03daa0cd8c33
  Resource Version:  1451
  UID:               8bbf0aef-6d78-479d-abdf-ddbb34bf3ff1
Spec:
  Trusted CA:
    Name:
Events:    <none>
----

. To verify the environment variables, run the following command:
+
[source,terminal]
----
$ oc set env deployment/openshift-builds-operator --list -n openshift-builds | grep PROXY
----
+
Example output:
+
[source,terminal]
----
HTTP_PROXY=http://192.168.130.1:3128
HTTPS_PROXY=https://192.168.130.1:3129
NO_PROXY=.cluster.local,.svc,.testing,10.217.0.0/22,10.217.4.0/23,127.0.0.1,192.168.126.0/24,192.168.1
30.11,api-int.crc.testing,localhost
----