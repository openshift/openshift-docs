// Module included in the following assemblies:
//
// * virt/install/virt-install-ibm-cloud-bm-nodes.adoc

:_mod-docs-content-type: PROCEDURE
[id="virt-install-ibm-cloud-cluster-network-access_{context}"]
= Configuring cluster networking and access

[role="_abstract"]
Configure networking and access to allow for remote management of the cluster.

.Procedure
. Edit `/etc/samba/smb.conf` to use the following configuration:
+
[source,text]
----
[global]
      log level = 3
          workgroup = SAMBA
          security = user

          passdb backend = tdbsam

          printing = cups
          printcap name = cups
          load printers = yes
          cups options = raw

      server min protocol = NT1
      ntlm auth = yes

[share]
      comment = ISO Files
      path = /root/share
      browseable = yes
      public = no
      read only = no
      directory mode = 0555
      valid users = root
----
+
[NOTE]
====
For a more detailed example of the `smb.conf` file, see the `smb.conf.example` file in the same directory.
====

. Save the file.

. Verify the new Samba configuration:
+
[source,terminal]
----
$ testparm
----

. Restart the Samba service:
+
[source,terminal]
----
$ systemctl restart smb
----

. Verify that the Samba service is running and active:
+
[source,terminal]
----
$ systemctl status smb
----

. Configure SSL VPN access to {ibm-cloud-title}:
.. Perform the procedure at link:https://cloud.ibm.com/docs/iaas-vpn?topic=iaas-vpn-getting-started[Getting started with IBM Cloud Virtual Private Networking] in the IBM Cloud documentation.
.. Download and install the MotionPro SSL VPN client.
.. Connect to the appropriate {ibm-cloud-title} endpoint:
+
[source,terminal]
----
$ sudo MotionPro --host $<vpn_endpoint> --user $<vpn_username> --passwd $<vpn_password>
----
+
where:

<vpn_endpoint>:: The appropriate SSL VPN endpoint.
<vpn_username>:: The SSL VPN user name you configured.
<vpn_password>:: The SSL VPN password you configured.
+
[NOTE]
====
Connecting to the {ibm-cloud-title} SSL VPN will disconnect you from any open VPN connections.
====
