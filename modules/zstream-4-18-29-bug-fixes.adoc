
// Module included in the following assemblies:
//
// * release_notes/ocp-4-18-release-notes.adoc

:_mod-docs-content-type: REFERENCE
[id="zstream-4-18-29-bug-fixes_{context}"]
= Bug fixes

[role="_abstract"]
The following bugs are fixed with this release:

* Before this update, when a new secret was created or updated in any namespace, Alertmanager was reconciling even if that secret was not referenced in the `AlertmanagerConfig` resource. As a consequence, the Prometheus Operator generated excessive API calls, causing increased CPU usage on control plane nodes. With this release, Alertmanager only reconciles secrets that the `AlertmanagerConfig` resource explicitly references. (link: https://issues.redhat.com/browse/OCPBUGS-61965[OCPBUGS-61965]) 

* Before this release, the `ccoctl` utility would automatically generate a new keypair if the private key was not found, even when users intentionally provided only the public key according to documented security procedures. This behavior caused a problem, as the newly generated keys would not match the cluster's keys, resulting in service outages for users following the correct process. With this update, the utility was changed to ensure a new keypair is never generated when the `--public-key-file` parameter is specified, and this parameter was added to all create-all functions for consistency. As a result, specifying the public key file now guarantees the provided key is used, ensuring the cluster continues to function as expected without interruption. (link:https://issues.redhat.com/browse/OCPBUGS-63548[OCPBUGS-63548])

* Before this update, a Kube State Metrics (KSM) deny-list had typographical errors as demonstrated in the following example:
+
[source,terminal,subs="verbatim"]
----
--metric-denylist=
          ^kube_secret_labels$,
          ^kube_.+_annotations$
          ^kube_customresource_.+_annotations_info$,
          ^kube_customresource_.+_labels_info$,
----
+
With this release, a missing comma is now included as shown in the following example:
+
[source,terminal,subs="verbatim"]
----
--metric-denylist=
          ^kube_secret_labels$,
          ^kube_.+_annotations$,
          ^kube_customresource_.+_annotations_info$,
          ^kube_customresource_.+_labels_info$
----
+
As a result, the entries are correctly separated. (link:https://issues.redhat.com/browse/OCPBUGS-64579[OCPBUGS-64579])

* Before this update, the `must-gather` pod could be scheduled on a node marked with a `NotReady` taint, resulting in deployment to an unavailable node and subsequent log collection failures. With this release, the scheduler now accounts for node taints and automatically applies a node selector to the pod specification. This change ensures that `must-gather` pods are not scheduled on tainted nodes, thereby preventing log collection failures. (link:https://issues.redhat.com/browse/OCPBUGS-64608[OCPBUGS-64608])

* Before this update, the node log length was unlimited. As a consequence, an extremely large log could prevent the display of the log or cause the browser to crash. With this release, the node log length is limited to 1,000 lines. As a result, the log displays correctly. (link:https://issues.redhat.com/browse/OCPBUGS-64682[OCPBUGS-64682])

* Before this update, when you directly navigated to a page created by a web console dynamic plugin, the web console might have redirected you to a different URL. With this release, the URL redirect is removed. (link:https://issues.redhat.com/browse/OCPBUGS-65533[OCPBUGS-65533])
