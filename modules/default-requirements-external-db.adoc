// Module included in the following assemblies:
//
// * installing/acs-default-requirements.adoc
:_mod-docs-content-type: CONCEPT
[id="external-db-req_{context}"]
= Requirements for using an external database

[role="_abstract"]
You can configure {product-title} Central services to use an external PostgreSQL-compatible database for data persistence instead of deploying its own database pod.

[IMPORTANT]
====
When you use an external database, note the following guidance:

* The database infrastructure manages persistent storage for Central DB. Therefore, do not configure persistence settings for the Central DB within the {product-title-short} installation configuration.
* Red Hat supports the configuration and operation of {product-title-short} Central connected to that database. However, support for database-specific operations such as backup and restore, performance diagnosis and potential tuning, software and version upgrades, and high availability/disaster recovery operation falls under third-party support. Manually upgrading or customizing your database outside of a full platform upgrade also limits supportability.
====

If you select an external database, your database instance and the user connecting to it must meet the requirements listed in the following sections.

== Database type and version
The database must be a PostgreSQL-compatible database that supports PostgreSQL 13 or later.

== User permissions
The user account that Central uses to connect to the database must be a `superuser` account with connection rights to the database and the following permissions:

* `Usage` and `Create` permissions on the schema.
* `Select`, `Insert`, `Update`, and `Delete` permissions on all tables in the schema.
* `Usage` permissions on all sequences in the schema.
* The ability to create and delete databases as a `superuser`.

== Connection string
Central connects to the external database by using a connection string, which must be in `keyword=value` format. The connection string should specify details such as the host, port, database name, user, and SSL/TLS mode. For example, `host=<host> port=5432 database=stackrox user=stackrox sslmode=verify-ca`.

[NOTE]
====
Connections through *PgBouncer* are not supported.
====

== CA certificates
If your external database uses a certificate issued by a private or untrusted Certificate Authority (CA), you might need to specify the CA certificate so that Central trusts the database certificate. You can add this by using a TLS block in the Central custom resource configuration.
