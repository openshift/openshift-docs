// Module included in the following assemblies:
// * edge_computing/image-based-upgrade/cnf-preparing-for-image-based-upgrade.adoc

:_mod-docs-content-type: PROCEDURE
[id="ztp-image-based-seed-image-config_{context}"]
= Seed image configuration

The seed image targets a set of {sno} clusters with similar configuration.
This means that the seed image must have all of the components and configuration that the seed cluster shares with the target clusters.
Therefore, the seed image generated from the seed cluster cannot contain any cluster-specific configuration.

The following table lists the components, resources, and configurations that you must and must not include in your seed image:

.Seed image configuration
[cols=2*, width="80%", options="header"]
|====
|Cluster configuration
|Include in seed image

|Performance profile
|Yes

|`MachineConfig` resources for the target cluster
|Yes

|IP version ^[1]^
|Yes

|Set of Day 2 Operators, including the {lcao} and the OADP Operator
|Yes

|Disconnected registry configuration
|Yes

|Valid proxy configuration ^[2]^
|Yes

|FIPS configuration
|Yes

|Dedicated partition on the primary disk for container storage that matches the size of the target clusters
|Yes

a|Local volumes

* `StorageClass` used in `LocalVolume` for LSO
* `LocalVolume` for LSO
* `LVMCluster` CR for LVMS
|No

|OADP `DataProtectionApplication` CR
|No
|====
. Dual-stack networking is not supported in this release.
. The proxy configuration does not have to be the same.

[id="ztp-image-based-upgrade-seed-image-config-ran_{context}"]
== Seed image configuration using the RAN DU profile

The following table lists the components, resources, and configurations that you must and must not include in the seed image when using the RAN DU profile:

.Seed image configuration with RAN DU profile
[cols=2*, width="80%", options="header"]
|====
|Resource
|Include in seed image

|All extra manifests that are applied as part of Day 0 installation
|Yes

|All Day 2 Operator subscriptions
|Yes

|`ClusterLogging.yaml`
|Yes

|`DisableOLMPprof.yaml`
|Yes

|`TunedPerformancePatch.yaml`
|Yes

|`PerformanceProfile.yaml`
|Yes

|`SriovOperatorConfig.yaml`
|Yes

|`DisableSnoNetworkDiag.yaml`
|Yes

|`StorageClass.yaml`
|No, if it is used in `StorageLV.yaml`

|`StorageLV.yaml`
|No

|`StorageLVMCluster.yaml`
|No
|====

.Seed image configuration with RAN DU profile for extra manifests
[cols=2*, width="80%", options="header"]
|====
|Resource
|Apply as extra manifest

|`ClusterLogForwarder.yaml`
|Yes

|`ReduceMonitoringFootprint.yaml`
|Yes

|`SriovFecClusterConfig.yaml`
|Yes

|`PtpOperatorConfigForEvent.yaml`
|Yes

|`DefaultCatsrc.yaml`
|Yes

|`PtpConfig.yaml`
|If the interfaces of the target cluster are common with the seed cluster, you can include them in the seed image. Otherwise, apply it as extra manifests.

a|`SriovNetwork.yaml`
`SriovNetworkNodePolicy.yaml`
|If the configuration, including namespaces, is exactly the same on both the seed and target cluster, you can include them in the seed image. Otherwise, apply them as extra manifests.
|====