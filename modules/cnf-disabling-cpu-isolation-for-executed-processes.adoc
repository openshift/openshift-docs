// Module included in the following assemblies:
//
// * scalability_and_performance/low_latency_tuning/cnf-tuning-low-latency-nodes-with-perf-profile.adoc

:_mod-docs-content-type: PROCEDURE
[id="cnf-disabling-cpu-isolation-for-executed-processes_{context}"]
= Disabling CPU isolation for executed processes

[role="_abstract"]
If you have a high-performance workload that requires executed processes to use any available core rather than being pinned to the first core, you can opt out of the default behavior by following this procedure.

.Prerequisites

* You have installed the OpenShift CLI (`oc`).
* You have logged in as a user with `cluster-admin` privileges.

.Procedure

. List existing profiles by running the following command:
+
[source,terminal,subs="attributes+"]
----
$ oc get performanceprofile
----
+
Identify the PerformanceProfile applied to the nodes running your high-performance workload.

. Edit the identified PerformanceProfile to add the annotation that disables CPU isolation for executed processes by running the following command, replacing `<profile-name>` with the name of your PerformanceProfile:
+
[source,terminal,subs="attributes+"]
----
$ oc edit performanceprofile <profile-name>
----
+
. In the editor that opens, add the following annotation under the `metadata` section:
+
[source,yaml,subs="attributes+"]
----
metadata:
  name: <profile-name>
  annotations:
    performance.openshift.io/disable-exec-cpu-affinity: "true"
----
+
. Save and close the editor to apply the changes.

. Verify that the annotation has been added by running the following command, replacing `<profile-name>` with the name of your PerformanceProfile:
+
[source,terminal,subs="attributes+"]
----
$ oc get performanceprofile <profile-name> -o yaml | grep disable-exec-cpu
----
+
The command should return the annotation you added, confirming that CPU isolation for executed processes has been disabled.
