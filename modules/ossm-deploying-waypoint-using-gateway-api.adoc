// Module included in the following assemblies:

// * service-mesh-docs-main/install/ossm-istio-ambient-mode.adoc

:_mod-docs-content-type: PROCEDURE
[id="ossm-deploying-waypoint-using-gateway-api_{context}"]
= Deploying waypoint proxies using gateway API

You can deploy waypoint proxies using {k8s} Gateway resources. On {ocp-product-title} 4.18 and earlier, install the community-maintained Gateway API Custom Resource Definitions (CRDs) to enable this functionality.

.Prerequisites

* You have logged in to the {ocp-product-title} 4.19 or later, which provides supported {k8s} Gateway API custom resource definitions (CRDs) required for ambient mode functionality.
* You have the {SMProductName} Operator 3.1.0 or later installed on the OpenShift cluster.
* You have {istio} deployed in ambient mode.
* You have applied the required labels to workloads or namespaces to enable `ztunnel` traffic redirection.
[IMPORTANT]
====
{istio-am} is not compatible with clusters that use {SMProductName} 2.6 or earlier. You must not deploy both versions in the same cluster.
====

.Procedure

. Check for the Gateway API CRDs by running the following command:
+
[source,terminal]
----
$ oc get crd gateways.gateway.networking.k8s.io &> /dev/null || \
----

. Optional: Install the Gateway API CRDs, if not present, by running the following command:
+
[source,terminal]
----
$ oc apply -f https://github.com/kubernetes-sigs/gateway-api/releases/download/v1.2.0/standard-install.yaml;
----

[NOTE]
====
The CRDs are community maintained and not supported by Red Hat. Upgrading to {ocp-product-title} 4.19 or later, which includes supported Gateway API CRDs, may disrupt applications.
====
