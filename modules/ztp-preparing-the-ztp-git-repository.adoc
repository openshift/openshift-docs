// Module included in the following assemblies:
//
// *scalability_and_performance/ztp-deploying-disconnected.adoc

:_content-type: PROCEDURE
[id="ztp-preparing-the-ztp-git-repository_{context}"]
= Preparing the ZTP Git repository

Create a Git repository for hosting site configuration data. The zero touch provisioning
(ZTP) pipeline requires read access to this repository.

.Procedure

. Create a directory structure with separate paths for the `SiteConfig` and `PolicyGenTemplate` custom resources (CR).

. Export the `argocd` directory from the ztp-site-generator container image using the
following commands:
+
[source,terminal]
----
$ podman pull quay.io/redhat_emp1/ztp-site-generator:latest
----
+
[source,terminal]
----
$ mkdir -p ./out
----
+
[source,terminal]
----
$ podman run --rm ztp-site-generator:latest extract /home/ztp --tar | tar x -C ./out
----

. Check that the `out` directory created above contains the following subdirectories:
+
* `out/extra-manifest` -  Contains the source CRs files that `SiteConfig` uses to generate
extra manifest configMap.
* `out/source-crs` -  Contains the source CRs files that `PolicyGenTemplate` uses to generate the
{rh-rhacm-first} policies.
* `out/argocd/deployment`- Contains patches and yaml files to apply on the hub cluster for use
in the next step of this procedure.
* `out/argocd/example` - Contains the examples for `SiteConfig` and `PolicyGenTemplate` that
represent our recommended configuration.
