// Module included in the following assemblies:
//
// * security/zero_trust_workload_identity_manageer/zero-trust-manager-oidc-federation.adoc


:_mod-docs-content-type: PROCEDURE
[id="zero-trust-manager-spiffe-identity-federation_{context}"]
= Configuring Azure with the SPIFFE identity federation

[role="_abstract"]
Configure {azure-first} with SPIFFE identity federation to enable password-free, automated authentication for the demonstration application. This federates the User Managed Identity with the SPIFFE identity associated with your workload application.

.Procedure

* Federate the identities between the User Managed Identity and the SPIFFE identity associated with the workload application by running the following command:
+
[source,terminal]
----
$ az identity federated-credential create \
 --name ${NAME} \
 --identity-name ${USER_ASSIGNED_IDENTITY_NAME} \
 --resource-group ${RESOURCE_GROUP} \
 --issuer https://$JWT_ISSUER_ENDPOINT \
 --subject spiffe://$APP_DOMAIN/ns/$APP_NAMESPACE/sa/$APP_NAME \
 --audience api://AzureADTokenExchange
----
