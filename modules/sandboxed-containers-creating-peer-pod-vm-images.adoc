//Module included in the following assemblies:
//
// * sandboxed_containers/deploying-sandboxed-container-workloads-peer-pods.adoc

:_content-type: PROCEDURE
[id="sandboxed-containers-creating-peer-pod-vm-images_{context}"]
= Creating peer-pod VM images for {sandboxed-containers-first}

You must create a VM image for peer-pods to host a virtual machine. Each pod you create is initiated in a peer-pod VM based on this image. One you create an image, you can reuse it.

Creating a peer-pod image has two steps:

. Create RHEL-based qcow2 image, or use a public, pre-built qcow2 image for CentOS.
. Create a VM image for your specific cloud provider based on the qcow2 image.

[id="sandboxed-containers-using-public-qcow2-image_{context}"]
== Using a public qcow2 image for CentOS

You can use a publicly available CentOS qcow2 image as a base for your peer-pod VM image.

.Procedure

. Pull the CentOS wrapper container image for your specific cloud provider:
+
[source,terminal]
----
$ CLOUD_PROVIDER=<cloud-provider-name>
$ IMG_ID=$(podman pull quay.io/confidential-containers/podvm-${CLOUD_PROVIDER}
----

. Extract the qcow2 image from the downloaded container image:
+
[source,terminal]
----
$ podman save ${IMG_ID} | tar -xO --no-wildcards-match-slash '*.tar' | tar -x
----




You can install the {sandboxed-containers-operator} from the {product-title} web console.

.Prerequisites

* You have {product-title} {product-version} installed.
* You have access to the cluster as a user with the `cluster-admin` role.

.Procedure

. From the *Administrator* perspective in the web console, navigate to *Operators* → *OperatorHub*.

. In the *Filter by keyword* field, type `OpenShift sandboxed containers`.

. Select the *{sandboxed-containers-first}* tile.

. Read the information about the Operator and click *Install*.

. On the *Install Operator* page:
.. Select *stable-{sandboxed-containers-version}* from the list of available *Update Channel* options.
.. Verify that *Operator recommended Namespace* is selected for *Installed Namespace*. This installs the Operator in the mandatory `openshift-sandboxed-containers-operator` namespace. If this namespace does not yet exist, it is automatically created.
+
[NOTE]
====
Attempting to install the {sandboxed-containers-operator} in a namespace other than `openshift-sandboxed-containers-operator` causes the installation to fail.
====
.. Verify that *Automatic* is selected for *Approval Strategy*. *Automatic* is the default value, and enables automatic updates to {sandboxed-containers-first} when a new z-stream release is available.

. Click *Install*.

The {sandboxed-containers-operator} is now installed on your cluster.

.Verification

. From the *Administrator* perspective in the web console, navigate to *Operators* → *Installed Operators*.

. Verify that the {sandboxed-containers-operator} is listed in the in operators list.
