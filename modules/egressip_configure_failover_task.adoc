// Module included in the following assembly:
//
// *networking/ovn_kubernetes_network_provider/egressip_failover_assembly.adoc

:_mod-docs-content-type: PROCEDURE
[id="egressip_configure_failover_task_{context}"]
= Configuring the EgressIP failover time limit

Follow this procedure to configure the `reachabilityTotalTimeoutSeconds` parameter and control how quickly the system detects a failing `egressIP` node and initiates a failover.

.Prerequisites

* Install the OpenShift CLI (`oc`).
* Log in to the cluster as a cluster administrator.

.Procedure

. Edit the `Network` custom resource by running the following command:
+
[source,bash]
----
$ oc edit network.operator cluster
----

. Navigate to the `egressIPConfig: {}` section under `spec:defaultNetwork:ovnKubernetesConfig:`

. Modify the block to include the `reachabilityTotalTimeoutSeconds` parameter with your chosen value, 5 seconds for example. Make sure to use the correct indentation:
+
[source,yaml]
----
  defaultNetwork:
    ovnKubernetesConfig:
      egressIPConfig:
        reachabilityTotalTimeoutSeconds: 5
----
+
[NOTE]
====
The value must be an integer between 0 and 60. For details on possible values, see the "EgressIP failover settings" section.
====

. Save and exit the editor. The operator automatically applies the changes.

.Verification

. Verify that the system correctly accepted the `reachabilityTotalTimeoutSeconds` parameter by running the following command:
+
[source,terminal]
----
$ oc get network.operator cluster -o yaml
----

. Inspect the output and confirm that the `reachabilityTotalTimeoutSeconds` parameter is correctly nested under `spec:defaultNetwork:ovnKubernetesConfig:egressIPConfig:` with your intended value:
+
[source,yaml]
----
 # ...
  spec:
    # ...
    defaultNetwork:
      ovnKubernetesConfig:
        egressIPConfig:
          reachabilityTotalTimeoutSeconds: 5
        gatewayConfig:
  # ...
----