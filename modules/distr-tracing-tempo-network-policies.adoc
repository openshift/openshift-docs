// Module included in the following assemblies:
//
// * observability/distr_tracing/distr-tracing-tempo-installing.adoc

:_mod-docs-content-type: REFERENCE
[id="distr-tracing-tempo-network-policies_{context}"]
= Network policies

[role="_abstract"]
The {TempoOperator} applies network policies by default.

.Default network policies
|===
| Network Policy | Description

| `<tempostack_metadata_name>-allow-dns`
| Allows egress DNS queries to the `kube-dns` DNS service on port 53 TCP/UDP.

| `<tempostack_metadata_name>-compactor`
| Compactor egress to S3-compatible object storage on port 9000.

| `<tempostack_metadata_name>-distributor`
| Distributor ingress and egress rules for trace ingestion and communication with ingesters.

| `<tempostack_metadata_name>-gossip`
| Inter-component gossip protocol communication on ports 7946, 3200, and 3101.

| `<tempostack_metadata_name>-ingester`
| Ingester ingress and egress rules for receiving traces from distributors and serving queriers.

| `<tempostack_metadata_name>-querier`
| Querier ingress and egress rules for communication with ingesters, query frontend, and object storage.

| `<tempostack_metadata_name>-query-frontend`
| Query frontend ingress and egress rules for serving queries and communicating with queriers.

| `<tempostack_metadata_name>-ingress-to-operand-metrics`
| Allows OpenShift cluster monitoring to scrape metrics on port 3200.

|===

[TIP]
====
You can manually disable these network policies in the `TempoStack` custom resource as follows:

[source,yaml]
----
apiVersion: tempo.grafana.com/v1alpha1
kind: TempoStack
metadata:
  name: example
spec:
  networkPolicy:
    enabled: false <1>
----
<1> Disables the default network policies. The default value is `true`.
====
