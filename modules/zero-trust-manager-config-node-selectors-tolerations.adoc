// Module included in the following assemblies:
//
// * security/zero_trust_workload_identity_manager/zero-trust-manager-configuration.adoc

:_mod-docs-content-type: PROCEDURE
[id="zero-trust-manager-configure-nodeselector-tolerations_{context}"]
= Configuring node selectors and tolerations for {zero-trust-full} operands

You can configure the `nodeSelector` and `tolerations` to run the SPIRE Agent operand on specific nodes, such as control plane nodes. Follow the procedure to manage workload placement in clusters where certain nodes are reserved or tainted.

.Prerequisites

* You have access to the cluster with `cluster-admin` privileges.
* You have installed the {zero-trust-full}.

.Procedure

. Patch the `SpireAgent` custom resource by running the following command:
+
[source,terminal]
----
$ oc patch SpireAgent cluster --type=merge -p="
spec:
  nodeSelector:
    node-role.kubernetes.io/control-plane: ""
  tolerations:
    - key: node-role.kubernetes.io/master
      operator: Exists
      effect: NoSchedule
"
----

. Verify the pod scheduling by running the following commands:
+
[source,terminal]
----
$ oc get event -n zero-trust-workload-identity-manager --field-selector reason=Scheduled
----
+
[source,terminal]
----
$ oc get pod -l app.kubernetes.io/name=agent -n zero-trust-workload-identity-manager -o wide
----
