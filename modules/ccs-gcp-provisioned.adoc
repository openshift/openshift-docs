// Module included in the following assemblies:
//
// * osd_planning/gcp-ccs.adoc

:_mod-docs-content-type: REFERENCE
[id="ccs-gcp-provisioned_{context}"]
= Provisioned {gcp-short} Infrastructure

[role="_abstract"]
This is an overview of the provisioned {gcp-first} components on a deployed {product-title} cluster. For a more detailed listing of all provisioned {gcp-short} components, see the link:https://access.redhat.com/documentation/en-us/openshift_container_platform/[{OCP} documentation].

[id="gcp-policy-instances_{context}"]
== Compute instances

{gcp-short} compute instances are required to deploy the control plane and data plane functions of {product-title} in {gcp-short}. Instance types might vary for control plane and infrastructure nodes depending on worker node count.

* Single availability zone
** 2 infra nodes  (n2-highmem-4 machine type: 4 vCPU and 32 GB RAM)
** 3 control plane nodes  (n2-standard-8 machine type: 8 vCPU and 32 GB RAM)
** 2 worker nodes (default n2-standard-4 machine type: 4 vCPU and 16 GB RAM)
* Multiple availability zones
** 3 infra nodes  (n2-highmem-4 machine type: 4 vCPU and 32 GB RAM)
** 3 control plane nodes (n2-standard-8 machine type: 8 vCPU and 32 GB RAM)
** 3 worker nodes (default n2-standard-4 machine type: 4 vCPU and 16 GB RAM)

[id="gcp-policy-storage_{context}"]
== Storage

* Infrastructure volumes:
** 300 GB SSD persistent disk (deleted on instance deletion)
** 110 GB  Standard persistent disk (kept on instance deletion)
* Worker volumes:
** 300 GB SSD persistent disk  (deleted on instance deletion)
* Control plane volumes:
** 350 GB SSD persistent disk  (deleted on instance deletion)

[id="gcp-policy-vpc_{context}"]
== Installing into an existing VPC

[NOTE]
====
Installing a new {product-title} cluster into a VPC that was automatically created by the installer for a different cluster is not supported.

IPv6 and dual-stack (IPv4 and IPv6) address ranges are not supported within the {product-title} cluster.
====

You must have at least one VPC network within the {GCP} project where the {product-title} cluster is being installed. The VPC network must include the following subnets within the same region as the cluster:

* A control plane subnet for the OpenShift control plane.
* A compute subnet for user workloads.
* A Private Service Connect (PSC) subnet when a private cluster is deployed using PSC.


[id="gcp-policy-services_{context}"]
== Services

For a list of services that must be enabled on a {gcp-short} CCS cluster, see the _Required API services_ table.