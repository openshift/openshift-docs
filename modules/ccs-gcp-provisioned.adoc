// Module included in the following assemblies:
//
// * osd_planning/gcp-ccs.adoc

[id="ccs-gcp-provisioned_{context}"]
= Provisioned {gcp-short} Infrastructure

This is an overview of the provisioned {gcp-first} components on a deployed {product-title} cluster. For a more detailed listing of all provisioned {gcp-short} components, see the link:https://access.redhat.com/documentation/en-us/openshift_container_platform/[{OCP} documentation].

[id="gcp-policy-instances_{context}"]
== Compute instances

{gcp-short} compute instances are required to deploy the control plane and data plane functions of {product-title} in {gcp-short}. Instance types might vary for control plane and infrastructure nodes depending on worker node count.

* Single availability zone
** 2 infra nodes  (n2-highmem-4 machine type: 4 vCPU and 32 GB RAM)
** 3 control plane nodes  (n2-standard-8 machine type: 8 vCPU and 32 GB RAM)
** 2 worker nodes (default n2-standard-4 machine type: 4 vCPU and 16 GB RAM)
* Multiple availability zones
** 3 infra nodes  (n2-highmem-4 machine type: 4 vCPU and 32 GB RAM)
** 3 control plane nodes (n2-standard-8 machine type: 8 vCPU and 32 GB RAM)
** 3 worker nodes (default n2-standard-4 machine type: 4 vCPU and 16 GB RAM)

[id="gcp-policy-storage_{context}"]
== Storage

* Infrastructure volumes:
** 300 GB SSD persistent disk (deleted on instance deletion)
** 110 GB  Standard persistent disk (kept on instance deletion)
* Worker volumes:
** 300 GB SSD persistent disk  (deleted on instance deletion)
* Control plane volumes:
** 350 GB SSD persistent disk  (deleted on instance deletion)

[id="gcp-policy-vpc_{context}"]
== VPC

include::snippets/install-cluster-in-vpc.adoc[]

* **Subnets:** One master subnet for the control plane workloads and one worker subnet for all others. An additional subnet is required for Google Private Service Connect (PSC) when a private cluster is deployed using PSC.
* **Router tables:** One global route table per VPC.
* **Internet gateways:** One internet gateway per cluster.
* **NAT gateways:**  One master NAT gateway and one worker NAT gateway per cluster.

[id="gcp-policy-services_{context}"]
== Services

For a list of services that must be enabled on a {gcp-short} CCS cluster, see the _Required API services_ table.