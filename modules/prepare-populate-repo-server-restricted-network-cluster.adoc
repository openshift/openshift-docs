// Module included in the following assemblies:
//
// * updating/updating-restricted-network-cluster.adoc

[id="prepare-populate-repo-server-restricted-network-cluster_{context}"]
= Prepare and populate the repository server

During the installation, and any future updates, you need a webserver to host the software. RHEL 7 can provide the Apache webserver.

. Prepare the webserver:
.. If you need to install a new webserver in your disconnected environment, install a new RHEL 7 system with at least 110 GB of space on your LAN. During RHEL installation, select the *Basic Web Server* option.
.. If you are re-using the server where you downloaded the {product-title} software and required images, install Apache on the server:
+
[source,terminal]
----
$ sudo yum install httpd
----

. Place the repository files into Apacheâ€™s root folder.
** If you are re-using the server:
+
[source,terminal]
----
$ mv /path/to/repos /var/www/html/
$ chmod -R +r /var/www/html/repos
$ restorecon -vR /var/www/html
----

** If you installed a new server, attach external storage and then copy the files:
+
[source,terminal]
----
$ cp -a /path/to/repos /var/www/html/
$ chmod -R +r /var/www/html/repos
$ restorecon -vR /var/www/html
----

. Add the firewall rules:
+
[source,terminal]
----
$ sudo firewall-cmd --permanent --add-service=http
$ sudo firewall-cmd --reload
----

. Enable and start Apache for the changes to take effect:
+
[source,terminal]
----
$ systemctl enable httpd
$ systemctl start httpd
----
