// Module included in the following assemblies:
//
// * installing/installing_openstack/installing-openstack-installer-custom.adoc
// * installing/installing_openstack/installing-openstack-installer-kuryr.adoc
// * installing/installing_openstack/installing-openstack-installer-sr-iov.adoc

ifeval::["{context}" == "installing-openstack-user-sr-iov"]
:osp-sr-iov:
endif::[]
ifeval::["{context}" == "installing-openstack-installer-sr-iov"]
:osp-sr-iov:
endif::[]

[id="installation-osp-control-compute-machines_{context}"]
= Control plane and compute machines

By default, the {product-title} installation process stands up three control
plane and three compute machines.

Each machine requires:

* An instance from the {rh-openstack} quota
* A port from the {rh-openstack} quota
* A flavor with at least 16 GB memory, 4 vCPUs, and 25 GB storage space

[TIP]
====
Compute machines host the applications that you run on {product-title}; aim to
run as many as you can.
====

ifdef::osp-sr-iov[]
Additionally, for clusters that use single-root input/output virtualization (SR-IOV), {rh-openstack} compute nodes require a flavor that supports link:https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/configuring_the_compute_service_for_instance_creation/configuring-compute-nodes-for-performance#configuring-huge-pages-on-compute-nodes-osp[huge pages].

[IMPORTANT]
====
SR-IOV deployments often employ performance optimizations, such as dedicated or isolated CPUs. For maximum performance, configure your underlying {rh-openstack} deployment to use these optimizations, and then run {product-title} compute machines on the optimized infrastructure.
====

.Additional resources

* For more information about configuring performant {rh-openstack} compute nodes, see link:https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/configuring_the_compute_service_for_instance_creation/configuring-compute-nodes-for-performance#configuring-compute-nodes-for-performance[Configuring Compute nodes for performance].
endif::osp-sr-iov[]

ifeval::["{context}" == "installing-openstack-user-sr-iov"]
:!osp-sr-iov:
endif::[]
ifeval::["{context}" == "installing-openstack-installer-sr-iov"]
:!osp-sr-iov:
endif::[]
