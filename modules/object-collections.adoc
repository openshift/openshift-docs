// Module included in the following assemblies:
//
// * operating/create-use-collections.adoc
:_mod-docs-content-type: CONCEPT
[id="understanding-object-collections_{context}"]
= Understanding deployment collections

Deployment collections are only available to {product-title-short} customers using the PostgreSQL database. By default, {product-title-managed-short} uses the PostgreSQL database, and it is also used by default when installing {product-title-short} release 4.0 and later. {product-title-short} customers using an earlier release than 3.74 can migrate to the PostgreSQL database with help from Red{nbsp}Hat.

An {product-title-short} collection is a user-defined, named reference. It defines a logical grouping by using selection rules. Those rules can match a deployment, namespace, or cluster name or label. You can specify rules by using exact matches or regular expressions. Collections are resolved at run time and can refer to objects that do not exist at the time of the collection definition. Collections can be constructed by using other collections to describe complex hierarchies.

Collections provide you with a language to describe how your dynamic infrastructure is organized, eliminating the need for cloning and repetitive editing of {product-title-short} properties such as inclusion and exclusion scopes.

You can use collections to identify any group of deployments in your system, such as:

* An infrastructure area that is owned by a specific development team
* An application that requires different policy exceptions when running in a development or in a production cluster
* A distributed application that spans multiple namespaces, defined with a common deployment label
* An entire production or test environment

Collections can be created and managed by using the {product-title-short} portal. The collection editor helps you apply selection rules at the deployment, namespace, and cluster level. You can use simple and complex rules, including regular expressions. For regular expressions, link:https://github.com/google/re2/wiki/Syntax[RE2 syntax] is supported. Perl syntax is not supported.

You can define a collection by selecting one or more deployments, namespaces, or clusters, as shown in the following image. This image shows a collection that contains deployments with the name `reporting` or that contain `db` in the name. The collection includes deployments matching those names in the namespace with a specific label of `kubernetes.io/metadata.name=medical`, and in clusters named `production`.

image::collection-rules.png[Collection rules showing rules configured for deployments with names matching, namespaces with labels matching exactly, and clusters with names matching]

The collection editor also helps you to describe complex hierarchies by attaching, or nesting, other collections. The editor provides a real-time preview side panel that helps you understand the rules you are applying by showing the resulting matches to the rules that you have configured. The following image provides an example of results from a collection named "Sensitive User Data" with a set of collection rules (not shown). The "Sensitive User Data" collection has two attached collections, "Credit card processors" and "Medical records", and each of those collections has its own collection rules. The results shown in the side panel include items that match the rules configured for all three collections.

image::collection-side-panel.png[Collection results from configuring a collection with two attached collections]