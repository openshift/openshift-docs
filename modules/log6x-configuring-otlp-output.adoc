// Module included in the following assemblies:
//
// * observability/logging/logging-6.0/log6x-clf.adoc

:_mod-docs-content-type: PROCEDURE
[id="log6x-configuring-otlp-output_{context}"]
= Configuring OTLP output

The OpenTelemetry Protocol (OTLP) output allows the cluster administrator to collect and forward logs to OTLP receivers. The OTLP output sends data over HTTP using JSON encoding by adhering to the https://opentelemetry.io/docs/specs/otlp/[OpenTelemetry Observability Framework].

:FeatureName: The OTLP output log forwarder
include::snippets/technology-preview.adoc[]

.Prerequisites

* You must have a `serviceAccount` in the same namespace in which you create the `ClusterLogForwarder`. Additionally, for this `ClusterLogForwarder` you must have the `collect-audit-logs`, `collect-application-logs`, and `collect-infrastructure-logs` cluster roles. For more information see link:https://docs.openshift.com/container-platform/4.16/observability/logging/log_collection_forwarding/log-forwarding.html#log-collection-rbac-permissions_log-forwarding[Authorizing log collection RBAC permissions].

.Procedure

* To enable OTLP, create or edit the `ClusterLogForwarder` CR using the template below:
+
////
.Example ClusterLogForwarder CR
[source,yaml]
----
apiVersion: observability.openshift.io/v1
kind: ClusterLogForwarder
metadata:
  annotations:
    observability.openshift.io/tech-preview-otlp-output: "enabled"
  name: clf-otlp
spec:
  serviceAccount:
    name: <service_account_name>
  outputs:
  - name: otlp
    type: otlp
    otlp:
      tuning:
        compression: gzip 
        delivery: atLeastOnce
        maxRetryDuration: 20
        maxWrite: 10M
        minRetryDuration: 5
      url: <otlp-url>
  pipelines:
  - inputRefs:
    - application
    - infrastructure
    - audit
    name: otlp-logs
    outputRefs:
    - otlp
  serviceAccount:
    name: logging-otlp
----
////

[NOTE]
====
The OTLP output uses the OpenTelemetry data model, which is different from other log output formats. The OTLP output does not send ViaQ logs. Instead, it adheres to the https://opentelemetry.io/docs/specs/semconv/[OpenTelemetry Semantic Conventions] and https://opentelemetry.io/docs/specs/otel/logs/data-model/[Logs Data Model].
====

