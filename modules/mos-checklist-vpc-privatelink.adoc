// Module included in the following assemblies:
//
// * rosa_planning/rosa-cloud-expert-prereq-checklist.adoc
:_mod-docs-content-type: PROCEDURE
[id="mos-checklist-vpc-privatelink_{context}"]
= VPC requirements for PrivateLink clusters

[role="_abstract"]
If you choose to deploy a PrivateLink cluster, then be sure to deploy the cluster in the pre-existing BYO VPC:

include::snippets/snip_install-cluster-in-vpc.adoc[]

.Procedure
. Create a public and private subnet for each AZ that your cluster uses.
* Alternatively, implement transit gateway for internet and egress with appropriate routes.
. The VPC's CIDR block must contain the `Networking.MachineCIDR` range, which is the IP address for cluster machines.
* The subnet CIDR blocks must belong to the machine CIDR that you specify.
. Set both `enableDnsHostnames` and `enableDnsSupport` to `true`.
* That way, the cluster can use the Route 53 zones that are attached to the VPC to resolve cluster internal DNS records.
. Verify route tables by running:
+
[source,terminal]
 ----
 $ aws ec2 describe-route-tables --filters "Name=vpc-id,Values=<vpc-id>"
 ----
+
.. Ensure that the cluster can egress either through NAT gateway in public subnet or through transit gateway.
.. Ensure whatever UDR you want to follow is set up.
. You can also configure a cluster-wide proxy during or after install.
+
[NOTE]
====
You can install a non-PrivateLink {product-title} cluster in a pre-existing BYO VPC.
====