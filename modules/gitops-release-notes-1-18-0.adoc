// Module included in the following assembly:
//
// * release_notes/gitops-release-notes-1-18-0.adoc

:_mod-docs-content-type: REFERENCE

[id="gitops-release-notes-1-18-0_{context}"]
= Release notes for {gitops-title} 1.18.0

[role="_abstract"]
{gitops-title} 1.18.0 is available on {OCP} 4.14, 4.16, 4.17, 4.18, and 4.19.

[id="errata-updates-1-18-0_{context}"]
== Errata updates

RHEA-2025:16586 - {gitops-title} 1.18.0 security update advisory::
Issued: 2025-09-24
+
The list of enhancements that are included in this release are documented in the following advisory:
+
* link:https://access.redhat.com/errata/RHEA-2025:16586[RHEA-2025:16586]

If you have installed the {gitops-title} Operator in the default namespace, run the following command to view the container images in this release:

[source,terminal]
----
$ oc describe deployment gitops-operator-controller-manager -n openshift-gitops-operator
----

[id="new-features-1-18-0_{context}"]
== New features

Support for defining local users in the Argo CD custom resource::
With this update, you can define local users in the Argo CD custom resource (CR) by using the {gitops-shortname} Operator. The {gitops-shortname} Operator can also automatically generate Argo CD API tokens for these users. For more information about managing and configuring local users in Argo CD, see "Managing local users in Argo CD" in the Additional Resources section.
+
link:https://issues.redhat.com/browse/GITOPS-1874[GITOPS-1874]

Support for tenant-managed namespaces with the `NamespaceManagement` CR::
With this update, the `NamespaceManagement` CR enables tenants to let Argo CD manage its own namespaces without the `cluster-admin` access. Cluster administrators must first enable the feature in the {gitops-title} `Subscription` resource and specify the allowed namespaces in the Argo CD CR. When a tenant creates a `NamespaceManagement` CR, the {gitops-title} Operator configures the required `Role` and `RoleBinding` resources and updates Argo CD managed namespace list. This feature improves security by reducing elevated permissions, simplifies setup with automatic configuration, and ensures clean resource management by removing configurations when disabled.
+
link:https://issues.redhat.com/browse/GITOPS-4223[GITOPS-4223]

Support for injecting additional volumes into the Dex container::
With this update, the {gitops-title} Operator supports injecting additional volumes and volume mounts into the Dex container through the Argo CD CR. This enables advanced use cases such as mounting custom certificates, configuration fragments, or identity provider metadata required by Dex.
+
The following example shows how to mount a custom TLS certificate secret for Dex by configuring `volumeMounts` and `volumes`:
+
[source,YAML]
----
spec:
  sso:
    provider: dex
    dex:
      volumeMounts:
        - name: custom-cert
          mountPath: /etc/dex/ssl
          readOnly: true
      volumes:
        - name: custom-cert
          secret:
            secretName: dex-tls-secret
----
+
For more information, see "Additional Volume Mounts for Dex Container" in the Additional resources section.
+
link:https://issues.redhat.com/browse/GITOPS-5963[GITOPS-5963]

Control automated synchronization with the `enabled` field::
With this update, the {gitops-title} Operator introduces a new boolean field named `enabled` under `.spec.syncPolicy.automated` in the `Application` CR. The field gives you control over enabling or disabling automated synchronization. The following key improvements are included in this feature:
** A new `Enabled` checkbox in the `Application Create` and `Application Summary` panels.
** Auto-sync can be enabled or disabled independently of `prune` and `selfHeal`.
** The automated synchronization defaults to `true` for backward compatibility.
** When set to `false`, auto-sync is explicitly disabled even if the automated block exists.
+
The following example shows an Argo CD application with an automated sync policy that prunes and self-heals but does not auto-sync:
+
[source,YAML]
----
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: my-app
  namespace: argocd
spec:
  syncPolicy:
    automated:
      enabled: false
      prune: true
      selfHeal: true
  # ...
----
+
link:https://issues.redhat.com/browse/GITOPS-5430[GITOPS-5430]

Granular control of banner display in the Argo CD UI::
With this update, the {gitops-title} Operator adds support for the permanent and position properties within the `.spec.banner` field in the Argo CD CR. The following options provide more granular control over how banners are displayed in the Argo CD web UI.
* `.spec.banner.permanent`: A boolean field, when set to `true`, prevents users from dismissing the banner.
* `.spec.banner.position`: A string field that specifies where the banner is displayed. Supported values are `top` and `bottom`.
+
[source,YAML]
----
spec:
  banner:
    content: "Maintenance in progress"
    permanent: true
    position: top
----
+
link:https://issues.redhat.com/browse/GITOPS-6679[GITOPS-6679]

Upgraded Kubernetes and Argo CD dependencies::
With this update, the {gitops-title} Operator upgrades the Kubernetes and Argo CD dependencies used in the {gitops-shortname} backend. The newer versions address vulnerability alerts previously flagged by CVE scanners in older dependency versions, ensuring alignment with more recent and secure libraries.
+
link:https://issues.redhat.com/browse/GITOPS-6860[GITOPS-6860]

Default resource exclusions in {gitops-title}::
With this update, the {gitops-title} Operator introduces a default `resource.exclusions` configuration, consistent with upstream Argo CD. By default, the Argo CD Application Controller excludes well-known, auto-generated, or frequently changing resources that are created by controllers. This behavior reduces unnecessary load. You can override or customize these exclusions in the Argo CD configuration if needed.
+
link:https://issues.redhat.com/browse/GITOPS-7434[GITOPS-7434]

[id="fixed-issues-1-18-0_{context}"]
== Fixed issues

Fixed misleading error logs when the `ConsoleLink` resource is disabled::
Before this update, when the `DISABLE_DEFAULT_ARGOCD_CONSOLELINK` variable was set to `true` and the `ConsoleLink` resource did not exist, the {gitops-title} Operator logged an error even though functionality was not affected. With this update, the {gitops-title} Operator does not log an error in this scenario, preventing misleading error messages.
+
link:https://issues.redhat.com/browse/GITOPS-7331[GITOPS-7331]

Fixed stale application controller permissions for custom resources::
Before this update, the {gitops-title} Operator did not reconcile the `Application` controller role to manage custom resources introduced by new Operators. With this update, the {gitops-title} Operator watches the admin cluster role and automatically updates the Application controller role with the required permissions. As a result, the `Application` controller can now manage custom resources in a managed namespace.
+
link:https://issues.redhat.com/browse/GITOPS-6367[GITOPS-6367]

[id="known-issues-1-18-0_{context}"]
== Known issues
Sync triggers incorrectly on Bitbucket mono-repositories with uppercase letters in names::
There is currently a known issue affecting webhook-triggered syncs on Bitbucket mono-repositories that use the `manifest-generate-paths` annotation and have repository names containing uppercase letters. An underlying API call to detect file changes fails for these repositories, causing the system to ignore the specified paths. As a result, a sync operation is triggered on every change instead of only when the files defined in the annotation change.
+
Workaround:
Ensure that your Bitbucket repository name only uses lowercase letters to enable path-based sync triggering.
+
link:https://issues.redhat.com/browse/GITOPS-7835[GITOPS-7835]

[id="deprecated-features-1-18-0_{context}"]
== Deprecated and removed features

Removed support for Keycloak in {gitops-title}::
Removed support for Keycloak in {gitops-title}::
In {gitops-title} 1.18, the support for Keycloak-based authentication is removed. As an alternative, you can migrate to Dex or configure a self-managed Red Hat Build of Keycloak (RHBK) instance. Dex is the default authentication provider in {gitops-title}. It integrates with the OpenShift OAuth server, enabling users to log in to Argo CD with their existing OpenShift users and groups. For more information, see "Configuring SSO for Argo CD using Dex" in the Additional resources section. 
+
If you still want to use Keycloak, you must deploy and manage the "Red Hat Build of Keycloak (RHBK)" instance and manually configure the integration in the Argo CD custom resource. For more information about configuring Argo CD with keycloak, see the upstream documentation for "Keycloak" in the Additional resources section.
+
link:https://issues.redhat.com/browse/GITOPS-7069[GITOPS-7069]

