// This module is included in the following assembly:
//
// * configuring/configuring-build-strategies.adoc

:_mod-docs-content-type: REFERENCE
[id="ob-defining-system-results_{context}"]
= System results definition

[role="_abstract"]
Store the image size and digest or content hash produced by the build strategy in a set of result files. Error details for debugging can also be recorded when a `BuildRun` resource fails. 

The following result parameters can be defined in the `BuildStrategy` or `ClusterBuildStrategy` CR:

.Result parameters
[options="header"]
|===

| Parameter | Description

| `$(results.shp-image-digest.path)`  | Specifies the path to the file that stores the digest or the content hash of the image.

| `$(results.shp-image-size.path)`  | Specifies the path to the file that stores the compressed size of the image.

| `$(results.shp-error-reason.path)`  | Specifies the path to the file that stores the error reason.

| `$(results.shp-error-message.path)`  | Specifies the path to the file that stores the error message.

|===

The following example shows the size and digest or the content hash of the image in the `.status.output` field of the `BuildRun` CR:

[source,yaml]
----
apiVersion: shipwright.io/v1beta1
kind: BuildRun
# ...
status:
 # ...
  output:
    digest: sha256:07626e3c7fdd28d5328a8d6df8d29cd3da760c7f5e2070b534f9b880ed093a53
    size: 1989004
  # ...
----

The following example shows the error reason and message in the `.status.failureDetails` field of the `BuildRun` CR:

[source,yaml]
----
apiVersion: shipwright.io/v1beta1
kind: BuildRun
# ...
status:
  # ...
  failureDetails:
    location:
      container: step-source-default
      pod: baran-build-buildrun-gzmv5-b7wbf-pod-bbpqr
    message: The source repository does not exist, or you have insufficient permission
      to access it.
    reason: GitRemotePrivate
----
