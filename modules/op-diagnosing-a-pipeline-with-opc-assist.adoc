// This module is included in the following assemblies:
// * create/creating-applications-with-cicd-pipelines.adoc

:_mod-docs-content-type: PROCEDURE
[id="diagnosing-a-pipeline-with-opc-assist_{context}"]
= Diagnosing pipeline failures with opc assist

If a `PipelineRun` execution fails, you can use the `opc assist` CLI command to help you quickly diagnose the failure and identify corrective steps. This utility leverages {ols-official} to analyze the logs, error messages, and the execution context of the failed object, providing actionable explanations in plain language.

[IMPORTANT]
====
To use the `opc assist` CLI command, you must install and configure link:https://docs.redhat.com/en/documentation/red_hat_openshift_lightspeed/latest/html/install/ols-installing-lightspeed[{ols-official}] on your cluster.
====

:FeatureName: Running {pipelines-title} with the `opc` CLI tool
include::snippets/technology-preview.adoc[]

.Procedure

. When a `PipelineRun` execution fails, run the following command to retrieve the name of the failed `PipelineRun` object:
+
[source, terminal]
----
$ tkn pipelinerun list
----
+
The output lists the pipeline runs, displaying the name and status. The status of the relevant pipeline is `Failed`.

. To obtain a root-cause analysis and suggested remediation steps for the failure, run the following command, replacing `<pipelinerun_name>` and `<namespace>` with the relevant values:
+
[source, terminal]
----
$ opc assist pipelinerun diagnose <pipelinerun_name> -n <namespace>
----
where:
`<pipelinerun_name>`:: Specifies the name of the failed `PipelineRun` object.
`<namespace>`:: Specifies the name of the project (namespace) where you executed the pipeline.

+
The output displays the {ols} analysis, including a root-cause summary and suggested remediation steps.

. Optional: Run the following command to diagnose a specific step or task directly on the `TaskRun` object:
+
[source,terminal]
----
$ opc assist taskrun diagnose <taskrun_name> -n <namespace>
----
where:
`<taskrun_name>`:: Specifies the name of the failed `TaskRun` object.
`<namespace>`:: Specifies the name of the project (namespace) where you executed the pipeline.
