// Module included in the following assemblies:
//
// * serverless/reference/troubleshooting.adoc

:_content-type: REFERENCE
[id="serverless-troubleshooting-general_{context}"]
= General troubleshooting

*How many {product-title} resources does {ServerlessProductShortName} Serving use?*

Resource usage can be defined in terms of _requests_ and in terms of _limits_.

Each pod in the `knative-serving` namespace has defined CPU and memory _requests_.

.Pods in the `knative-serving` namespace
[source,terminal]
----
$ oc get pods -n knative-serving
----

.Example output
[source,terminal]
----
NAME                                     READY   STATUS    RESTARTS   AGE
activator-77d49fdbc-7hgr7                2/2     Running   0          11d
activator-77d49fdbc-8whqr                2/2     Running   0          11d
autoscaler-6444dcb6c9-489jd              2/2     Running   0          11d
autoscaler-6444dcb6c9-vrldn              2/2     Running   0          11d
autoscaler-hpa-59698cf457-2npx9          2/2     Running   0          11d
autoscaler-hpa-59698cf457-ntk5p          2/2     Running   0          11d
controller-54cf5b4ccc-6bb9x              2/2     Running   0          11d
controller-54cf5b4ccc-tht92              2/2     Running   0          11d
domain-mapping-7546dfd485-4xplg          2/2     Running   0          11d
domain-mapping-7546dfd485-hkrxs          2/2     Running   0          11d
domainmapping-webhook-64784df6d7-2295s   2/2     Running   0          11d
domainmapping-webhook-64784df6d7-wjcq4   2/2     Running   0          11d
webhook-7874c59b84-56pgs                 2/2     Running   0          11d
webhook-7874c59b84-lbfns                 2/2     Running   0          11d
----

.CPU requests for `knative-serving` pods
[source,terminal]
----
$ oc get pod -n knative-serving -ojsonpath='{.items[*].spec.containers[*].resources.requests.cpu}'
----

.Example output
[source,terminal]
----
300m 10m 300m 10m 100m 10m 100m 10m 30m 10m 30m 10m 100m 10m 100m 10m 30m 10m 30m 10m 100m 10m 100m 10m 100m 10m 100m 10m
----

.Memory requests for `knative-serving` pods
[source,terminal]
----
$ oc get pod -n knative-serving -ojsonpath='{.items[*].spec.containers[*].resources.requests.memory}'
----

.Example output
[source,terminal]
----
60Mi 20Mi 60Mi 20Mi 100Mi 20Mi 100Mi 20Mi 40Mi 20Mi 40Mi 20Mi 100Mi 20Mi 100Mi 20Mi 40Mi 20Mi 40Mi 20Mi 100Mi 20Mi 100Mi 20Mi 100Mi 20Mi 100Mi 20Mi
----

Overall, `knative-serving` has at least these requests:

* CPU request: 1660m
* Memory request: 1360Mi

The `knative-serving-ingress` namespace, which also belongs to the Knative Serving component, does not define any CPU or memory requests. The following pods are in the `knative-serving-ingress` namespace and use additional CPU and memory:

.Pods in the `knative-serving-ingress` namespace
[source,terminal]
----
$ oc get pods -n knative-serving-ingress
----

.Example output
[source,terminal]
----
NAME                                      READY   STATUS    RESTARTS   AGE
3scale-kourier-gateway-785c74cd65-8qb2g   1/1     Running   0          11d
3scale-kourier-gateway-785c74cd65-s7w74   1/1     Running   0          11d
net-kourier-controller-7976dbcbbb-jdpdr   1/1     Running   0          11d
net-kourier-controller-7976dbcbbb-m5qfq   1/1     Running   0          11d
----

Unlike the requests, the _limits_ are undefined for some pods in `knative-serving` and for all pods in `knative-serving-ingress`, so there is no specific limits information.

The actual CPU and memory usage of the Knative Serving component depends on the control plane and data plane load of Serving, which correlates with the amount of traffic.

*How to customize {ServerlessProductName}?*

Extensive configuration options are available for {ServerlessProductShortName} using config maps. For instructions, see the "Administer" section of the {ServerlessProductShortName}, beginning with "Global configuration".

*How to remove {ServerlessProductName}?*

You can remove {ServerlessProductName} by removing the {ServerlessProductShortName} components and {ServerlessOperatorName}. See "Removing OpenShift Serverless".
