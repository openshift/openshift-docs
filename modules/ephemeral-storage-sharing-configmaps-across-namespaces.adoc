:_mod-docs-content-type: PROCEDURE

[id="ephemeral-storage-sharing-configmaps-across-namespaces_{context}"]
= Sharing a config map across namespaces

[role="_abstract"]
To share a config map across namespaces in a cluster, you create a `SharedConfigMap` custom resource (CR) instance for that config map.

.Prerequisites

You must have permission to perform the following actions:

* Create instances of the `sharedconfigmaps.sharedresource.openshift.io` custom resource definition (CRD) at a cluster-scoped level.
* Create a ClusterRole for the SharedConfigMap.
* Create role and role binding for the Shared Resource CSI Driver.
* Manage roles and role bindings across the namespaces in the cluster to control which users can get, list, and watch those instances.
* Manage roles and role bindings across the namespaces in the cluster to control which service accounts in pods that mount your Container Storage Interface (CSI) volume can use those instances.
* Access the namespaces that contain the Secrets you want to share.

.Procedure

. Create a `SharedConfigMap` or `SharedSecret` CR instance for the config map that you want to share across namespaces in the cluster:
+
[source,terminal]
----
apiVersion: sharedresource.openshift.io/v1alpha1
kind: SharedConfigMap
metadata:
  name: share-test-config
spec:
  configMapRef:
    name: shared-config
    namespace: <name_of_the_source_namespace>
----

. Create a `ClusterRole` CR instance that grants RBAC permission to use the referenced shared resource:
+
[source,terminal]
----
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: shared-configmap-use-share-test-config
rules:
  - apiGroups:
      - sharedresource.openshift.io
    resources:
      - sharedconfigmaps
    resourceNames:
      - share-test-config
    verbs:
      - use
----