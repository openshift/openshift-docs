// Module included in the following assemblies:
//
// * service-mesh-docs-main/ossm-release-notes.adoc

:_mod-docs-content-type: REFERENCE
[id="ossm-release-3-1-known-issues_{context}"]
= {SMProductName} 3.1 known issues

[id="pod-health-check-issues-ovn-k-cni-ambient-mode_{context}"]
== Pod health check issues with OVN-K CNI in ambient mode

There is currently a known issue where the liveness and readiness probes pod health checks might fail in ambient mode. When using the OVN-Kubernetes Container Network Interface (CNI) on {ocp-product-title} 4.18 and earlier, this issue causes pods to enter a CrashLoopBackOff state, even though the application containers are running as expected

Workaround: Configure the OVN-Kubernetes CNI to use local gateway mode by setting the `routingViaHost` field as `true` in the `gatewayConfig` specification in the Cluster Network Operator.

For configuration details, see “Configuring Gateway Mode”. link:https://issues.redhat.com/browse/OSSM-9053[OSSM-9053]

[id="podDisruptionBudget-object-prevents-nodes-from-upgrading_{context}"]
== `podDisruptionBudget` object that prevents nodes from upgrading

There is currently a known issue that prevents {ocp-product-title} nodes from upgrading. The `podDisruptionBudget` resource prevents the draining of the node where the `istiod` pod is running, unless there are multiple replicas of the `istiod` pod.

Workaround: Set the `.spec.values.global.defaultPodDisruptionBudget.enabled` field in the {istio} CR to `false`. Alternatively, you can temporarily increase the number of replicas for the `istiod` deployment. link:https://issues.redhat.com/browse/OSSM-9392[OSSM-9392]