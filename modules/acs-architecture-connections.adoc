// Module included in the following assemblies:
//
// * architecture/acs-architecture.adoc
:_mod-docs-content-type: CONCEPT
[id="acs-architecture-connections_{context}"]
= {product-title-short} connection protocols and default ports

[role="_abstract"]
Components of {product-title} ({product-title-short}) use various default ports and connection protocols. Depending on your system and firewall configuration, you might need to configure your firewall to allow traffic on certain ports so that the components can connect to each other.

The following table provides default ports and protocols for some connections within {product-title-short} and between {product-title-short} and external components. This is helpful for configuring your firewall to allow inbound and outbound cluster traffic.

However, you might need more detailed information in some scenarios. For example, if your firewall is integrated in the cluster router, you might need to specify ports for connections that happen within one cluster but might be on different IP networks. In this scenario, you can use the {product-title-short} network policy YAML files in your {ocp} and Kubernetes clusters to determine connections and ports that you might need to configure.

.{product-title-short} connections between components

[cols="4",options="header"]
|===
| Component or external entity | Connection type | Port | Additional information

| Central and Scanner V4 Indexer
| gRPC
| 8443
|

| Central and Sensor on secured cluster
a| * TCP/HTTPS
* gRPC
| 443
| Sensor and Central primarily communicate over a bidirectional gRPC stream, initiated by Sensor to Central's port 443.

| Central and user (CLI)
a| * gRPC
* HTTPS (with `--force-http1` option)
| 443
| For more information about the `--force-http1` option, see the `roxctl` command options.

| Central and vulnerability feeds
| HTTPS
| 443
| Connects to `definitions.stackrox.io` by default.

| Collector to Sensor
| gRPC
| 443
| This is a bidirectional gRPC connection initiated by Collector to Sensor's port 443.

| Collector (Compliance) to Sensor
| gRPC
| 8444
| If node scanning is enabled on {ocp} release 4, this connection is initiated by Sensor to compliance running in the Collector pod.

| Scanner to Scanner-DB
| TCP
| 5432
|
| Scanner V4 Indexer to Central
| HTTPS
| 443
|

| Scanner V4 Indexer and Matcher to Scanner V4 DB
| TCP
| 5432
|

| Sensor and Admission Controller
| gRPC
| 443
| This is a bidirectional gRPC stream, initiated by Admission Controller to Sensor's port 443. This occurs in delegated scanning scenarios or in {ocp} secured clusters.

|===

//old graphic version: https://docs.openshift.com/acs/3.70/architecture/acs-architecture.html#external-components_acs-architecture