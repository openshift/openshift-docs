// Module included in the following assemblies:
//
// * /virt/monitoring/virt-running-cluster-checkups.adoc

:_mod-docs-content-type: PROCEDURE
[id="virt-troubleshoot-storage-checkup_{context}"]
= Troubleshooting a failed storage checkup

[role="_abstract"]
If a storage checkup fails, there are steps that you can take to identify the reason for failure.

.Prerequisites

* You have installed the {oc-first}.
* You have downloaded the directory provided by the `must-gather` tool.

.Procedure

. Review the `status.failureReason` field in the `storage-checkup-config` config map by running the following command and observing the output:
+
[source,terminal]
----
$ oc get configmap storage-checkup-config -n <namespace> -o yaml
----
+

.Example output config map
[source,yaml]
----
apiVersion: v1
kind: ConfigMap
metadata:
  name: storage-checkup-config
  labels:
    kiagnose/checkup-type: kubevirt-storage
data:
  spec.timeout: 10m
  status.succeeded: "false" # <1>
  status.failureReason: "ErrNoDefaultStorageClass" # <2>
# ...
----
<1> If the checkup has failed, the `status.succeeded` value is `false`.
<2> If the checkup has failed, the `status.failureReason` field contains an error message. In this example output, the `ErrNoDefaultStorageClass` error message means that no default storage class is configured.

. Search the directory provided by the `must-gather` tool for logs, events, or terms related to the error in the `data.status.failureReason` field value.
