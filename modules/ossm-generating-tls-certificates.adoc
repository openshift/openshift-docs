// Module included in the following assemblies:
//
// install/ossm-pqc-install.adoc

:_mod-docs-content-type: PROCEDURE
[id="ossm-generating-tls-certificates_{context}"]
= Generating TLS certificates

[role="_abstract"]
Generate Transport Layer Security (TLS) certificates and create a secret to secure ingress traffic for a service mesh gateway.

. Create a directory for your certificates by running the following command:
+
[source,terminal]
----
$ mkdir certs
----

. Generate the certificates for your gateway similar to the following examples:

* Create the first certificate by running the following command:
+
[source,terminal]
----
$ openssl req -x509 -sha256 -nodes -days 365 -newkey rsa:2048 \
  -subj '/O=example Inc./CN=example.com' \
  -keyout certs/example.com.key \
  -out certs/example.com.crt
----

* Create the second certificate by running the following command:
+
[source,terminal]
----
$ openssl req -out certs/httpbin.example.com.csr -newkey rsa:2048 -nodes \
  -keyout certs/httpbin.example.com.key \
  -subj "/CN=httpbin.example.com/O=httpbin organization"
----

* Create the third certificate by running the following command:
+
[source,terminal]
----
$ openssl x509 -req -sha256 -days 365 \
  -CA certs/example.com.crt -CAkey certs/example.com.key \
  -set_serial 0 -in certs/httpbin.example.com.csr \
  -out certs/httpbin.example.com.crt
----

. Create a secret containing the TLS certificate for your gateway by running the following command:
+
[source,terminal]
----
$ oc create -n istio-system secret tls httpbin-credential \
    --key=certs/httpbin.example.com.key \
    --cert=certs/httpbin.example.com.crt
----