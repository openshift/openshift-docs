// Module included in the following assemblies:
//
// * scalability_and_performance/telco-hub-rds.adoc

:_mod-docs-content-type: CONCEPT
[id="telco-hub-acm-observability_{context}"]
= {rh-rhacm} observability

Cluster observability is provided by the multicluster engine and {rh-rhacm}.

* Observability storage needs several `PV` resources and an S3 compatible bucket storage for long term retention of the metrics.
* Storage requirements calculation is complex and dependent on the specific workloads and characteristics of managed clusters.
Requirements for `PV` resources and the S3 bucket depend on many aspects including data retention, the number of managed clusters, managed cluster workloads, and so on.
* Estimate the required storage for observability by using the link:https://github.com/stolostron/capacity-planning/blob/main/calculation/ObsSizingTemplate-Rev1.ipynb[observability sizing calculator] in the link:https://github.com/stolostron/capacity-planning[{rh-rhacm} capacity planning repository].
See link:https://access.redhat.com/articles/7103886[Calculating storage need for MultiClusterHub Observability on telco environments] for an explanation of using the calculator to estimate observability storage requirements.
The below table uses inputs derived from the telco RAN DU RDS and the hub cluster RDS as representative values.

[NOTE]
====
The following numbers are estimated.
Tune the values for more accurate results.
Add an engineering margin to the results to account for potential estimation inaccuracies.
For example, +20%.
====

.Cluster requirements
[cols="42%,42%,16%",options="header"]
|====
|Capacity planner input
|Data source
|Example value

|Number of control plane nodes
|Hub cluster RDS (scale) and telco RAN DU RDS (topology)
|3500

|Number of additional worker nodes
|Hub cluster RDS (scale) and telco RAN DU RDS (topology)
|0

|Days for storage of data
|Hub cluster RDS
|15

|Total Number of pods per cluster
|Telco RAN DU RDS
|120

|Number of namespaces (excl OCP)
|Telco RAN DU RDS
|4

|Number of metric samples per hour
|Default value
|12

|Number of hours of retention in Receiver PV
|Default value
|24
|====

With these input values, the sizing calculator as described in the link:https://access.redhat.com/articles/7103886[Calculating storage need for MultiClusterHub Observability on telco environments] indicates the following storage needs:

.Storage requirements
[options="header"]
|====
2+|alertmanager PV 2+|thanos-receive PV 2+|thanos-compactor PV

|*Per replica* |*Total* |*Per replica* |*Total* 2+|*Total*

|10GBi |30GBi |10GBi |30GBi 2+|100GBi
|====

.Storage requirements
[options="header"]
|====
2+|thanos-rule PV 2+|thanos-store PV 2+|Object bucket^[1]^

|*Per replica* |*Total* |*Per replica* |*Total* |*Per day* |*Total*

|30GBi |90GBi |100GBi |300GBi |15GBi |101GBi
|====
[1] For object bucket we assume we disable downsampling, so only need to calculate storage for raw data.
