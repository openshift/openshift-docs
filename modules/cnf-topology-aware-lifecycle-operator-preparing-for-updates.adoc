// Module included in the following assemblies:
// Epic CNF-2600 (CNF-2133) (4.10), Story TELCODOCS-285
// * scalability_and_performance/ztp-deploying-disconnected.adoc

:_content-type: PROCEDURE
[id="talo-platform-prepare-for-update_{context}"]
= Preparing for the updates

If both the Hub and the spoke clusters are running {product-title} 4.9, you need to update ZTP from version 4.9 to 4.10. If {product-title} 4.10 is used, you can set up the environment.

For more information about how to update ZTP, see xref:../scalability_and_performance/ztp-deploying-disconnected.adoc#ztp-upgrading-gitops-ztp_ztp-deploying-disconnected[Upgrading GitOps ZTP].

[id="talo-platform-prepare-for-update-env-setup_{context}"]
== Setting up the environment

If you deployed ZTP in a disconnected environment as instructed in the xref:../scalability_and_performance/ztp-deploying-disconnected.adoc#ztp-acm-preparing-to-install-disconnected-acm_ztp-deploying-disconnected[Preparing the disconnected environment] section, you need to do the following steps before TALO can successfully perform update operations:

TALO can perform both platform and Operator updates:

* For platform updates, you have to do the following:
+
. Mirror the desired {product-title} image repository.
+ 
For more information, see xref:../scalability_and_performance/ztp-deploying-disconnected.adoc#installation-mirror-repository_ztp-deploying-disconnected[Mirroring the OpenShift Container Platform image repository]
+
. Prepare the update graph. You can do this the following ways:
.. Use the OpenShift Update Service.
+
For more information, see link:https://access.redhat.com/documentation/en-us/red_hat_advanced_cluster_management_for_kubernetes/latest/html/clusters/managing-your-clusters#upgrading-disconnected-clusters[Upgrading disconnected clusters].
.. Make a local copy of the upstream graph and save the graph in the disconnected environment.

* For Operator updates, you have to do the following:
+
. Mirror the desired index image, bundle images, and all Operator images referenced in the bundle images.
+
For more information, see xref:../installing/disconnected_install/installing-mirroring-creating-registry.html#mirror-registry-introduction_installing-mirroring-creating-registry[Mirror registry for Red Hat OpenShift introduction].