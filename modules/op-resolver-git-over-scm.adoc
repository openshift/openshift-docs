// This module is included in the following assembly:
//
// // *openshift_pipelines/remote-pipelines-tasks-resolvers.adoc

:_mod-docs-content-type: PROCEDURE
[id="resolver-git-over-scm_{context}"]
= Overriding the Git resolver for the authenticated SCM API

When you configure the Git resolver in your pipeline, you can explicitly set parameters such as the SCM type, the server URL, and the authentication token. This configuration enables secure and controlled interactions with the desired Git repository, using the specified credentials and connection settings.

You can edit parameters to override the default token, SCM type, and server URL.  

[NOTE]
====
* The `scm-type`, `api-token-secret-name`, and `api-token-secret-key` settings are required to use the authenticated SCM API.

* You must create a Kubernetes secret, `my-secret-token`, that contains the GitHub personal access token. This secret ensures that the pipeline can authenticate with GitHub using the provided token.

* Create the `my-secret-token` secret in the namespace where the `TaskRun` is created. The secret must contain a GitHub personal access token in the `token` key of the secret.
====

.Procedure

. To edit the `TektonConfig` custom resource, enter the following command:
+
[source,terminal]
----
$ oc edit TektonConfig config
----

. In the `TektonConfig` custom resource, edit the `pipeline.git-resolver-config` spec to override the default token, SCM type, and server URL previously configured:
+
[source,yaml]
----
apiVersion: tekton.dev/v1beta1
kind: TaskRun
metadata:
  name: git-api-demo-tr
spec:
  taskRef:
    resolver: git
    params:
    - name: org
      value: tektoncd
    - name: repo
      value: catalog
    - name: revision
      value: main
    - name: pathInRepo
      value: task/git-clone/0.6/git-clone.yaml
    - name: token
      value: my-secret-token
    - name: tokenKey
      value: token
    - name: scmType
      value: github
    - name: serverURL
      value: https://ghe.mycompany.com

----