// Module included in the following assemblies:
//
// * backup_and_restore/oadp-release-notes-1-2.adoc

:_mod-docs-content-type: REFERENCE
[id="oadp-release-notes-1-2-0_{context}"]
= OADP 1.2.0 release notes

The OADP 1.2.0 release notes include information about new features, bug fixes, and known issues.

[id="new-features_{context}"]
== New features

.Resource timeouts
The new `resourceTimeout` option specifies the timeout duration in minutes for waiting on various Velero resources. This option applies to resources such as Velero CRD availability, `volumeSnapshot` deletion, and backup repository availability. The default duration is 10 minutes.

.AWS S3 compatible backup storage providers
You can back up objects and snapshots on AWS S3 compatible providers.


[id="new-features-tech-preview-1-2-0_{context}"]
=== Technical preview features

.Data Mover
The OADP Data Mover enables you to back up Container Storage Interface (CSI) volume snapshots to a remote object store. When you enable Data Mover, you can restore stateful applications using CSI volume snapshots pulled from the object store in case of accidental cluster deletion, cluster failure, or data corruption.

:FeatureName: OADP Data Mover
include::snippets/technology-preview.adoc[]

[id="fixed-bugs-1-2-0_{context}"]
== Resolved issues

For a complete list of all issues resolved in this release, see the list of link:https://issues.redhat.com/issues/?filter=12418878[OADP 1.2.0 resolved issues] in Jira.

[id="known-issues-1-2-0_{context}"]
== Known issues

The following issues have been highlighted as known issues in the release of OADP 1.2.0:

.Multiple HTTP/2 enabled web servers are vulnerable to a DDoS attack (Rapid Reset Attack)

The HTTP/2 protocol is susceptible to a denial of service attack because request cancellation can reset multiple streams quickly. The server has to set up and tear down the streams while not hitting any server-side limit for the maximum number of active streams per connection. This results in a denial of service due to server resource consumption.

It is advised to upgrade to OADP 1.2.3, which resolves this issue.

For more information, see link:https://access.redhat.com/security/cve/cve-2023-39325[CVE-2023-39325 (Rapid Reset Attack)].

.An incorrect hostname can be created when changing a hostname in a generated route.

By default, the {product-title} cluster makes sure that the `openshift.io/host.generated: true` annotation is turned on and fills in the field for both the routes that are generated and those that are not generated.

You cannot modify the value for the `.spec.host` field based on the base domain name of your cluster in the generated and non-generated routes.

If you modify the value for the `.spec.host` field, it is not possible to restore the default value that was generated by the {product-title} cluster. After you restore your {product-title} cluster, the Operator resets the value for the field.

[id="Upgrade-notes-1-2-0_{context}"]
== Upgrade notes

[NOTE]
====
Always upgrade to the next minor version. *Do not* skip versions. To update to a later version, upgrade only one channel at a time. For example, to upgrade from {oadp-first} 1.1 to 1.3, upgrade first to 1.2, then to 1.3.
====

[id="changes-oadp-1-1-to-1-2_{context}"]
=== Changes from OADP 1.1 to 1.2

The Velero server was updated from version 1.9 to 1.11.

In OADP 1.2, the `DataProtectionApplication` (DPA) configuration `dpa.spec.configuration.velero.args` has the following changes:

* The `default-volumes-to-restic` field was renamed to `default-volumes-to-fs-backup`. If you use `dpa.spec.configuration.velero.args`, you must add it again with the new name to your DPA after upgrading OADP.

* The `restic-timeout` field was renamed to `fs-backup-timeout`. If you use `dpa.spec.configuration.velero.args`, you must add it again with the new name to your DPA after upgrading OADP.

* The `restic` daemon set was renamed to `node-agent`. OADP automatically updates the name of the daemon set.

* The custom resource definition `resticrepositories.velero.io` was renamed to `backuprepositories.velero.io`.

* The custom resource definition `resticrepositories.velero.io` can be removed from the cluster.

[id="upgrade-steps-1-2-0_{context}"]
== Upgrading steps
