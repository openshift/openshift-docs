// Module included in the following assemblies:
//
// * installing/installing_openstack/installing-openstack-installer-custom.adoc
// * installing/installing_openstack/installing-openstack-installer-kuryr.adoc
// Or not, for now.

[id="installation-osp-installation-parameters_{context}"]
= OpenStack-specific parameters

In the OpenShift Installer `install-config.yaml`, you can set the following OpenStack-specific options:

.OpenStack installation customization parameters
[cols=".^2m,.^3a,^3a,options="header"]
|====
|Parameter|Description|Values

|machines.platform.openstack.region
|The region where the OpenStack cluster is created.
|String, for example `region1`.

|machines.platform.openstack.cloud
|The name of the OpenStack cloud to use from `clouds.yaml`.
|String, for example `MyCloud`.

|machines.platform.openstack.externalNetwork
|The OpenStack external network name to be used for installation.
|String, for example `external`.

|machines.platform.openstack.computeFlavor
|The OpenStack compute flavor to use for master servers.
|String, for example `m1.xlarge`.

|machines.platform.openstack.lbFloatingIP
|An existing floating IP address to associate with the load balancer API.
|An IP address, for example `128.0.0.1`.

|machines.platform.openstack.trunkSupport
|Whether OpenStack ports can be trunked. 
|`true` or `false`

|machines.platform.openstack.octaviaSupport
|Whether OpenStack supports Octavia.
|`true` or `false`

|machines.platform.openstack.defaultMachinePlatform
| _Optional_. The default configuration used when installing on OpenStack for machine pools that do not define their own platform configuration.
| -

|====

For additional definitions, see https://godoc.org/github.com/openshift/installer/pkg/types/openstack#Platform[the Go documentation].

While installing {product-title}, you refer to your modified `install-config.yaml` to customize the installation.

== Example

The example `install-config.yaml` below demonstrates all of the possible OpenStack customization options.

[IMPORTANT]
This sample file is provided for reference only. You must obtain your
`install-config.yaml` file by using the installation program.

====
[source, yaml]
----
apiVersion: v1
baseDomain: example.com
clusterID: os-test
controlPlane:
  name: master
  platform: {}
  replicas: 3
compute:
- name: worker
  platform:
    openstack:
      type: ml.large
  replicas: 3
metadata:
  name: example
networking:
  clusterNetwork:
  - cidr: 10.128.0.0/14
    hostPrefix: 23
  machineCIDR: 10.0.0.0/16
  serviceNetwork:
  - 172.30.0.0/16
  networkType: OpenShiftSDN
platform:
  openstack:
    region: region1
    cloud: mycloud
    externalNetwork: external
    computeFlavor: m1.xlarge
    lbFloatingIP: 128.0.0.1
    trunkSupport: false
    octaviaSupport: false
pullSecret: '{"auths": ...}'
sshKey: ssh-ed25519 AAAA...
----
====
