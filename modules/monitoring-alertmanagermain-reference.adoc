// Module included in the following assemblies:
//
// * monitoring/config-map-reference-for-the-cluster-monitoring-operator.adoc

:_content-type: REFERENCE
[id="alertmanagermain-reference_{context}"]
= alertmanagerMain reference

These settings configure the Alertmanager component for core platform monitoring.

.Configuration options

[source,yaml]
----
alertmanagerMain:
  # Boolean flag that enables or disables the main Alertmanager instance under
  # openshift-monitoring
  # default: true
  enabled: <bool>
  # Boolean flag that enables or disables user-defined project namespaces to be selected
  # for AlertmanagerConfig lookup. By default, Alertmanager only looks for a configuration
  # in the namespace to which it was deployed. This setting only works if the UWM Alertmanager
  # instance is not enabled
  # default: false
  enableUserAlertmanagerConfig: <bool>
  # The log level for Alertmanager.
  # Possible values are: error, warn, info, debug.
  # default: info
  logLevel: <string>
  # Defines the nodes on which the pods are scheduled.
  nodeSelector: v1.NodeSelector
  # Defines resource requests and limits for single pods.
  resources: v1.ResourceRequirements
  # Defines tolerations for pods.
  tolerations: v1.Toleration
  # Allow a user to configure persistent storage for the Alertmanager pods.
  # A user can configure storageClass and size of volume.
  volumeClaimTemplate: v1.PersistentVolumeClaim
----

.Example

[source,yaml]
----
apiVersion: v1
kind: ConfigMap
metadata:
  name: cluster-monitoring-config
  namespace: openshift-monitoring
data:
  config.yaml: |
    alertmanagerMain:
      enabled: true
      enableUserAlertmanagerConfig: true
      logLevel: "debug"
      nodeSelector:
        kubernetes.io/os: linux
      tolerations:
        - operator: Exists
      resources:
        requests:
          cpu: 5m
          memory: 30Mi
      volumeClaimTemplate:
        spec:
          resources:
            requests:
              storage: 15Gb
----
