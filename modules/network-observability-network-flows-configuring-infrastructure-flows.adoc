:_mod-docs-content-type: PROCEDURE
[id="network-observability-network-flows-configuring-infrastructure-flows_{context}"]
= Configuring infrastructure-aware flow collection

[role="_abstract"]
To enable smart enrichment for SDN-managed IP addresses, you must ensure the `FlowCollector` is configured to auto-detect cluster infrastructure.

.Prerequisites
* You have cluster-admin permissions.
* The Network Observability Operator is installed.

.Procedure
. Navigate to *Administration* -> *CustomResourceDefinitions*.
. Find the *FlowCollector* CRD and click the *Instances* tab.
. Click the *cluster* instance, then click the *YAML* tab.
. Set the `spec.processor.subnetLabels.openShiftAutoDetect` parameter to `true`:
+
[source,yaml]
----
apiVersion: flows.netobserv.io/v1beta2
kind: FlowCollector
metadata:
  name: cluster
spec:
  processor:
    subnetLabels:
      openShiftAutoDetect: true
----
+
where:

`spec.processor.subnetLabels.openShiftAutoDetect`:: Specifies whether the operator automatically identifies SDN-managed IP ranges. Set to `true` to enable automatic identification and enrich flows with resource subnet labels.

. Click *Save*.

.Verification
. Navigate to *Observe* -> *Network Traffic*.
. In the *Traffic Table*, click *Manage columns* and select *Infrastructure*.
. Verify that the table displays enriched labels for nodes, pods, and virtual machines.