// Module included in the following assemblies:
//
// * operating/manage-role-based-access-control-3630.adoc
:_content-type: CONCEPT
[id="declarative-configuration-examples_{context}"]
= Declarative configuration examples

[role="_abstract"]
You can create declarative configurations by using the following examples as a guide. Use the `roxctl declarative-config lint` command to verify that your configurations are valid.

[id="declarative-config-example-auth-provider"]
== Declarative configuration authentication provider example

.Declarative configuration authentication provider example

[source,yaml]
----
name: A sample auth provider
minimumRole: Analyst <1>
uiEndpoint: central.custom-domain.com:443 <2>
extraUIEndpoints: <3>
    - central-alt.custom-domain.com:443
groups: <4>
    - key: email <5>
      value: example@example.com
      role: Admin <6>
    - key: group
      value: reviewers
      role: Analyst
requiredAttributes: <7>
    - key: org_id
      value: "12345"
oidc: <8>
    issuer: sample.issuer.com <9>
    mode: auto <10>
    clientID: CLIENT_ID
    clientSecret: CLIENT_SECRET
clientSecret: CLIENT_SECRET
iap: <11>
    audience: audience
saml: <12>
    spIssuer: sample.issuer.com
    metadataURL: sample.provider.com/metadata
saml: <13>
    spIssuer: sample.issuer.com
    cert: | <14>
    ssoURL: saml.provider.com
    idpIssuer: idp.issuer.com
userpki:
    certificateAuthorities: | <15>
    certificate <16>
----
<1> Identifies the minimum role that will be assigned by default to any user logging in. If left blank, the value is `None`.
<2> Use the user interface endpoint of your Central instance.
<3> If your Central instance is exposed to different endpoints, specify them here.
<4> These fields map users to specific roles, based on their attributes.
<5> The key can be any claim returned from the authentication provider.
<6> Identifies the role that the users are given. You can use a default role or a declaratively-created role.
<7> Optional: Use these fields if attributes returned from the authentication provider are required; for example, if the audience is limited to a specific organization or group.
<8> This section is required only for OpenID Connect (OIDC) authentication providers.
<9> Identifies the expected issuer for the token.
<10> Identifies the OIDC callback mode. Possible values are `auto`, `post`, `query`, and `fragment`. The preferred value is `auto`.
<11> This section is required only for Google Identity-Aware Proxy (IAP) authentication providers.
<12> This section is required only for Security Assertion Markup Language (SAML) 2.0 dynamic configuration authentication providers.
<13> This section is required only for SAML 2.0 static configuration authentication providers.
<14> Include the certificate in Privacy Enhanced Mail (PEM) format.
<15> This section is required only for authentication with user certificates.
<16> Include the certificate in PEM format.

[id="declarative-config-example-permission-set"]
== Declarative configuration permission set example

.Declarative configuration permission set example

[source,yaml]
----
name: A sample permission set
description: A sample permission set created declaratively
resources:
- resource: Integration <1>
  access: READ_ACCESS  <2>
- resource: Administration
  access: READ_WRITE_ACCESS
----
<1> For a full list of supported resources, navigate to *Access Control* -> *Permission Sets*.
<2> Access can be either `READ_ACCESS` or `READ_WRITE_ACCESS`.

[id="declarative-config-example-access-scope"]
== Declarative configuration access scope example

.Declarative configuration access scope example

[source,yaml]
----
name: A sample access scope
description: A sample access scope created declaratively
rules:
    included:
        - cluster: secured-cluster-A <1>
          namespaces:
            - namespaceA
        - cluster: secured-cluster-B <2>
    clusterLabelSelectors:
        - requirements:
            key: kubernetes.io/metadata.name
            operator: IN <3>
            values:
            - production
            - staging
            - environment
----
<1> Identifies a cluster where only specific namespaces are included within the access scope.
<2> Identifies a cluster where all namespaces are included within the access scope.
<3> Identifies the Operator to use for the label selection. Valid values are `IN`, `NOT_IN`, `EQUAL`, `EXISTS`, and `NOT_EXISTS`.

[id="declarative-config-example-role"]
== Declarative configuration role example

.Declarative configuration role example

[source,yaml]
----
name: A sample role
description: A sample role created declaratively
permissionSet: A sample permission set <1>
accessScope: Unrestricted <2>
----
<1> Name of the permission set; can be either one of the system permission sets or a declaratively-created permission set.
<2> Name of the access scope; can be either one of the system access scopes or a declaratively-created access scope.