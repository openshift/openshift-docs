// This module is included in the following assemblies:
// * pac/using-pac-resolver.adoc

:_content-type: REFERENCE
[id="using-remote-pipeline-annotations-with-pipelines-as-code_{context}"]
= Using remote pipeline annotations with {pac}

[role="_abstract"]
You can share a pipeline definition across multiple repositories by using the remote pipeline annotation.

[source,yaml]
----
...
    pipelinesascode.tekton.dev/pipeline: "<https://git.provider/raw/pipeline.yaml>" <1>
...
----
<1> URL to the remote pipeline definition. You can also provide locations for files inside the same repository.

[NOTE]
====
You can reference only one pipeline definition using the annotation.
====

[id="overriding-tasks-in-remote-pipeline_{context}"]
== Overriding a task in a remote pipeline

By default, if you use a remote pipeline annotation in a pipeline run, {pac} uses all the tasks that are a part of the remote pipeline.

You can override a task in a remote pipeline by adding a task annotation to the pipeline run. The added task must have the same name as a task in the remote pipeline.

For example, you might use the following pipeline run definition:

.Example pipeline run definition referencing a remote pipeline and overriding a task
[source,yaml]
----
kind: PipelineRun
metadata:
  annotations:
    pipelinesascode.tekton.dev/pipeline: "https://git.provider/raw/pipeline.yaml"
    pipelinesascode.tekton.dev/task: "./my-git-clone-task.yaml"
----

For this example, assume the remote task found at \https://git.provider/raw/pipeline.yaml includes a task named `git-clone` and the task that the `my-git-clone-task.yaml` file defines is also named `git-clone`.

In this case, the pipeline run executes the remote pipeline, but replaces the task named `git-clone` in the pipeline with the task you defined.
