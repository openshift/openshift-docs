:_mod-docs-content-type: CONCEPT
[id="sample-install-config-two-node-fencing-upi_{context}"]
= Sample install-config.yaml for a two-node user-provisioned infrastructure cluster with fencing

You can use the following `install-config.yaml` configuration as a template for deploying a two-node OpenShift cluster with fencing by using the user-provisioned infrastructure method:

[NOTE]
====
Do an etcd backup before proceeding to ensure that you can restore the cluster if any issues occur.
====

.Sample `install-config.yaml` configuration
[source,yaml]
----
apiVersion: v1
baseDomain: example.com
compute:
- name: worker
  replicas: 0
controlPlane:
  name: master
  replicas: 2
  fencing:
    credentials:
      - hostname: <control_0_hostname>
        address: https://<redfish-api-url>
        username: <username>
        password: <password>
      - hostname: <control_1_hostname>
        address: https://<redfish-api-url>
        username: <username>
        password: <password>
metadata:
  name: <cluster_name>
featureSet: TechPreviewNoUpgrade
platform:
  none: {}
pullSecret: '<pull_secret>'
sshKey: '<ssh_public_key>'
----
* `compute.replicas`: Set this field to `0` because a two-node fencing cluster does not include worker nodes.  
* `controlPlane.replicas`: Set this field to `2` for a two-node fencing deployment.  
* `fencing.credentials.hostname`: Provide BMC credentials for each control plane node.  
* `metadata.name`: Cluster name is used as a prefix for hostnames and DNS records.  
* `featureSet`: Enables two-node OpenShift cluster deployments.  
* `platform.none` Set the platform to `none` for user-provisioned infrastructure deployments. Bare-metal hosts are pre-provisioned outside of the installation program.
* `pullSecret`: Contains credentials required to pull container images for the cluster components.  
* `sshKey`: The SSH public key for accessing cluster nodes after installation.