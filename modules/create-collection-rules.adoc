// Module included in the following assemblies:
//
// * operating/create-use-collections.adoc
:_content-type: PROCEDURE
[id="creating-collection-rules_{context}"]
= Creating collection rules

When creating collections, you must configure at least one rule or attach another collection to the new collection that you are creating. 

[NOTE]
====
For {product-title-short} release 3.74, collections are available only for deployments.
====

Configure rules to select the resources to include in the collection. Use the preview panel to see the results of the collection rules as you configure them. You can configure rules in any order.

.Procedure

. In the *Deployments* section, select one of the following options from the drop-down list:
* *All deployments*: Includes all deployments in the collection. If you select this option, you must filter the collection by using namespaces or clusters or by attaching another collection. 
* *Deployments with names matching* Click this option to select by name and then click one of the following options:
** Select *An exact value of* and enter the exact name of the deployment.
** Select *A regex value of* to use regular expression to search for a deployment. This option is useful if you do not know the exact name of the deployment. A regular expression is a string of letters, numbers, and symbols that defines a pattern. {product-title-short} uses this pattern to match characters or groups of characters and return results. For more information about regular expression, see "Regular-Expressions.info" in the "Additional resources" section.
* *Deployments with labels matching exactly*: Click this option to select deployments with labels that match the exact text that you enter. The label must be a valid Kubernetes label in the format of `key=value`.
. Optional: To add more deployments with names or labels that match additional criteria for inclusion, click *OR* and configure another exact or regular expression value.

The following example provides the steps for configuring a collection for a medical application. In this example, you want your collection to include the `reporting` deployment, a database called `patient-db`, and you want to select namespaces with labels where `key = kubernetes.io/metadata.name` and `value = medical`. For this example, perform the following steps:

. In *Collection rules*, select *Deployments with names matching*.
. Click *An exact value of* and enter *reporting*.
. Click *OR*.
. Click *A regex value of* and enter `.*-db` to select all deployments with a name ending in `db` in your environment. The `regex value` option uses regular expression for pattern matching; for more information about regular expression, see "Regular-Expressions.info" in the Additional resources section. The panel on the right might display databases that you do not want to include. You can exclude those databases by using additional filters. For example:
.. Filter by namespace labels by clicking *Namespaces with labels matching exactly* and entering `kubernetes.io/metadata.name=medical` to include only deployments in the namespace that is labeled `medical`.
.. If you know the name of the namespace, click *Namespaces with names matching* and enter the name.
