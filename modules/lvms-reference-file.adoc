// Module included in the following assemblies:
//
// * storage/persistent_storage/persistent_storage_local/persistent-storage-using-lvms.adoc

:_mod-docs-content-type: REFERENCE
[id="lvms-reference-file_{context}"]
= {lvms} reference YAML file

The sample `LVMCluster` custom resource (CR) describes all the fields in the YAML file.

.Example LVMCluster CR
[source,yaml]
----
apiVersion: lvm.topolvm.io/v1alpha1
kind: LVMCluster
metadata:
  name: my-lvmcluster
spec:
  tolerations:
  - effect: NoSchedule
    key: xyz
    operator: Equal
    value: "true"
  storage:
    deviceClasses: <1>
    - name: vg1  <2>
      nodeSelector: <3>
        nodeSelectorTerms: <4>
        - matchExpressions:
          - key: mykey
            operator: In
            values:
            - ssd
      deviceSelector: <5>
        paths:
        - /dev/disk/by-path/pci-0000:87:00.0-nvme-1
        - /dev/disk/by-path/pci-0000:88:00.0-nvme-1
        - /dev/disk/by-path/pci-0000:89:00.0-nvme-1
      thinPoolConfig: <6>
        name: thin-pool-1 <7>
        sizePercent: 90 <8>
        overprovisionRatio: 10 <9>
        chunkSize: 128Ki <10>
        chunkSizeCalculationPolicy: Static <11>
status:
    deviceClassStatuses: <12>
    - name: vg1
      nodeStatus: <13>
      - devices: <14>
        - /dev/nvme0n1
        - /dev/nvme1n1
        - /dev/nvme2n1
        node: my-node.example.com <15>
        status: Ready <16>
    ready: true <17>
    state: Ready <18>
----
<1> The LVM volume groups to be created on the cluster. You can create only a single `deviceClass`.
<2> The name of the LVM volume group to be created on the nodes.
<3> The nodes on which to create the LVM volume group. If the field is empty, all nodes are considered.
<4> A list of node selector requirements.
<5> A list of device paths which is used to create the LVM volume group. If this field is empty, all unused disks on the node are used. After a device is added to the LVM volume volume group, it cannot be removed.
<6> The LVM thin pool configuration.
<7> The name of the thin pool to be created in the LVM volume group.
<8> The percentage of remaining space in the LVM volume group that should be used for creating the thin pool.
<9> The factor by which additional storage can be provisioned compared to the available storage in the thin pool.
<10> Specifies the statically calculated chunk size for the thin pool. This field is only used when the `ChunkSizeCalculationPolicy` field is set to `Static`. The value for this field must be configured in the range of 64 KiB to 1 GiB because of the underlying limitations of `lvm2`. If you do not configure this field and the `ChunkSizeCalculationPolicy` field is set to `Static`, the default chunk size is set to 128 KiB. For more information, see "Overview of chunk size".
<11> Specifies the policy to calculate the chunk size for the underlying volume group. You can set this field to either `Static` or `Host`. By default, this field is set to `Static`. If this field is set to `Static`, the chunk size is set to the value of the `chunkSize` field. If the `chunkSize` field is not configured, chunk size is set to 128 KiB.
<12> The status of the `deviceClass`.
<13> The status of the LVM volume group on each node.
<14> The list of devices used to create the LVM volume group.
<15> The node on which the `deviceClass` was created.
<16> The status of the LVM volume group on the node.
<17> This field is deprecated.
<18> The status of the `LVMCluster`.