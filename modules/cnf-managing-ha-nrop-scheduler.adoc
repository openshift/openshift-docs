// Module included in the following assemblies:
//
// *scalability_and_performance/cnf-numa-aware-scheduling.adoc
:_mod-docs-content-type: CONCEPT
[id="cnf-managing-ha-nrop_{context}"]
= Managing high availability (HA) for the NUMA-aware scheduler

--
:FeatureName: Managing high availability
include::snippets/technology-preview.adoc[]
--

The NUMA Resources Operator manages the high availability of the NUMA-aware secondary scheduler based on the `spec.replicas` field in the `NUMAResourcesScheduler` custom resource (CR). By default, the NUMA Resources Operator automatically enables HA mode by creating one scheduler replica for each control plane node, with a maximum of three replicas. 

The following manifest demonstrates this default behavior. To automatically enable replica detection, omit the `replicas` field.

[source,yaml,subs="attributes+"]
----
apiVersion: nodetopology.openshift.io/v1
kind: NUMAResourcesScheduler
metadata:
  name: example-auto-ha
spec:
  imageSpec: 'registry.redhat.io/openshift4/noderesourcetopology-scheduler-rhel9:v{product-version}'
  # The 'replicas' field is not included, enabling auto-detection.
----

You can control scheduler behavior by using one of the following options:

* Customizing the number of replicas.
* Disabling NUMA-aware scheduling.


