// Module included in the following assemblies:
//
// * machine_management/cpmso-configuration.adoc

:_mod-docs-content-type: REFERENCE
[id="cpmso-yaml-failure-domain-gcp_{context}"]
= Sample {gcp-short} failure domain configuration

[role="_abstract"]
To prevent downtime for your application due to the failure of a single {gcp-first} region, you can configure failure domains in the control plane machine set.
To use failure domains, you configure appropriate values in the `failureDomains` section of the `ControlPlaneMachineSet` custom resource (CR).

The control plane machine set concept of a failure domain is analogous to the existing {gcp-short} concept of a link:https://cloud.google.com/compute/docs/regions-zones[_zone_].
The `ControlPlaneMachineSet` CR spreads control plane machines across more than one failure domain when possible.

When configuring {gcp-short} failure domains in the control plane machine set, you must specify the zone name to use.

.Sample {gcp-short} failure domain values
[source,yaml]
----
apiVersion: machine.openshift.io/v1
kind: ControlPlaneMachineSet
metadata:
  name: cluster
  namespace: openshift-machine-api
spec:
# ...
  template:
# ...
    machines_v1beta1_machine_openshift_io:
      failureDomains:
        gcp:
        - zone: <gcp_zone_a> <1>
        - zone: <gcp_zone_b> <2>
        - zone: <gcp_zone_c>
        - zone: <gcp_zone_d>
        platform: GCP <3>
# ...
----
where:

`<gcp_zone_a>`::
Specifies a {gcp-short} zone for the first failure domain.
`<gcp_zone_b>`::
Specifies an additional failure domain.
`spec.template.machines_v1beta1_machine_openshift_io.failureDomains.platform`::
Specifies the cloud provider platform name.
Do not change this value.
