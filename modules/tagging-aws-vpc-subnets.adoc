
// Module included in the following assemblies:
//
// * networking/networking_operators/aws-load-balancer-operator.adoc
//

:_mod-docs-content-type: PROCEDURE
[id="tagging-aws-vpc-subnets_{context}"]
= Tagging the AWS VPC and subnets

[role="_abstract"]
To prepare your environment for the AWS Load Balancer Operator, tag your AWS VPC resources. This configuration ensures that the Operator can correctly identify and manage your network resources.

.Prerequisites

* You have installed the AWS CLI (`aws`).
* You have installed the {oc-first}.

.Procedure

. Set the environmental variables to the proper values for your ROSA deployment:
+
[source,terminal]
----
$ export VPC_ID=<vpc-id>
----
+
[source,terminal]
----
$ export PUBLIC_SUBNET_IDS="<public-subnet-a-id> <public-subnet-b-id> <public-subnet-c-id>"
----
+
[source,terminal]
----
$ export PRIVATE_SUBNET_IDS="<private-subnet-a-id> <private-subnet-b-id> <private-subnet-c-id>"
----

. Add a tag to your cluster's VPC with the cluster name:
+
[source,terminal]
----
$ aws ec2 create-tags --resources ${VPC_ID} --tags Key=kubernetes.io/cluster/${CLUSTER_NAME},Value=owned --region ${REGION}
----

. Add a tag to your public subnets:
+
[source,terminal]
----
$ aws ec2 create-tags \
     --resources ${PUBLIC_SUBNET_IDS} \
     --tags Key=kubernetes.io/role/elb,Value='' \
     --region ${REGION}
----

. Add a tag to your private subnets:
+
[source,terminal]
----
$ aws ec2 create-tags \
     --resources ${PRIVATE_SUBNET_IDS} \
     --tags Key=kubernetes.io/role/internal-elb,Value='' \
     --region ${REGION}

EOF
----

