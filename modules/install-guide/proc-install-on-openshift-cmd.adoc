[id="install-on-ocp-cmd_{context}"]
= Installing {prodname} on OpenShift from the command line
:prodname: Connectivity Link

NOTE: You must perform these steps on each OpenShift cluster that you want to use {prodname} on.

.Prerequisites

* See xref:install-prerequisites_{context}[].

.Procedure


. Create the namespace where you want to install the Operator as follows, for example, `kuadrant-system`:
+
[,bash]
----
kubectl create ns kuadrant-system
----

. To install the {prodname} Operator, enter the following command:
+
[,bash]
----
kubectl apply -f - <<EOF
apiVersion: operators.coreos.com/v1alpha1
kind: Subscription
metadata:
  name: rhcl-operator
  namespace: kuadrant-system
spec:
  channel: stable
  installPlanApproval: Automatic
  name: rhcl-operator
  source: redhat-operators
  sourceNamespace: openshift-marketplace
---
kind: OperatorGroup
apiVersion: operators.coreos.com/v1
metadata:
  name: kuadrant
  namespace: kuadrant-system
spec:
  upgradeStrategy: Default
EOF
----
+
Wait for the {prodname} Operators to be installed as follows:
+
[,bash]
----
kubectl get installplan -n kuadrant-system -o=jsonpath='{.items[0].status.phase}'
----
+
After some time, this command will return `Complete` when ready.

. To create your {prodname} deployment, enter the following command:
+
[,bash]
----
kubectl apply -f - <<EOF
apiVersion: kuadrant.io/v1beta1
kind: Kuadrant
metadata:
  name: kuadrant
  namespace: kuadrant-system
EOF

----
+
Wait for Kuadrant to be ready as follows:
+
[,bash]
----
kubectl wait kuadrant/kuadrant --for="condition=Ready=true" -n kuadrant-system --timeout=300s
----
+
This command will return `Complete` when ready.

//WARNING: {prodname} uses a number of labels to search and filter resources on the cluster. All required labels are formatted as `kuadrant.io/*`. Removal of any labels with the prefix may cause unexpected behavior and degradation of {prodname}.

.Additional resources
 
 * https://docs.redhat.com/en/documentation/openshift_container_platform/{ocp-latest-version}/html/operators/index[OpenShift Operators documentation].
