// Module included in the following assemblies:
//
// * integration/integrate-using-email.adoc
:_content-type: PROCEDURE
[id="configure-acs-kube-security-platform_{context}"]
= Configuring the email plugin 

The {product-title-short} notifier can send email to a recipient specified in the integration, or it can use annotations to determine the recipient. 

To use an annotation to dynamically determine an email recipient:

. Add an annotation similar to the following example in your deployment YAML file, where `email` is the `Annotation key` that you specify in your email integration.
+
[subs="+quotes"]
----
annotations:
  email: _<email_address>_
----

. Use the annotation key `email` in the *Annotation key for recipient* field when you configure {product-title-short}.

[NOTE]
====
You can create an annotation for the deployment or the namespace.
====

If you configured the deployment or namespace with an annotation, the {product-title-short} platform sends the alert to the email specified in the annotation. Otherwise, it sends the alert to the default recipient.

.Procedure

. Navigate to *Platform Configuration* -> *Integrations*.
. Under the *Notifier Integrations* section, select *Email*.
. Select *New Integration*.
. In the *Integration name* field, enter a name for your email integration.
. In the *Email server* field, enter the address of your email server. The email server address includes fully qualified domain name (FQDN) and the port number; for example, `smtp.example.com:465`.
. Optional: If you are using unauthenticated SMTP, select *Enable unauthenticated SMTP*. This is insecure and not recommended, but might be required for some integrations. For example, you might need to enable this option if you use an internal server for notifications that does not require authentication. 
+
[NOTE]
====
You cannot change an existing email integration that uses authentication to enable unauthenticated SMTP. You must delete the existing integration and create a new one with *Enable unauthenticated SMTP* selected. 
====
. Enter the user name and password of a service account that is used for authentication.
. Optional: Enter the name that you want to appear in the `FROM` header of email notifications in the *From* field; for example, `Security Alerts`.
. Specify the email address that you want to appear in the `SENDER` header of email notifications in the *Sender* field.
. Specify the email address that will receive the notifications in the *Default recipient* field.
. Optional: Enter an annotation key in *Annotation key for recipient*. If you provide an annotation and the deployment or the namespace has a key with this value, then notifications will be sent to the email address in the annotation. Otherwise, notifications are sent to the email specified in the *Default Recipient* field.
. Optional: Select *Disable TLS certificate validation (insecure)* to send email without TLS. You should not disable TLS unless you are using StartTLS.
+
[NOTE]
====
Use TLS for email notifications. Without TLS, all email is sent unencrypted.
====

. Optional: To use StartTLS, select either *Login* or *Plain* from the *Use STARTTLS (requires TLS to be disabled)* drop-down menu.
+
[IMPORTANT]
====
With StartTLS, credentials are passed in plain text to the email server before the session encryption is established.

* StartTLS with the *Login* parameter sends authentication credentials in a `*base64*` encoded string.
* StartTLS with the *Plain* parameter sends authentication credentials to your mail relay in plain text.
====
