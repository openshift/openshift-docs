// Module included in the following assemblies:
//
// * installing/installing_rhv/installing-rhv-custom.adoc

[id="installing-rhv-inspect-and-modify-params-in-install-config_{context}"]
= The installation configuration file

.The lifecycle of the installation configuration file

. When you run installation program with the `install-config` subcommand, it uses your responses and other information to create an `install-config.yaml` file in the assets directory you specify. For example:
+
----
 ~/my-custom-config/install-config.yaml
----
+
This file contains a series of parameters and values as name-value pairs in yaml format.

. After creating this file, you can inspect and edit some of the parameter values in it. For example, for troubleshooting, you can inspect the values to see if they contain errors. Similarly, you can edit the values. For example, you can increase the number of master or worker nodes.
+
[IMPORTANT]
====
If you make customizations that require additional resources, such as adding master or worker nodes, verify that your {rh-virtualization} environment has enough resources. Otherwise, these customizations might cause the installation to fail.
====

. When you finish inspecting or editing this file, you make a working copy of it for the installer to consume and delete. If you do not make a working copy, to install another cluster, you must repeat the process by running the installation program with the `install-config` subcommand.

. Finally, when you run the installation program with the `create cluster` subcommand, you specify the directory that contains the working copy of your configuration file.  While the installation program creates the cluster, it consumes and deletes the configuration file.

.Example `install-config.yaml` configuration file for installing {product-title} on {rh-virtualization}.

[IMPORTANT]
====
* The following numbered callouts show which parameter values you can change. Leave the other parameters values unchanged.
* Do not copy and paste the following example. Instead, run the installation program to create a new configuration file.
====

[source,yaml]
----
apiVersion: v1
baseDomain: virtlab.example.com <1>
compute:
- hyperthreading: Enabled
  name: worker
  platform: {}
  replicas: 2 <2>
controlPlane:
  hyperthreading: Enabled
  name: master
  platform: {}
  replicas: 3 <3>
metadata:
  name: mycluster <4>
platform:
  ovirt:
    api_vip: <ip-address> <5>
    dns_vip: <ip-address> <6>
    ingress_vip: <ip-address> <7>
    ovirt_cluster_id: <rhv-cluster-id> <8>
    ovirt_storage_domain_id: <rhv-storage-domain-id> <9>
publish: External
pullSecret: |
  <pull-secret> <10>
sshKey: |
  <ssh-public-key> <11>
----
<1> The base domain of the {product-title} cluster.
<2> `2` or more worker nodes.
<3> `3` or more master nodes.
<4> The new OpenShift cluster name.
<5> The static IP address of the OpenShift API, for which you created the `api.` DNS entry.
<6> The static IP address of the internal OpenShift DNS.
<7> The static IP address of the cluster applications, for which you created the `*.apps.` DNS entry.
<8> The {rh-virtualization} cluster ID.
<9> The {rh-virtualization} storage domain ID.
<10> Your pull secret in JSON format.
<11> Your public SSH key.
