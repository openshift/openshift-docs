// Module included in the following assemblies:
// * serverless-logic/serverless-logic-upgrading-operator-from-1-34-to-1-35


:_mod-docs-content-type: PROCEDURE
[id="serverless-logic-upgrade-scaling-down-workflows-with-gitops-profile_{context}"]
= Scaling down workflows with the gitops profile

Before upgrading the Operator, you must scale down workflows running with the `gitops` profile, and scale them up again after the upgrade is completed.

.Procedure

. Modify the `my-workflow.yaml` CRD and scale down each workflow to `zero` before upgrading as shown in the following example:
+
[source,yaml]
----
spec:
  podTemplate:
    replicas: 0
----

. Apply the updated CRD by running the following command:
+
[source,terminal]
----
$ oc apply -f <my-workflow.yaml> -n <target_namespace>
----

. (Optional) Scale the workflow to `0` by running the following command:
+
[source,terminal]
----
$ oc patch sonataflow <my-workflow> -n <target_namespace> --type=merge -p '{"spec": {"podTemplate": {"replicas": 0}}}'
----