// Module included in the following assemblies:
//
// * security/rosa-configuring-the-log-forwarder.adoc
:_mod-docs-content-type: PROCEDURE
[id="rosa-enable-log-forwarder.adoc_{context}"]
= Enabling the log forwarder

After you create an `IAM` role then set up a `CloudWatch` or `S3` bucket, you must enable the log forwarder to work with your {rosa-short} cluster. You must choose to create a new {rosa-short} cluster or use an exciting ROSA cluster. 

Complete the following steps: 

.Procedure

. Enable the log forwarder to send logs to your ROSA cluster. 
.. To create a new ROSA cluster for the log forwarder, run the following command:   
+
[source,terminal]
----
$ rosa create cluster --log-fwd-config="/path/to/file.yaml"
----
+
.. To use an existing ROSA cluster, run the following command:    
+
[source,terminal]
----
$ rosa create log-forwarder -c <cluster> --log-fwd-config="path/to/file.yaml"
----
+
. Configure your ROSA cluster to access logs from your chosen bucket. 
.. To use the `CloudWatch` bucket, apply the following JSON sample:  
+
[source,json]
----
cloudwatch:
  cloudwatch_log_role_arn: "arn:aws:iam::123456789012:role/RosaCloudWatch"
  cloudwatch_log_group_name: "rosa-logs"
  applications: ["cluster-api", "etcd"]
  groups: ["api", "authentication", "controller manager", "scheduler"]
----
+
.. To use the `S3` bucket, apply the following JSON sample:  
+
[source,json]
----
s3:
  s3_config_bucket_name: "my-log-bucket"
  s3_config_bucket_prefix: "my-bucket-prefix"
  applications: ["cluster-api", "etcd"]
  groups: ["api", "authentication", "controller manager", "scheduler"]
----
+