// Module included in the following assemblies:
//
// * service-mesh-docs-main/install/ossm-cert-manager-assembly.adoc

:_mod-docs-content-type: PROCEDURE
[id="installing-istio-resource_{context}"]
= Installing your Istio resource

//TP1 content influx. Title, etc may change.
//Content is very similar to 2.x content
//all kinds of formatting things to fix. want to see if a build will generate to have a look, and see how it fits structurally with the IA.


After you have installed `istio-csr` by following the procedure for either an in place or revision based update strategy, you can install the `Istio` resource.

You need to disable Istio's built in CA server and tell istiod to use the `istio-csr` CA server. The `istio-csr` CA server issues certificates for both istiod and user workloads.

.Procedure

. Create the `Istio` object as shown in the following example:
+
.Example `istio.yaml` object
[source, yaml]
----
apiVersion: sailoperator.io/v1alpha1
kind: Istio
metadata:
  name: default
spec:
  version: v1.23.0
  namespace: istio-system
  values:
    global:
      caAddress: cert-manager-istio-csr.cert-manager.svc:443
    pilot:
      env:
        ENABLE_CA_SERVER: "false"
      volumeMounts:
        - mountPath: /tmp/var/run/secrets/istiod/tls
          name: istio-csr-dns-cert
          readOnly: true
----
+
[NOTE]
====
If you installed your CSR agent with a revision based update strategy, then you need to add the following to your `Istio` object YAML:

[source, yaml]
----
kind: Istio
metadata:
  name: default
spec:
  updateStrategy:
    type: RevisionBased
----
====

. Create the `Istio` resource by running the following command:
+
[source, terminal]
----
$ oc apply -f istio.yaml
----

. Wait for the `Istio` object to become ready by running the following command:
+
[source, terminal]
----
$ oc wait --for=condition=Ready istios/default -n istio-system
----

