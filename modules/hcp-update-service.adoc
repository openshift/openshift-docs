// Module included in the following assemblies:
//
// * hosted_control_planes/hcp-updating.adoc

:_mod-docs-content-type: PROCEDURE
[id="hcp-update-service_{context}"]
= Setting the updateService field in HostedCluster

You can configure the update service by using a specific update service URL in the `updateService` field of the `HostedCluster` resource. By default, the hosted cluster uses the OpenShift Update Service (OSUS) based on its region and configuration.

Consider the following environments where you can use the update service:

* Private or disconnected: To update your cluster in an environment without access to the public OSUS.
* Regional: To direct the update service to a specific regional server for compliance or performance optimization.
* Custom: For environments that host their own OSUS and need updates to be sourced internally rather than from the default Red{nbsp}Hat services.

.Procedure

* To set a custom update service, add the update service URL to the `updateService` field in the `HostedCluster` resource. Run the following command:
+
[source,terminal]
----
$ oc patch hostedcluster <hosted_cluster_name> --type=merge -p '{"spec":{"updateService":<update_server_url>"}}' <1>
----
<1> Replace `<update_service_url>` with the URL of your desired update service.


[TIP]
====
If you face issues, ensure that the Cluster Version Operator (CVO) retrieved your desired updates by checking the status of the `ClusterVersionRetrievedUpdates` field. Run the following command:

[source,terminal]
----
$ oc -n <hosted_cluster_namespace> get -o jsonpath-as-json='{.status.conditions[?(@.type == "ClusterVersionRetrievedUpdates")]}' hostedcluster <hosted_cluster_name>
----
====

.Verification

. Verify that the update service is successfully retrieved by the CVO by running the following command:
+
[source,terminal]
----
$ oc get hostedcluster <hosted_cluster_name> -o jsonpath='{.status.version.desired.channels}'
----

. Verify that the update service URL is successfully set in the `updateService` field by running the following command:
+
[source,terminal]
----
$ oc get hostedcluster <hosted_cluster_name> -o jsonpath='{.spec.updateService}'
----
+
.Example output
[source,terminal]
----
https://custom-update-service.example.com/api/upgrades_info/v1/graph
----
