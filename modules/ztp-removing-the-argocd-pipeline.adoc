// Module included in the following assemblies:
//
// *scalability_and_performance/ztp-deploying-disconnected.adoc

:_content-type: PROCEDURE
[id="ztp-removing-the-argocd-pipeline_{context}"]
= Removing the ArgoCD pipeline

Use the following procedure to remove the ArgoCD pipeline and all generated artifacts.

.Procedure

. Detach all spoke clusters from ACM.

. Delete all `SiteConfig` and `PolicyGenTemplate` custom resources (CRs) from your site configuration Git repo and push the changes to the Git repo.
+
Wait for the changes to synchronize in the ArgoCD application and for the affected policies to be removed from the hub cluster.

. Delete all policy namespaces.

. Delete the deployment CRs:
+
[source,terminal]
----
$ oc delete -k ztp/argocd/deployment/
----
