// Module included in the following assemblies:
//
// * installing/installing_bare_metal/preparing-to-install-on-bare-metal.adoc
// * installing/installing_bare_metal/ipi/ipi-install-prerequisites.adoc

:_mod-docs-content-type: REFERENCE
[id="virt-planning-bare-metal-cluster-for-ocp-virt_{context}"]
= Bare-metal cluster installation requirements for {VirtProductName}

[role="_abstract"]
If you plan to use {VirtProductName} on a bare-metal cluster, you must ensure that your cluster is configured correctly during installation.
This is because {VirtProductName} requires certain settings that cannot be changed after a cluster is installed.

[id="virt-planning-bare-metal-cluster-for-ocp-virt-HA_{context}"]
== High availability requirements for {VirtProductName}

When discussing high availability (HA) features in the context of {VirtProductName}, this refers only to the replication model of the core cluster components, determined by the `controlPlaneTopology` and `infrastructureTopology` fields in the `Infrastructure` custom resource (CR).
Setting these fields to `HighlyAvailable` offers component redundancy, which is distinct from general cluster-wide application HA. Setting these fields to `SingleReplica` disables component redundancy, and therefore disables {VirtProductName} HA features.

If you plan to use {VirtProductName} HA features, you must have three control plane nodes at the time of cluster installation. The `controlPlaneTopology` status in the `Infrastructure` CR for the cluster must be `HighlyAvailable`.

[NOTE]
====
You can install {VirtProductName} on a single-node cluster, but {sno} does not support HA features.
====

[id="virt-planning-bare-metal-cluster-for-ocp-virt-LM_{context}"]
== Live migration requirements for {VirtProductName}

* If you plan to use live migration, you must have multiple worker nodes. The `infrastructureTopology` status in the `Infrastructure` CR for the cluster must be `HighlyAvailable`, and a minimum of three worker nodes is recommended.
+
[NOTE]
====
You can install {VirtProductName} on a single-node cluster, but {sno} does not support live migration.
====

* Live migration requires shared storage. Storage for {VirtProductName} must support and use the ReadWriteMany (RWX) access mode.

[id="virt-planning-bare-metal-cluster-for-ocp-virt-SR-IOV_{context}"]
== SR-IOV requirements for {VirtProductName}

If you plan to use Single Root I/O Virtualization (SR-IOV), ensure that your network interface controllers (NICs) are supported by {product-title}.
