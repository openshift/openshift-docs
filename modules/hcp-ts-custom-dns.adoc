// Module included in the following assemblies:
//
// * hosted-control-planes/hcp-certificates.adoc

:_mod-docs-content-type: PROCEDURE
[id="hcp-ts-custom-dns_{context}"]
= Troubleshooting accessing a hosted cluster by using a custom DNS

If you encounter issues when you access a hosted cluster by using a custom DNS, complete the following steps.

.Procedure

. Verify that the DNS record is properly configured and resolved.

. Check that the TLS certificates for the custom domain are valid, verifying that the SAN is correct for your domain, by entering the following command:
+
[source,terminal]
----
$ oc get secret \
  -n clusters <serving_certificate_name> \
  -o jsonpath='{.data.tls\.crt}' | base64 \
  -d |openssl x509 -text -noout -
----

. Ensure that network connectivity to the custom domain is working.

. In the `HostedCluster` resource, verify that the status shows the correct custom `kubeconfig` information, as shown in the following example:
+

.Example `HostedCluster` status
[source,yaml]
----
status:
  customKubeconfig:
    name: sample-hosted-custom-admin-kubeconfig
----

. Check the `kube-apiserver` logs in the `HostedControlPlane` namespace by entering the following command:
+
[source,terminal]
----
$ oc logs -n <hosted_control_plane_namespace> \
  -l app=kube-apiserver -f -c kube-apiserver
----
