// Module included in the following assemblies:
//
// * operating/manage_security_policies/custom-security-policies.adoc
:_mod-docs-content-type: CONCEPT
[id="policy-as-code-about_{context}"]
= Managing polices as code

[role="_abstract"]

You can create and manage policies as code by saving policies as Kubernetes custom resources (CRs) and applying them to clusters by using a Kubernetes-native continuous delivery (CD) tool such as Argo CD.

:FeatureName: Policy as code
include::snippets/technology-preview.adoc[]

Policy as code is useful for Kubernetes security architects who want to author policies in YAML or JSON instead of using the {product-title-short} portal. GitOps administrators who already manage Kubernetes configurations by using a GitOps workflow can also find it useful.

{product-title-short} provides the ability to use default policies or create custom policies for your system. With the policy as code feature, you can create custom policies locally by downloading them and modifying them, or by creating them from empty files. To author policies locally, you create CRs that represent the desired state of the policies. You then use a continuous delivery tool such as Argo CD to track, manage, and apply policies to your clusters that are running {product-title-short}. After you create or update CRs and use the CI/CD tool to apply them, the policies stored in the {product-title-short} database are created or updated.

With this feature, {product-title-short} installs a new Kubernetes controller in the namespace where Central is installed, typically the `stackrox` namespace. With an Argo CD workflow, you configure Argo CD to apply policy as code resources to the same namespace in which {product-title-short} is installed. After you configure this connection, the controller in {product-title-short} receives information from the Kubernetes API about new, updated, or deleted policies that are managed as individual Kubernetes CR files. {product-title-short} reconciles the policy CR to the policy stored in the {product-title-short} database.

// future: architecture diagram

With a GitOps workflow that does not use Argo CD, you configure your GitOps repository to connect to Central in {product-title-short} through the {product-title-short} API. A CR is not used.


