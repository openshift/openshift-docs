// Module included in the following assemblies:
//
// * operating/visualizing-external-entities.adoc
:_mod-docs-content-type: PROCEDURE
[id="enabling-external-ip-collection-secured-clusters_{context}"]
= Enabling external IP collection in secured clusters

[role="_abstract"]
To enable external IP collection in secured clusters, you must individually configure each secured cluster's runtime configuration.

You can have some clusters with the functionality enabled while others remain disabled. In this case, external IP information is only available for the clusters where you have enabled the feature.

You can use a `ConfigMap` object to enable the external IP collection in secured clusters.

.Procedure

* Create a `ConfigMap` object called `collector-config` with the following content:
+
[source,yaml]
----
apiVersion: v1
kind: ConfigMap
metadata:
  name: collector-config
  namespace: stackrox
data:
  runtime_config.yaml: | <1>
    networking:
      externalIps:
        enable: true
----
<1> {product-title-short} mounts this file at `/etc/stackrox/runtime_config.yaml`.


Whenever you create or update the `ConfigMap` object, the collector refreshes the runtime configuration. When you delete the `ConfigMap` object, the settings revert to the default runtime configuration values.
