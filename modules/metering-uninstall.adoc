// Module included in the following assemblies:
//
// * metering/metering-uninstall.adoc

[id="metering-uninstall_{context}"]
= Uninstalling the Metering Operator from {product-title}

You can remove the Metering Operator and the associated metering components from your cluster.

[NOTE]
====
Metering does not manage or delete any S3 bucket data. If you used Amazon S3 for storage, any S3 buckets used to store metering data must be manually cleaned up.
====

== Removing the Metering Operator

You can remove the Metering Operator by following the documentation on xref:../operators/olm-deleting-operators-from-cluster.adoc#olm-deleting-operators-from-a-cluster[deleting Operators from a cluster].

== Uninstalling metering

To uninstall metering, you must remove the MeteringConfig resource and delete the `openshift-metering` namespace.

.Prerequisites

* You have uninstalled Metering following the documentation listed in the previous step.

.Procedure

. Remove all resources created by the Metering Operator:
+
----
$ oc --namespace openshift-metering delete meteringconfigs <1>
----
+
<1> The name of the MeteringConfig resource that is present in the openshift-metering namespace.
+

. Once the previous step is complete, verify that all Pods in the openshift-metering namespace are deleted.

. Delete the openshift-metering namespace:

+
----
$ oc delete namespace openshift-metering
----

== Uninstalling metering CRDs

Once the Metering Operator is uninstalled and the openshift-metering namespace is deleted, the metering CRDs remain in the cluster.

[NOTE]
====
Deleting the metering CRDs disrupts any additional metering installations in other namespaces. Ensure that there are no other metering installations before proceeding.
====

.Prerequisites

* The MeteringConfig custom resource is deleted.

* The openshift-metering namespace is deleted.

.Procedure

. Delete the remaining metering CRDs:
+
----
$ oc get crd -o name | grep "metering.openshift.io" | xargs oc delete
----
