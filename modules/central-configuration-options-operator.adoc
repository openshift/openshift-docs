// Module included in the following assemblies:
//
// * installing/installing_ocp/install-central-config-options-ocp.adoc
:_mod-docs-content-type: CONCEPT
[id="central-configuration-options-operator_{context}"]
= Central configuration options using the Operator

[role="_abstract"]
When you create a Central instance, the Operator lists the following configuration options for the `Central` custom resource.

The following table includes settings for an external PostgreSQL database.

[id="central-settings_{context}"]
== Central settings

[cols="1,3"]
|===
| Parameter | Description

| `central.adminPasswordSecret`
| Specify a secret that contains the administrator password in the `password` data item. If omitted, the operator autogenerates a password and stores it in the `password` item in the `central-htpasswd` secret.

|`central.defaultTLSSecret`
| By default, Central only serves an internal TLS certificate, which means that you need to handle TLS termination at the ingress or load balancer level. If you want to terminate TLS in Central and serve a custom server certificate, you can specify a secret containing the certificate and private key.

|`central.adminPasswordGenerationDisabled`
|Set this parameter to `true` to disable the automatic administrator password generation. Use this only after you perform the first-time setup of alternative authentication methods.
Do not use this for initial installation.
Otherwise, you must reinstall the custom resource to log back in.

| `central.tolerations`
| If the node selector selects tainted nodes, use this parameter to specify a taint toleration key, value, and effect for Central. This parameter is mainly used for infrastructure nodes.

| `central.hostAliases`
| Use this parameter to inject hosts and IP addresses into the pod's hosts file.

|`central.exposure.loadBalancer.enabled`
|Set this to `true` to expose Central through a load balancer.

|`central.exposure.loadBalancer.port`
|Use this parameter to specify a custom port for your load balancer.

|`central.exposure.loadBalancer.ip`
|Use this parameter to specify a static IP address reserved for your load balancer.

|`central.exposure.route.enabled`
|Set this to `true` to expose Central through a {osp} route. The default value is `false`.

|`central.exposure.route.host`
|Specify a custom hostname to use for Central's route. Leave this unset to accept the default value that {ocp} provides.

|`central.exposure.nodeport.enabled`
|Set this to `true` to expose Central through a node port. The default value is `false`.

|`central.exposure.nodeport.port`
|Use this to specify an explicit node port.

|`central.monitoring.exposeEndpoint`
|Use `Enabled` to enable monitoring for Central. When you enable monitoring, {product-title-short} creates a new monitoring service on port number `9090`. The default value is `Disabled`.

|`central.nodeSelector`
|If you want this component to only run on specific nodes, you can use this parameter to configure a node selector.

|`central.persistence.hostPath.path`
|Specify a host path to store persistent data in a directory on the host. Red{nbsp}Hat does not recommend using this. If you need to use host path, you must use it with a node selector.

|`central.persistence.persistentVolumeClaim.claimName`
|The name of the PVC to manage persistent data.
If no PVC with the given name exists, it is created. The default value is `stackrox-db` if not set. To prevent data loss, the PVC is not removed automatically when Central is deleted.

|`central.persistence.persistentVolumeClaim.size`
| The size of the persistent volume when created through the claim. This is automatically generated by default.

|`central.persistence.persistentVolumeClaim.storageClassName`
| The name of the storage class to use for the PVC. If your cluster is not configured with a default storage class, you must provide a value for this parameter.

|`central.resources.limits`
| Use this parameter to override the default resource limits for the Central.

|`central.resources.requests`
| Use this parameter to override the default resource requests for the Central.

|`central.imagePullSecrets`
|Use this parameter to specify the image pull secrets for the Central image.

| `central.db.passwordSecret.name`
| Specify a secret that has the database password in the `password` data item. Only use this parameter if you want to specify a connection string manually. If omitted, the operator auto-generates a password and stores it in the `password` item in the `central-db-password` secret.

|`central.db.connectionString`
a| Setting this parameter will not deploy Central DB, and Central will connect using the specified connection string. If you specify a value for this parameter, you must also specify a value for `central.db.passwordSecret.name`.
This parameter has the following constraints:

* Connection string must be in keyword/value format as described in the PostgreSQL documentation. For more information, see the links in the *Additional resources* section.
* Only PostgreSQL 13 is supported.
* Connections through PGBouncer are not supported.
* User must be a superuser who can create and delete databases.

| `central.db.tolerations`
| If the node selector selects tainted nodes, use this parameter to specify a taint toleration key, value, and effect for Central DB. This parameter is mainly used for infrastructure nodes.

| `central.db.hostAliases`
| Use this parameter to inject hosts and IP addresses into the pod's hosts file.

|`central.db.persistence.hostPath.path`
|Specify a host path to store persistent data in a directory on the host. Red{nbsp}Hat does not recommend using this. If you need to use host path, you must use it with a node selector.

|`central.db.persistence.persistentVolumeClaim.claimName`
|The name of the PVC to manage persistent data.
If no PVC with the given name exists, it is created. The default value is `central-db` if not set. To prevent data loss, the PVC is not removed automatically when Central is deleted.

|`central.db.persistence.persistentVolumeClaim.size`
| The size of the persistent volume when created through the claim. This is automatically generated by default.

|`central.db.persistence.persistentVolumeClaim.storageClassName`
| The name of the storage class to use for the PVC. If your cluster is not configured with a default storage class, you must provide a value for this parameter.

|`central.db.resources.limits`
| Use this parameter to override the default resource limits for the Central DB.

|`central.db.resources.requests`
| Use this parameter to override the default resource requests for the Central DB.

|===

[id="scanner-settings_{context}"]
== StackRox Scanner settings

[cols="1,3"]
|===
| Parameter | Description

| `scanner.analyzer.nodeSelector`
| If you want this scanner to only run on specific nodes, you can use this parameter to configure a node selector.

| `scanner.analyzer.tolerations`
| If the node selector selects tainted nodes, use this parameter to specify a taint toleration key, value, and effect for the StackRox Scanner. This parameter is mainly used for infrastructure nodes.

| `scanner.analyzer.hostAliases`
| Use this parameter to inject hosts and IP addresses into the pod's hosts file.

| `scanner.analyzer.resources.limits`
| Use this parameter to override the default resource limits for the StackRox Scanner.

| `scanner.analyzer.resources.requests`
| Use this parameter to override the default resource requests for the StackRox Scanner.

| `scanner.analyzer.scaling.autoScaling`
| When enabled, the number of analyzer replicas is managed dynamically based on the load, within the limits specified.

| `scanner.analyzer.scaling.maxReplicas`
| Specifies the maximum replicas to be used in the analyzer autoscaling configuration

| `scanner.analyzer.scaling.minReplicas`
| Specifies the minimum replicas to be used in the analyzer autoscaling configuration

| `scanner.analyzer.scaling.replicas`
| When autoscaling is disabled, the number of replicas is always configured to match this value.

| `scanner.db.nodeSelector`
| If you want this component to only run on specific nodes, you can use this parameter to configure a node selector.

| `scanner.db.tolerations`
| If the node selector selects tainted nodes, use this parameter to specify a taint toleration key, value, and effect for the StackRox Scanner DB. This parameter is mainly used for infrastructure nodes.

| `scanner.db.hostAliases`
| Use this parameter to inject hosts and IP addresses into the pod's hosts file.

| `scanner.db.resources.limits`
| Use this parameter to override the default resource limits for the StackRox Scanner DB.

| `scanner.db.resources.requests`
| Use this parameter to override the default resource requests for the StackRox Scanner DB.

|`scanner.monitoring.exposeEndpoint`
|Use `Enabled` to enable monitoring for the StackRox Scanner. When you enable monitoring, {product-title-short} creates a new monitoring service on port number `9090`. The default value is `Disabled`.

| `scanner.scannerComponent`
| If you do not want to deploy the StackRox Scanner, you can disable it by using this parameter. If you disable the StackRox Scanner, all other settings in this section have no effect. Red{nbsp}Hat does not recommend disabling {product-title} the StackRox Scanner. Do not disable the StackRox Scanner if you have enabled Scanner V4. Scanner V4 requires that the StackRox Scanner is also enabled to provide the necessary scanning capabilities.

|===

[id="scannerv4-settings_{context}"]
== Scanner V4 settings (Technology Preview)

:FeatureName: Scanner V4
include::snippets/technology-preview.adoc[]

[cols="1,3"]
|===
| Parameter | Description

| `scannerV4.db.nodeSelector`
| If you want this component to only run on specific nodes, you can use this parameter to configure a node selector.

| `scannerV4.db.tolerations`
| If the node selector selects tainted nodes, use this parameter to specify a taint toleration key, value, and effect for Scanner V4 DB. This parameter is mainly used for infrastructure nodes.

| `scannerV4.db.hostAliases`
| Use this parameter to inject hosts and IP addresses into the pod's hosts file.

| `scannerV4.db.resources.limits`
| Use this parameter to override the default resource limits for Scanner V4 DB.

| `scannerV4.db.resources.requests`
| Use this parameter to override the default resource requests for Scanner V4 DB.

| `scannerV4.db.persistence.persistentVolumeClaim.claimName`
|The name of the PVC to manage persistent data for Scanner V4.
If no PVC with the given name exists, it is created. The default value is `scanner-v4-db` if not set. To prevent data loss, the PVC is not removed automatically when Central is deleted.

| `scannerV4.indexer.nodeSelector`
| If you want this component to only run on specific nodes, you can use this parameter to configure a node selector.

| `scannerV4.indexer.tolerations`
| If the node selector selects tainted nodes, use this parameter to specify a taint toleration key, value, and effect for the Scanner V4 Indexer. This parameter is mainly used for infrastructure nodes.

| `scannerV4.indexer.hostAliases`
| Use this parameter to inject hosts and IP addresses into the pod's hosts file.

| `scannerV4.indexer.resources.limits`
| Use this parameter to override the default resource limits for the Scanner V4 Indexer.

| `scannerV4.indexer.resources.requests`
| Use this parameter to override the default resource requests for the Scanner V4 Indexer.

| `scannerV4.indexer.scaling.autoScaling`
| When enabled, the number of Scanner V4 Indexer replicas is managed dynamically based on the load, within the limits specified.

| `scannerV4.indexer.scaling.maxReplicas`
| Specifies the maximum replicas to be used in the Scanner V4 Indexer autoscaling configuration.

| `scannerV4.indexer.scaling.minReplicas`
| Specifies the minimum replicas to be used in the Scanner V4 Indexer autoscaling configuration.

| `scannerV4.indexer.scaling.replicas`
| When autoscaling is disabled for the Scanner V4 Indexer, the number of replicas is always configured to match this value.

| `scannerV4.matcher.nodeSelector`
| If you want this component to only run on specific nodes, you can use this parameter to configure a node selector.

| `scannerV4.matcher.tolerations`
| If the node selector selects tainted nodes, use this parameter to specify a taint toleration key, value, and effect for the Scanner V4 Matcher. This parameter is mainly used for infrastructure nodes.

| `scannerV4.matcher.hostAliases`
| Use this parameter to inject hosts and IP addresses into the pod's hosts file.

| `scannerV4.matcher.resources.limits`
| Use this parameter to override the default resource limits for the Scanner V4 Matcher.

| `scannerV4.matcher.resources.requests`
| Use this parameter to override the default resource requests for the Scanner V4 Matcher.

| `scannerV4.matcher.scaling.autoScaling`
| When enabled, the number of Scanner V4 Matcher replicas is managed dynamically based on the load, within the limits specified.

| `scannerV4.matcher.scaling.maxReplicas`
| Specifies the maximum replicas to be used in the Scanner V4 Matcher autoscaling configuration.

| `scannerV4.matcher.scaling.minReplicas`
| Specifies the minimum replicas to be used in the Scanner V4 Matcher autoscaling configuration.

| `scannerV4.matcher.scaling.replicas`
| When autoscaling is disabled for the Scanner V4 Matcher, the number of replicas is always configured to match this value.

| `scannerV4.monitoring.exposeEndpoint`
| Configures a monitoring endpoint for Scanner V4. The monitoring endpoint allows other services to collect metrics from Scanner V4, provided in a Prometheus-compatible format. Use `Enabled` to expose the monitoring endpoint. When you enable monitoring, {product-title-short} creates a new service, `monitoring`, with port 9090, and a network policy allowing inbound connections to the port. By default, this is not enabled.

| `scannerV4.scannerComponent`
| Enables Scanner V4. The default value is `default`, which is disabled. To enable Scanner V4, set this parameter to `Enabled`.

|===


[id="general-and-miscellaneous-settings_{context}"]
== General and miscellaneous settings

[cols="1,3"]
|===
| Parameter | Description

| `tls.additionalCAs`
| Additional Trusted CA certificates for the secured cluster to trust.
These certificates are typically used when integrating with services using a private certificate authority.

| `misc.createSCCs`
| Specify `true` to create `SecurityContextConstraints` (SCCs) for Central.
Setting to `true` might cause issues in some environments.

| `customize.annotations`
| Allows specifying custom annotations for the Central deployment.

| `customize.envVars`
| Advanced settings to configure environment variables.

| `egress.connectivityPolicy`

| Configures whether {product-title-short} should run in online or offline mode. In offline mode, automatic updates of vulnerability definitions and kernel modules are disabled.

| `monitoring.openshift.enabled`
| If you set this option to `false`, {product-title} will not set up {osp} monitoring. Defaults to `true` on {osp} 4.

| `overlays`
| See Customizing the installation using the operator with overlays

|===
