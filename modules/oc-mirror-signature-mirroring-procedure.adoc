// Module included in the following assemblies:
//
// * installing/disconnected_install/installing-mirroring-disconnected-v2.adoc

:_mod-docs-content-type: PROCEDURE
[id="oc-mirror-signature-mirroring-procedure_{context}"]
= Disabling signature mirroring for oc-mirror plugin v2

[role="_abstract"]
You can disable signature mirroring for all images by providing the `--remove-signatures` flag for the `oc mirror` command. You can disable signature mirroring when your destination registry does not support signature storage or when you need to bypass failures caused by invalid or expired signatures at the source.

.Procedure

. If you want to disable signature mirroring for all images, add `remove-signatures` flag while mirroring images. For example:
+
[source,terminal]
----
$ oc mirror --config=imageset-config.yaml <destination_registry> --remove-signatures
----

. If you want to enable or disable signature mirroring for specific elements, such as transport protocol, registry, namespace or image, use the following steps:

.. Create a YAML file in either the `$HOME/.config/containers/registries.d/` or `/etc/containers/registries.d/` directory.

.. Specify the `use-sigstore-attachments` parameter and set it to either `true` or `false` under the specific element you want to control, as seen in the following examples:
+
.Example: Disable signature mirroring for the `quay.io` registry
[source,yaml]
----
# ...
docker:
  quay.io:
    use-sigstore-attachments: false
# ...
----
+
.Example: Enable signature mirroring for all registries
[source,yaml]
----
# ...
default-docker:
  use-sigstore-attachments: true
# ...
----
