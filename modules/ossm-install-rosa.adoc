////
This module included in the following assemblies:
* service_mesh/v2/ossm-create-smcp.adoc
////

ifdef::openshift-rosa[]
:_mod-docs-content-type: REFERENCE
[id="ossm-install-rosa_{context}"]
= Restrictions on Kiali configuration on {product-rosa}

{product-rosa} places additional restrictions on where you can create resources and does not let you create the Kiali resource in a Red Hat managed namespace.

This means that the following common settings for `spec.deployment.accessible_namespaces` are not allowed in a ROSA cluster:
endif::openshift-rosa[]

ifdef::openshift-dedicated[]
:_mod-docs-content-type: REFERENCE
[id="ossm-install-rosa_{context}"]
= Restrictions on Kiali configuration on {product-dedicated}

{product-dedicated} places additional restrictions on where you can create resources and does not let you create the Kiali resource in a Red Hat managed namespace.

This means that the following common settings for `spec.deployment.accessible_namespaces` are not allowed in a ROSA cluster:
endif::openshift-dedicated[]

* `['**']`   (all namespaces)
* `default`
* `codeready-*`
* `openshift-*`
* `redhat-*`

The validation error message provides a complete list of all the restricted namespaces.

.Example `Kiali` resource for ROSA
[source,yaml]
----
apiVersion: kiali.io/v1alpha1
kind: Kiali
metadata:
  name: kiali
  namespace: istio-system
spec:
  auth:
    strategy: openshift
  deployment:
    accessible_namespaces:   #restricted setting for ROSA
      - istio-system
    image_pull_policy: ''
    ingress_enabled: true
    namespace: istio-system
----
