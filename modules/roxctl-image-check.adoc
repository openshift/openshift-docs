// Module included in the following assemblies:
//
// * command-reference/roxctl-image.adoc

:_mod-docs-content-type: REFERENCE
[id="roxctl-image-check_{context}"]
= roxctl image check

Check images for build time policy violations, and report them. This command queries Central and Scanner to check the input image against a set of policies. If the image violates any build-time policy of the requested policy set, which is by default all policies, then the FAIL_BUILD_ENFORCEMENT flag is set. The check result is an error with the return code of 1.

.Usage
[source,terminal]
----
$ roxctl image check [flags]
----

.Options
[cols="5,4",options="header"]
|===
|Option |Description

|`-c`, `--categories strings`
|List of the policy categories that you want to execute. By default, all the policy categories are used.

|`--cluster string`
|Define the cluster name or ID that you want to use as the context for evaluation.

|`--compact-output`
|Print JSON output in a compact format. The default value is `false`.

|`-f`, `--force`
|Bypass the Central cache for the image and force a new pull from the Scanner. The default value is `false`.

|`--headers strings`
|Define headers to print in a tabular output. The default values include `POLICY`, `SEVERITY`, `BREAKS BUILD`, `DESCRIPTION`, `VIOLATION`, and `REMEDIATION`.

|`--headers-as-comments`
|Print headers as comments in a CSV tabular output. The default value is `false`.

|`-i`, `--image string`
|Specify the image name and reference. For example, `nginx:latest` or `nginx@sha256:...)`.

|`--junit-suite-name string`
|Set the name of the JUnit test suite. Default value is `image-check`.

|`--merge-output`
|Merge duplicate cells in a tabular output. The default value is `false`.

|`--namespace`
|Specify a namespace on the secured cluster from which to read context information, specifically pull secrets to access the image registry, when delegating image scans.

|`--no-header`
|Do not print headers for a tabular output. The default value is `false`.

|`-o`, `--output string`
|Choose the output format. Output formats include `junit`, `sarif`, `table`, `csv`, and `json`. The default value is `table`.

|`-r`, `--retries int`
|Set the number of retries before exiting as an error. The default value is `3`.

|`-d`, `--retry-delay int`
|Set the time to wait between retries in seconds. The default value is `3`.

|`--row-jsonpath-expressions string`
|Create a row from the JSON object by using JSON path expression. For more details, run the `roxctl image check --help` command.

|`--send-notifications`
|Define whether you want to send notifications in the event of violations. The default value is `false`.
|===