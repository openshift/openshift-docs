// Module included in the following assemblies:
//
// * installing/disconnected_install/installing-mirroring-disconnected-v2.adoc
// * updating/updating_a_cluster/updating_disconnected_cluster/mirroring-image-repository.adoc

:_mod-docs-content-type: CONCEPT
[id="installation-oc-mirror-v2-about_{context}"]
= About the oc-mirror plugin V2

You can use the oc-mirror OpenShift CLI (`oc`) plugin to mirror all required {product-title} content and other images to your mirror registry by using a single tool. 

oc-mirror v2 is a new implementation of oc-mirror, based on community feedback on the existing version. It is available as a Tech Preview feature. To use it, add the `--v2` flag to the oc-mirror command line.

oc-mirror v2 provides the following features:

* A centralized method to mirror {product-title} releases, Operators, and other images.

* A declarative image set configuration file to include only the {product-title} releases, Operators, and images that your cluster needs.

* Incremental mirroring to reduce the size of future image sets.

* Optional generation of supporting artifacts for OpenShift Update Service (OSUS) usage.

* Use the existing workflow use cases from v1, including:
- Mirror to Disk
- Disk to Mirror
- Mirror to Mirror

* Enhance the overall user experience.

* Support multi-tier complex enclaves 
- Partial or fully air-gapped
- Hub and spoke type air-gapped environments
- Generate archives (tar.gz diff)
- IDMS - ImageDigestMirrorSet
- ITMS - ImageTagMirrorSet
- UpdateService
- CatalogSource

* Filter operator version by bundle name

* Generate mirroring archives with content selected by mirroring date

* Implement delete functionality
- Use of DeleteImageSetConfig (kind)
- Delete images from remote registries
- Delete images from local cache

When using the oc-mirror plugin, you specify the content to mirror in an image set configuration file. This YAML file allows you to fine-tune the configuration to include only the {product-title} releases, Operators, and additional images needed for your cluster. This reduces the amount of data you need to download and transfer.

In comparison to the current version of oc-mirror, oc-mirror v2 offers the following enhancements:

* Verifies that the complete image set specified in the image set config is mirrored to the mirrored registry, regardless of whether the images were previously mirrored or not.

* Uses a cache system instead of metadata.

* Maintains minimal archive sizes by incorporating only new images into the archive.

* Can generate IDMS and ITMS (instead of ICSP) for the full image set, rather than just the incremental changes.

* Does not perform automatic pruning; instead, it introduces a `Delete` feature, granting users more control over the image deletion.

* Introduces support for `registries.conf`, facilitating mirroring to multiple enclaves using the same cache.



