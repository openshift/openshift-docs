// Module included in the following assemblies:
//
// * support/support-log-gather-operator-install.adoc

:_mod-docs-content-type: PROCEDURE
[id="support-log-gather-install-cli_{context}"]
= Installing {support-log-gather} by using the CLI

To enable automated log collection for support cases, you can install {support-log-gather} from the command-line interface (CLI).

:FeatureName: Support Log Gather
include::snippets/technology-preview.adoc[]

.Prerequisites

* You have access to the cluster with `cluster-admin` privileges.

.Procedure

. Create a new project named `support-log-gather` by running the following command:
+
[source, terminal]
----
$ oc new-project support-log-gather
----

. Create an `OperatorGroup` object:

.. Create a YAML file, for example, `operatorGroup.yaml`, with the following content:
+
[source, yaml]
----
apiVersion: operators.coreos.com/v1
kind: OperatorGroup
metadata:
  name: support-log-gather
  namespace: must-gather-operator
spec: {}
----

.. Create the `OperatorGroup` object by running the following command:
+
[source, terminal]
----
$ oc create -f operatorGroup.yaml
----

. Create a `Subscription` object:

.. Create a YAML file, for example, `subscription.yaml`, that defines the `Subscription` object:
+
[source, yaml]
----
apiVersion: operators.coreos.com/v1alpha1
kind: Subscription
metadata:
  name: support-log-gather
  namespace: must-gather-operator
spec:
  channel: tech-preview
  name: support-log-gather-operator
  source: redhat-operators
  sourceNamespace: openshift-marketplace
  installPlanApproval: Automatic
----

.. Create the `Subscription` object by running the following command:
+
[source, terminal]
----
$ oc create -f subscription.yaml
----

.Verification

. Verify the status of the pods in the Operator namespace by running the following command.
+
[source, terminal]
----
$ oc get pods
----
+
.Example output
+
[source, terminal]
----
NAME                                                              READY   STATUS      RESTARTS   AGE
06f7e4e81edc2337e4bfd4dc0ad01497c03b5bf7f0a5b8dccd5ff88b29bxwgs   0/1     Completed   0          14m
support-log-gather-657fc74d64-2gg2w                             1/1     Running     0          13m
----
+
The status of all the pods must be `Running`.

. Verify that the subscription is created by running the following command:
+
[source, terminal]
----
$ oc get subscription -n support-log-gather
----
+
.Example output
[source, terminal]
----
NAME                              PACKAGE                           SOURCE             CHANNEL
openshift-support-log-gather   openshift-support-log-gather   redhat-operators   stable-v1
----

. Verify that the Operator is installed by running the following command:
+
[source, terminal]
----
$ oc get csv -n support-log-gather
----
+
.Example output
[source, terminal]
----
NAME                                  DISPLAY                VERSION   REPLACES   PHASE
support-log-gather-operator.v4.20.0   support log gather     4.20.0               Succeeded
----