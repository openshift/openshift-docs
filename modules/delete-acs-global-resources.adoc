// Module included in the following assemblies:
//
// * installing/uninstall-acs.adoc

:_mod-docs-content-type: PROCEDURE
[id="delete-acs-global-resources_{context}"]
= Deleting global resources

[role="_abstract"]
You can delete the global resources that {rh-rhacs-first} creates by using the {ocp} or Kubernetes command-line interface (CLI).

.Procedure

* To delete the global resources by using the {ocp} CLI, perform the following steps:

.. Retrieve all the StackRox-related cluster roles, cluster role bindings, roles, role bindings, and PSPs, and then delete them by running the following command:
+ 
[source,terminal]
----
$ oc get clusterrole,clusterrolebinding,role,rolebinding,psp -o name | grep stackrox | xargs oc delete --wait
----
+
[NOTE]
====
You might receive the `error: the server doesn't have a resource type "psp"` error message in {product-title-short} 4.4 and later versions because the pod security policies (PSPs) are deprecated. The PSPs were removed from Kubernetes in version 1.25, except for clusters with older Kubernetes versions.
====

.. Delete the custom security context constraints (SCCs) labeled with `app.kubernetes.io/name=stackrox` by running the following command:
+
[source,terminal]
----
$ oc delete scc -l "app.kubernetes.io/name=stackrox"
----
+
[NOTE]
====
You might receive the `No resources found` error message in {product-title-short} 4.4 and later versions because the custom SCCs with this label are no longer used in these versions.
====

.. Delete the `ValidatingWebhookConfiguration` object named `stackrox` by running the following command:
+
[source,terminal]
----
$ oc delete ValidatingWebhookConfiguration stackrox
----

* To delete the global resources by using the Kubernetes CLI, perform the following steps:

.. Retrieve all the StackRox-related cluster roles, cluster role bindings, roles, role bindings, and PSPs, and then delete them by running the following command:
+
[source,terminal]
----
$ kubectl get clusterrole,clusterrolebinding,role,rolebinding,psp -o name | grep stackrox | xargs kubectl delete --wait
----
+
[NOTE]
====
You might receive the `error: the server doesn't have a resource type "psp"` error message in {product-title-short} 4.4 and later versions because the pod security policies (PSPs) are deprecated. The PSPs were removed from Kubernetes in version 1.25, except for clusters with older Kubernetes versions.
====

.. Delete the `ValidatingWebhookConfiguration` object named `stackrox` by running the following command:
+
[source,terminal]
----
$ kubectl delete ValidatingWebhookConfiguration stackrox
----