// This module is used in the following assemblies:

// * configure/ols-configuring-openshift-lightspeed.adoc

:_mod-docs-content-type: PROCEDURE
[id="ols-creating-the-credentials-secret-using-cli_{context}"]
= Creating the credentials secret by using the CLI

Create a file that is associated with the API token used to access the API of your LLM provider. Typically, you use API tokens to authenticate your LLM provider. Alternatively, {azure-official} also supports authentication using {entra-id}.

.Prerequisites

* You have access to the {ocp-short-name} CLI (oc) as a user with the `cluster-admin` role. Alternatively, you are logged in to a user account that has permission to create a secret to store the Provider tokens.

* You have installed the {ols-long} Operator.

.Procedure 

. Create a file that contains the following YAML content:
+
[NOTE]
====
The YAML parameter is always `apitoken` regardless of what the LLM provider calls the access details.
====
+
.Credential secret for LLM provider
[source,yaml,subs="attributes,verbatim"]
----
apiVersion: v1
kind: Secret
metadata:
  name: credentials
  namespace: openshift-lightspeed
type: Opaque
stringData:
  apitoken: <your_api_token> <1>
----
<1> The `apitoken` is not `base64` encoded.
+
.Credential secret for {watsonx}
[source,yaml,subs="attributes,verbatim"]
----
apiVersion: v1
data:
  apitoken: <your_api_token> 
kind: Secret
metadata:
  name: watsonx-api-keys
  namespace: openshift-lightspeed
type: Opaque
----
+
.Credential secret for {azure-official} {openai}
[source,yaml,subs="attributes,verbatim"]
----
apiVersion: v1
data:
  apitoken: <your_api_token> 
kind: Secret
metadata:
  name: azure-api-keys
  namespace: openshift-lightspeed
type: Opaque
----
+
Alternatively, for {azure-openai} you can use {entra-id} to authenticate your LLM provider. {entra-id} users must configure the required roles for their {azure-openai} resource. For more information, see the official Microsoft link:https://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/role-based-access-control#cognitive-services-openai-contributor[Cognitive Services OpenAI Contributor](Microsoft Azure OpenAI Service documentation).
+
.Credential secret for {entra-id}
[source,yaml,subs="attributes,verbatim"]
----
apiVersion: v1
data:
  client_id: <base64_encoded_client_id>
  client_secret: <base64_encoded_client_secret>
  tenant_id: <base64_encoded_tenant_id>
kind: Secret
metadata:
  name: azure-api-keys
  namespace: openshift-lightspeed
type: Opaque
----

. Run the following command to create the secret:
+
[source,terminal]
----
$ oc create -f /path/to/secret.yaml
----