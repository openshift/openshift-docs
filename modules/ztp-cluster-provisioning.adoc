// Module included in the following assemblies:
//
// scalability_and_performance/ztp-deploying-disconnected.adoc

:_content-type: CONCEPT
[id="ztp-cluster-provisioning_{context}"]
= Cluster provisioning with the ZTP pipeline

You provision clusters with zero touch provisioning (ZTP) using a layered approach. The base components consist of {op-system-first}, and {product-title}. After these components are installed, the worker node can join the existing cluster. When the node has joined the existing cluster, the ZTP pipeline applies the 5G RAN profile Operators.

The following diagram illustrates this architecture.

image::177_OpenShift_cluster_provisioning_0821.png[Cluster provisioning]

The following Operators are deployed on every cluster:

Machine Config Operator::
The Machine Config Operator enables system definitions and low-level system settings such as workload partitioning, NTP, and SCTP. The Operator creates a performance profile and related resources which are applied to the node according to an associated machine config pool (MCP). The MCP holds valuable information about the progress of applying the machine configurations created by performance addons that encompass kernel args, kube config, huge pages allocation, and deployment of the realtime kernel (rt-kernel). The performance addons controller monitors changes in the MCP and updates the performance profile status accordingly.

PTP Operator::
Precision Time Protocol (PTP) is used to synchronize clocks in a network. The PTP Operator discovers PTP-capable devices in the cluster and creates and manages `linuxptp` services for those devices. The PTP Operator also deploys a PTP fast events infrastructure. vDU applications use PTP fast events notifications to report on clock events that can negatively affect the performance and reliability of the application. PTP fast events are distributed over an Advanced Message Queuing Protocol (AMQP) event notification bus.

Performance Addon Operator::
The Performance Addon Operator provides the ability to enable advanced node performance tuning on a set of nodes. Performance Addon Operator implements automatic tuning to achieve low latency performance for {product-title} applications. The Operator allows you update the kernel to `rt-kernel`. You can also configure reserved CPUs for cluster management and workload allocation.

SR-IOV Operator::
The Single Root I/O Virtualization (SR-IOV) Network Operator manages the SR-IOV network devices and network attachments in your cluster. The SR-IOV Operator allows network interfaces to be virtual and shared at a device level with networking functions running within the cluster.

Local Storage Operator::
The Local Storage Operator manages local storage volumes for use in the cluster.

Red Hat OpenShift Logging Operator::
The Red Hat OpenShift Logging Operator orchestrates and manages the aggregated logging stack as a cluster-wide service.
