// Module included in the following assemblies:
//
// * observability/otel/otel-collector/otel-collector-exporters.adoc

:_mod-docs-content-type: REFERENCE
[id="otel-exporters-aws-xray-exporter_{context}"]
= AWS X-Ray Exporter

[role="_abstract"]
The AWS X-Ray Exporter converts OpenTelemetry spans to AWS X-Ray Segment Documents and then sends them directly to the AWS X-Ray service. The AWS X-Ray Exporter uses the `PutTraceSegments` API and signs requests by using the AWS SDK for Go and the default credential provider chain.

:FeatureName: The AWS X-Ray Exporter
include::snippets/technology-preview.adoc[]

.OpenTelemetry Collector custom resource with the enabled AWS X-Ray Exporter
[source,yaml]
----
# ...
  config:
    exporters:
      awsxray:
        region: "<region>" # <1>
        endpoint: <protocol><endpoint> # <2>
        resource_arn: "<aws_resource_arn>" # <3>
        role_arn: "<iam_role>" # <4>
        indexed_attributes: [ "<indexed_attr_0>", "<indexed_attr_1>" ] # <5>
        aws_log_groups: ["<group1>", "<group2>"] # <6>
        request_timeout_seconds: 120 # <7>
# ...
----
<1> The destination region for the X-Ray segments sent to the AWS X-Ray service. For example, `eu-west-1`.
<2> Optional. You can override the default Amazon CloudWatch Logs service endpoint to which the requests are forwarded. You must include the protocol, such as `https://`, as part of the endpoint value. For the list of service endpoints by region, see link:https://docs.aws.amazon.com/general/latest/gr/cwl_region.html[Amazon CloudWatch Logs endpoints and quotas] (AWS General Reference).
<3> The Amazon Resource Name (ARN) of the AWS resource that is running the Collector.
<4> The AWS Identity and Access Management (IAM) role for uploading the X-Ray segments to a different account.
<5> The list of attribute names to be converted to X-Ray annotations.
<6> The list of log group names for Amazon CloudWatch Logs.
<7> Time duration in seconds before timing out a request. If omitted, the default value is `30`.

[role="_additional-resources"]
.Additional resources
* link:https://docs.aws.amazon.com/xray/latest/devguide/aws-xray.html[AWS X-Ray Developer Guide: What is AWS X-Ray?]
* link:https://docs.aws.amazon.com/sdk-for-go/api/index.html[AWS Documentation: AWS SDK for Go API Reference]
* link:https://docs.aws.amazon.com/sdk-for-go/v1/developer-guide/configuring-sdk.html#specifying-credentials[AWS SDK for Go Developer Guide: Specifying Credentials]
// * link:https://docs.aws.amazon.com/sdk-for-go/v2/developer-guide/configure-auth.html[AWS SDK for Go v2 Developer Guide: Configure Authentication]
* link:https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html[AWS Identity and Access Management User Guide: IAM roles]
