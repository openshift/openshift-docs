// Module included in the following assemblies:
//
// * installing/installing_oci/installing-oci-assisted-installer.adoc

:_mod-docs-content-type: PROCEDURE
[id="using-assisted-installer-oci-agent-iso-temp_{context}"]
= Using the {ai-full} to generate an {oci}-compatible discovery ISO image

Create the cluster configuration and generate the discovery ISO image in the {ai-full} web console. 

.Prerequisites

* You created a child compartment and an object storage bucket on {oci}. For details, see _Preparing the {oci} environment_. 
* You reviewed details about the {product-title} installation and update processes. 

== Creating the cluster

Set the cluster details. 

.Procedure

. Log into link:https://console.redhat.com/[{ai-full} web console] with your credentials.

. In the *Red Hat OpenShift* tile, select *OpenShift*. 

. In the *Red Hat OpenShift Container Platform* tile, select *Create Cluster*.

. On the *Cluster Type* page, scroll down to the end of the *Cloud* tab, and select *Oracle Cloud Infrastructure (virtual machines)*. 

. On the *Create an OpenShift Cluster* page, select the *Interactive* tile.

. On the *Cluster Details* page, complete the following fields:
+
[cols="1,3",options="header",subs="quotes"]
|===
|Field |Action required

|*Cluster name*
|Specify the name of your cluster, such as `oci`. This is the same value as the cluster name in {oci}.

|*Base domain*
|Specify the base domain of the cluster, such as `openshift-demo.devcluster.openshift.com`. 

This is the same value as the zone DNS server in {oci}. You can get this information by going to *DNS management* -> *Zones* -> *List scope* and then selecting the parent compartment. Your base domain should show under the *Public zones* tab.

|*OpenShift version*
| * For installations on virtual machines only, specify `OpenShift 4.14` or a later version.

* For installations that include bare metal machines, specify `OpenShift 4.16` or a later version.

|*CPU architecture*
| Specify `x86_64` or `Arm64`.

|*Integrate with external partner platforms*
|Specify `Oracle Cloud Infrastructure`.

After you specify this value, the *Include custom manifests* checkbox is selected by default.
|===

. Leave the default settings for the remaining fields, and click *Next*.

. On the *Operators* page, click *Next*.

== Generating the Discovery ISO image

Generate and download the Discovery ISO image.

.Procedure

. On the *Host Discovery* page, click *Add hosts* and do the following:

.. For the *Provisioning type* field, select *Minimal image file*. 

.. For the *SSH public key* field, add the SSH public key from your local system, by copying the output of the following command: 
+
[source,terminal]
----
$ cat ~/.ssh/id_rsa.put
----
+
The SSH public key will be installed on all {product-name} control plane and compute nodes.

.. Click *Generate Discovery ISO* to generate the discovery ISO image file.

.. Download the file to your local system.
