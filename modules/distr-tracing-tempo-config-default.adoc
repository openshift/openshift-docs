// Module included in the following assemblies:
//
// * observability/distr_tracing/distr-tracing-tempo-configuring.adoc

:_mod-docs-content-type: REFERENCE
[id="distr-tracing-tempo-config-default_{context}"]
= Introduction to TempoStack configuration parameters

The `TempoStack` custom resource (CR) defines the architecture and settings for creating the {TempoShortName} resources. You can modify these parameters to customize your implementation to your business needs.

.Example `TempoStack` CR
[source,yaml]
----
apiVersion: tempo.grafana.com/v1alpha1
kind: TempoStack
metadata:
  name: <name>
spec:
  storage: {}
  resources: {}
  replicationFactor: 1
  retention:
    global:
      traces: 48h
    perTenant: {}
  template:
      distributor: {}
      ingester: {}
      compactor: {}
      querier: {}
      queryFrontend: {}
      gateway: {}
  limits:
    global:
      ingestion: {}
      query: {}
  observability:
    grafana: {}
    metrics: {}
    tracing: {}
  search: {}
  managementState: managed
----
where:

apiVersion:: API version to use when creating the object.
kind:: Defines the kind of Kubernetes object to create.
metadata:: Data that uniquely identifies the object, including a `name` string, `UID`, and optional `namespace`. {product-title} automatically generates the `UID` and completes the `namespace` with the name of the project where the object is created.
name:: Name of the TempoStack instance.
spec:: Contains all of the configuration parameters of the TempoStack instance. When a common definition for all Tempo components is required, define it in the `spec` section. When the definition relates to an individual component, place it in the `spec.template.<component>` section.
storage:: Storage is specified at instance deployment. See the installation page for information about storage options for the instance.
resources:: Defines the compute resources for the Tempo container.
replicationFactor:: Integer value for the number of ingesters that must acknowledge the data from the distributors before accepting a span.
retention:: Configuration options for retention of traces. The default value is `48h`.
distributor (template):: Configuration options for the Tempo `distributor` component.
ingester (template):: Configuration options for the Tempo `ingester` component.
compactor (template):: Configuration options for the Tempo `compactor` component.
querier (template):: Configuration options for the Tempo `querier` component.
queryFrontend (template):: Configuration options for the Tempo `query-frontend` component.
gateway (template):: Configuration options for the Tempo `gateway` component.
limits:: Limits ingestion and query rates.
ingestion (limits):: Defines ingestion rate limits.
query (limits):: Defines query rate limits.
observability:: Configures operands to handle telemetry data.
search:: Configures search capabilities.
managementState:: Defines whether or not this CR is managed by the Operator. The default value is `managed`.

.`TempoStack` CR parameters
[options="header"]
[cols="a, a, a, a"]
|===
|Parameter |Description |Values |Default value

|`apiVersion:`
|API version to use when creating the object.
|`tempo.grafana.com/v1alpha1`
|`tempo.grafana.com/v1alpha1`

|`kind:`
|Defines the kind of the Kubernetes object to create.
|`tempo`
|

|`metadata:`
|Data that uniquely identifies the object, including a `name` string, `UID`, and optional `namespace`.
|
|{product-title} automatically generates the `UID` and completes the `namespace` with the name of the project where the object is created.

|`name:`
|Name for the object.
|Name of your TempoStack instance.
|`tempo-all-in-one-inmemory`

|`spec:`
|Specification for the object to be created.
|Contains all of the configuration parameters for your TempoStack instance. When a common definition for all Tempo components is required, it is defined under the `spec` node. When the definition relates to an individual component, it is placed under the `spec.template.<component>` node.
|N/A

|`resources:`
|Resources assigned to the TempoStack instance.
|
|

|`storageSize:`
|Storage size for ingester PVCs.
|
|

|`replicationFactor:`
|Configuration for the replication factor.
|
|

|`retention:`
|Configuration options for retention of traces.
|
|

|`storage:`
|Configuration options that define the storage.
|
|

|`template.distributor:`
|Configuration options for the Tempo distributor.
|
|

|`template.ingester:`
|Configuration options for the Tempo ingester.
|
|

|`template.compactor:`
|Configuration options for the Tempo compactor.
|
|

|`template.querier:`
|Configuration options for the Tempo querier.
|
|

|`template.queryFrontend:`
|Configuration options for the Tempo query frontend.
|
|

|`template.gateway:`
|Configuration options for the Tempo gateway.
|
|

|===
