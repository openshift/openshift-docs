// Module included in the following assemblies:
//
// * observability/distr_tracing/distr_tracing_tempo/distr-tracing-tempo-troubleshooting.adoc

:_mod-docs-content-type: PROCEDURE
[id="problems-ingesting-traces_{context}"]
= Troubleshooting issues ingesting traces

When the TempoStack instance is failing to ingest traces, you can troubleshoot it as follows.

.Procedure

. Review the components in the ingestion path to diagnose the issue:
+
* The spans are not sent correctly.
* The spans are not sampled.

. Check for errors in the logs that identify unhealthy ingesters, which might be failing due to out-of-memory (OOM) issues or scale-down events.
+
In high-volume tracing environments, the default trace limits might not be adequate.
If spans are being refused due to these limits, you can discover this in the distributor logs.
+
You can also see that the `tempo_discarded_spans_total` metric is incremented.

. Check the following two metrics to verify that the TempoStack instance is successfully receiving traces:
+
[source,yaml]
----
tempo_distributor_spans_received_total
tempo_ingester_traces_created_total
----
+
** If both of these metrics are greather than zero, the TempoStack instance is successfully ingesting data.
** If `tempo_distributor_spans_received_total` is `0`, the distributor is not receiving spans.
Troubleshoot by checking the network configuration, protocols, and ports of the applications that are attempting to send traces to the distributor.
** If `tempo_ingester_traces_created_total is `0`, there is a communication issue between the ingester and the distributor. Troubleshoot by inspecting the logs for both to find errors.
