[id="installation-common-attributes"]
= Common Issues
include::modules/common-attributes.adoc[]
:context: common-issues

toc::[]

== CPU load increases and nodes go into a Not Ready state

* *Symptom*: CPU load increases significantly and nodes start going into a Not Ready state.
* *Cause*: The storage domain latency may be too high, especially for master nodes.
* *Solution*:
** Make the nodes Ready again by restarting the kubelet service. Enter:
----
$ systemctl restart kubelet
----

** Inspect the {product-title} metrics service, which automatically gathers and reports on some valuable data such as the etcd disk sync duration. If the cluster is operational, use this data to help determine whether storage latency or throughput is the root issue. If so, consider using a storage resource that has lower latency and higher throughput.

To get raw metrics, enter the following command as kubeadmin or user with cluster-admin privileges:

----
$ oc get --insecure-skip-tls-verify --server=https://localhost:<port> --raw=/metrics`
----

See https://access.redhat.com/articles/3793621[Exploring Application Endpoints for the purposes of Debugging with OpenShift 4.x]

== Trouble connecting the {product-title} cluster API

* *Symptom*: The installer completes but the {product-title} cluster API is not available. The bootstrap virtual machine remains up after the bootstrap process is complete. When you enter the following command, the response will time out.
----
$ oc login -u kubeadmin -p *** <apiurl>
----

* *Cause*: The bootstrap VM was not deleted by the installer and has not released the cluster's API IP address.
* *Solution*: Use the wait-for subcommand to be notified when the bootstrap process is complete:

----
$ sudo ./openshift-install wait-for bootstrap-complete
----

When the bootstrap process is complete, delete the bootstrap virtual machine:

----
$ sudo ./openshift-install destroy bootstrap
----
