[id="serverless-troubleshooting-functions_{context}"]
= Troubleshooting functions

== Failure to build a function by using podman

Building a function by using podman might fail with an error message similar to the following:

[source,terminal]
----
ERROR: failed to image: error during connect: Get "http://%2Fvar%2Frun%2Fdocker.sock/v1.40/info": EOF
----

That is because some runtimes are unable to build a function by using podman in `func` versions 0.19 and 0.20.

** The following workaround exists for this issue:

.. Update the podman service by adding `--time=0` to the service `ExecStart` definition:
+
.Example service configuration
[source,terminal]
----
ExecStart=/usr/bin/podman $LOGGING system service --time=0
----
.. Restart the podman service by running the following commands:
+
[source,terminal]
----
$ systemctl --user daemon-reload
----
+
[source,terminal]
----
$ systemctl restart --user podman.socket
----

** Alternatively, you can expose the podman API by using TCP:
+
[source,terminal]
----
$ podman system service --time=0 tcp:127.0.0.1:5534 &
export DOCKER_HOST=tcp://127.0.0.1:5534
----
