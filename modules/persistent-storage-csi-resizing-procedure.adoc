// Module included in the following assemblies:
//
// * storage/container_storage_interface/persistent-storage-csi-resizing.adoc

:_mod-docs-content-type: PROCEDURE
[id="persistent-storage-csi-resizing-procedure_{context}"]
= Resizing a CSI volume

.Prerequisites
* You are logged in to a running {product-title} cluster.
* Your persistent volume claim (PVC) is created using a CSI driver that supports volume resizing.
* Your storage back end is configured for dynamic provisioning.

.Procedure

To resize a volume:

. Ensure that your storage class supports resizing:
+
[source, yaml]
.Sample storage class YAML file
----
kind: StorageClass
apiVersion: storage.k8s.io/v1
metadata:
  name: <sc-name> <1>
provisioner: <provisioner-name> <2>
parameters:
    type: gp2
reclaimPolicy: Delete
allowVolumeExpansion: true <3>
----
<1> Storage class name.
<2> Provisioner name.
<3> To allow resizing, the `allowVolumeExpansion` parameter must be set to `true`.

. In the desired PVC, increase the `storage` field to trigger resizing:
+
[source, yaml]
.Sample PVC YAML file
----
kind: PersistentVolumeClaim
apiVersion: v1
metadata:
  name: <pvc-name> <1>
  namespace: default
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 2Gi <2>
  storageClassName: <sc-name> <3>
  volumeMode: Filesystem
----
<1> PVC name.
<2> To resize the PVC, increase the value for the `storage` field. If the resize request fails or remains in a pending state, you can try again by entering another smaller resize value.
<3> Ensure that the referenced storage class has the `allowVolumeExpansion` parameter set to `true`.