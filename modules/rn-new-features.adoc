[id="ocp-4-20-new-features-and-enhancements_{context}"]
= New features and enhancements

This release adds improvements related to the following components and concepts:

[id="ocp-release-notes-api_{context}"]
== API server

Extended loopback certificate validity to three years for kube-apiserver::
+
Before this update, the self-signed loopback certificate for the Kubernetes API Server expired after one year. With this release, the expiration date of the certificate is extended to three years.

Dry-run option is connected to 'oc delete istag'::
+
Before this update, deleting an `istag` resource with the `--dry-run=server` option unintentionally caused actual deletion of the image from the server. This unexpected deletion occurred due to the `dry-run` option being implemented incorrectly in the `oc delete istag` command. With this release, the `dry-run` option is wired to the `oc delete istag` command. As a result, the accidental deletion of image objects is prevented and the `istag` object remains intact when using the `--dry-run=server` option.

No service interruptions for certificate-related issues::
+
With this update, self-signed loopback certificates in API servers are prevented from expiring, and ensures a stable and secure connection within Kubernetes 4.16.z. This enhancement backports a solution from a newer version, cherry-picks a specific pull request and applies it to the selected version. This reduces the likelihood of service interruptions due to certificate-related issues, providing a more reliable user experience in Kubernetes 4.16.z deployments.

Enhanced communication matrix for TCP ports::
+
With this update, the communication flows matrix for {product-title} is enhanced. The feature automatically generates services for open ports 17697 (TCP) and 6080 (TCP) on the primary node, and ensures that all open ports have corresponding endpoint slices. This results in accurate and up-to-date communication flows matrixes, improves the overall security and efficiency of the communication matrix, and provides a more comprehensive and reliable communication matrix for users.










[id="ocp-release-notes-edge-computing_{context}"]
== Edge computing

NetworkPolicy support for the {lvms} Operator::
+
The {lvms} Operator now applies Kubernetes `NetworkPolicy` objects during installation to restrict network communication to only the required components. This feature enforces default network isolation for {lvms} deployments on {product-title} clusters.

Support for hostname labelling for persistent volumes created by using the {lvms} Operator::
+
When you create a persistent volume (PV) by using the {lvms} Operator, the PV now includes the `kubernetes.io/hostname` label. This label shows which node the PV is located on, making it easier to identify the node associated with a workload. This change only applies to newly created PVs. Existing PVs are not modified.

Default namespace for the {lvms} Operator::
+
The default namespace for the {lvms} Operator is now `openshift-lvm-storage`. You can still install {lvms} in a custom namespace.

SiteConfig CR to ClusterInstance CR migration tool::
+
{product-title} {product-version} introduces the `siteconfig-converter` tool to help migrate managed clusters from using a `SiteConfig` custom resource (CR) to a `ClusterInstance` CR. Using a `SiteConfig` CR to define a managed cluster is deprecated and will be removed in a future release. The `ClusterInstance` CR provides a more unified and generic approach to defining clusters and is the preferred method for managing cluster deployments in the {ztp} workflow.
+
Using the `siteconfig-converter` tool, you can convert `SiteConfig` CRs to `ClusterInstance` CRs and then incrementally migrate one or more clusters at a time. Existing and new pipelines run in parallel, so you can migrate clusters in a controlled, phased manner and without downtime.
+
[NOTE]
====
The `siteconfig-converter` tool does not convert SiteConfig CRs that use the deprecated `spec.clusters.extraManifestPath` field.
====
+
For more information, see xref:../edge_computing/ztp-migrate-clusterinstance.adoc#ztp-migrate-clusterinstance[Migrating from SiteConfig CRs to ClusterInstance CRs].

[id="ocp-release-notes-extensions_{context}"]
== Extensions ({olmv1})

Deploying cluster extensions that use webhooks (Technology Preview)::
+
With this release, you can deploy cluster extensions that use webhooks on clusters with the `TechPreviewNoUpgrade` feature set enabled.
+
For more information, see xref:../extensions/ce/managing-ce.adoc#olmv1-supported-extensions_managing-ce[Supported extensions].

[id="ocp-release-notes-hcp_{context}"]
== Hosted control planes

include::snippets/hcp-snippet.adoc[]

// Because {hcp} releases asynchronously from {product-title}, it has its own release notes. For more information, see xref:../hosted_control_planes/hosted-control-planes-release-notes.adoc#hosted-control-planes-release-notes[{hcp-capital} release notes].

[id="ocp-release-notes-storage_{context}"]
== Storage

NetworkPolicy support for the {secrets-store-operator}::
+
The {secrets-store-operator} version 4.20 is now based on the upstream v1.5.2 release. The {secrets-store-operator} now applies Kubernetes `NetworkPolicy` objects during installation to restrict network communication to only the required components.

Volume populators are generally available::
+
The volume populators feature allows you to create pre-populated volumes.
+
{product-title} 4.20 introduces a new field `dataSourceRef` for volume populator functionality that expands the objects that can be used as a data source for pre-population of volumes, from only persistent volume claims (PVC) and snapshots, to any appropriate custom resource (CR).
+
{product-title} now ships `volume-data-source-validator`, which reports events on PVCs that use a volume populator without a corresponding `VolumePopulator` instance. Previous {product-title} versions did not require `VolumePopulator` instances, so if you are upgrading from 4.12, or later, you might receive events about unregistered populators. If you installed `volume-data-source-validator` yourself previously, you can remove your version.
+
The volume populators feature, which was introduced in {product-title} 4.12 as a Technology Preview feature, is now supported as generally available.
+
Volume population is enabled by default. However, {product-title} does not ship with any volume populators.
+
For more information about volume populators, see xref:../storage/container_storage_interface/persistent-storage-csi-vol-populators.adoc[Volume populators].

Performance plus for Azure Disk is generally available::
+
By enabling performance plus, the input/output operations per second (IOPS) and throughput limits can be increased for the following types of disks that are 513 GiB, and larger:
+
--
* Azure Premium solid-state drives (SSD)

* Standard SSDs

* Standard hard disk drives (HDD)
--
+
This feature is generally available in {product-title} 4.20.
+
For more information about performance plus, see xref:../storage/container_storage_interface/persistent-storage-csi-azure.html#performance-plus-for-azure-disk[Performance plus for Azure Disk].

Changed block tracking (Developer Preview)::
+
Changed block tracking enables efficient and incremental backups and disaster recovery for persistent volumes (PVs) managed by Container Storage Interface (CSI) drivers that support this feature.
+
Changed block tracking allows consumers to requests a list of blocks that have changed between two snapshots, which is useful for backup solutions vendors. By only backing up changed blocks, rather than entire volumes, back up processes are more efficient.
+
:FeatureName: Changed block tracking
+
--
include::snippets/developer-preview.adoc[]
--
+
For more information about changed block tracking, see this link:https://access.redhat.com/solutions/7131061[KB article].

AWS EFS One Zone volume support is generally available::
+
{product-title} 4.20 introduces AWS Elastic File Storage (EFS) One Zone volume support as generally available. With this feature, if file system Domain Name System (DNS) resolution fails, the EFS CSI driver can fall back to mount targets. A mount target serves as a network endpoint that allows AWS EC2 instances or other AWS compute instances within a Virtual Private Cloud (VPC) to connect to, and mount, an EFS file system.
+
For more information about One Zone, see xref:../storage/container_storage_interface/persistent-storage-csi-aws-efs.adoc#one-zone-file-systems[Support for One Zone].

[id="ocp-release-notes-web-console_{context}"]
== Web console

Support for custom application icons in the Import flow::
+
Before this update, the *Container image* form flow provided only a limited set of predefined icons for applications.
+
With this update, you can add custom icons when you import applications through the *Container image* form. For existing applications, apply the `app.openshift.io/custom-icon` annotation to add a custom icon to the corresponding *Topology* node.
+
As a result, you can better identify applications in the *Topology* view and organize your projects more clearly.
