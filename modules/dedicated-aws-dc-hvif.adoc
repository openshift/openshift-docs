// Module included in the following assemblies:
//
// * rosa_cluster_admin/cloud_infrastructure_access/dedicated-aws-dc.adoc

:_mod-docs-content-type: PROCEDURE
[id="dedicated-aws-dc-hvif"]
= Creating the hosted Virtual Interface

.Prerequisites

* Gather {product-title} AWS Account ID.

[id="dedicated-aws-dc-hvif-type"]
== Determining the type of Direct Connect connection

View the Direct Connect Virtual Interface details to determine the type of
connection.

.Procedure

. Log in to the {product-title} AWS Account Dashboard and select the correct region.
. Select *Direct Connect* from the *Services* menu.
. There will be one or more Virtual Interfaces waiting to be accepted, select one of them to view the *Summary*.
. View the Virtual Interface type: private or public.
. Record the *Amazon side ASN* value.

If the Direct Connect Virtual Interface type is Private, a Virtual Private
Gateway is created. If the Direct Connect Virtual Interface is Public, a Direct
Connect Gateway is created.

[id="dedicated-aws-dc-hvif-private"]
== Creating a Private Direct Connect

A Private Direct Connect is created if the Direct Connect Virtual Interface type is Private.

.Procedure

. Log in to the {product-title} AWS Account Dashboard and select the correct region.
. From the AWS region, select *VPC* from the *Services* menu.
. From *Virtual private network (VPN)*, select *Virtual private gateways*.
. Click *Create virtual private gateway*.
. Give the Virtual Private Gateway a suitable name.
. Select *Custom ASN* in the *Enter custom ASN* field enter the *Amazon side ASN* value gathered previously.
. Click *Create virtual private gateway*.
. Click the newly created Virtual Private Gateway and choose *Attach to VPC* from the *Actions* tab.
. Select the *{product-title} Cluster VPC* from the list, and click *Attach VPC*.

Note: Editing the kubelet config will cause the nodes for your machine pool to be recreated. This ma???

[id="dedicated-aws-dc-hvif-public"]
== Creating a Public Direct Connect

A Public Direct Connect is created if the Direct Connect Virtual Interface type
is Public.

.Procedure

. Log in to the {product-title} AWS Account Dashboard and select the correct region.
. From the {product-title} AWS Account region, select *Direct Connect* from the *Services* menu.
. Select *Direct Connect gateways* and *Create Direct Connect gateway*.
. Give the Direct Connect gateway a suitable name.
. In the *Amazon side ASN*, enter the Amazon side ASN value gathered previously.
. Click *Create the Direct Connect gateway*.

[id="dedicated-aws-dc-hvif-verifying"]
== Verifying the Virtual Interfaces

After the Direct Connect Virtual Interfaces have been accepted, wait a short
period and view the status of the Interfaces.

.Procedure

. Log in to the {product-title} AWS Account Dashboard and select the correct region.
. From the {product-title} AWS Account region, select *Direct Connect* from the *Services* menu.
. Select one of the Direct Connect Virtual Interfaces from the list.
. Check the Interface State has become *Available*
. Check the Interface BGP Status has become *Up*.
. Repeat this verification for any remaining Direct Connect Interfaces.

After the Direct Connect Virtual Interfaces are available, you can log in to the
{product-title} AWS Account Dashboard and download the Direct Connect configuration file for
configuration on your side.
