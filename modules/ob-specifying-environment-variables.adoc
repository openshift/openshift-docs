// This module is included in the following assembly:
//
// * configuring/configuring-build-runs.adoc

:_mod-docs-content-type: REFERENCE
[id="ob-specifying-environment-variables_{context}"]
= Environment variables definition

<<<<<<< HEAD
You can use environment variables in your `BuildRun` CR based on your needs. The following example shows how to define environment variables:
=======
[role="_abstract"] 

You can use environment variables in your `BuildRun` CR based on your needs. The following examples shows how to define environment variables:
>>>>>>> 7756bebd63 (added role=abstract in all files)

.Example: Defining a `BuildRun` resource with environment variables
[source,yaml]
----
apiVersion: shipwright.io/v1beta1
kind: BuildRun
metadata:
  name: buildah-buildrun
spec:
  build:
    name: buildah-build
  env:
    - name: <example_var_1>
      value: "<example_value_1>"
    - name: <example_var_2>
      value: "<example_value_2>"
----

The following example shows a `BuildRun` resource that uses the Kubernetes downward API to expose a pod as an environment variable:

.Example: Defining a `BuildRun` resource to expose a pod as an environment variable
[source,yaml]
----
apiVersion: shipwright.io/v1beta1
kind: BuildRun
metadata:
  name: buildah-buildrun
spec:
  build:
    name: buildah-build
  env:
    - name: <pod_name>
      valueFrom:
        fieldRef:
          fieldPath: metadata.name
----

The following example shows a `BuildRun` resource that uses the Kubernetes downward API to expose a container as an environment variable:

.Example: Defining a `BuildRun` resource to expose a container as an environment variable
[source,yaml]
----
apiVersion: shipwright.io/v1beta1
kind: BuildRun
metadata:
  name: buildah-buildrun
spec:
  build:
    name: buildah-build
  env:
    - name: MEMORY_LIMIT
      valueFrom:
        resourceFieldRef:
          containerName: <my_container>
          resource: limits.memory
----
