// Module included in the following assemblies:
//
// * observability/otel/otel-collector/otel-collector-processors.adoc

:_mod-docs-content-type: REFERENCE
[id="otel-processors-metricsstarttime-processor_{context}"]
= Metrics Start Time Processor

[role="_abstract"]
The Metrics Start Time Processor sets start times for metric points that have cumulative aggregation temporality. This processor is commonly used with the Prometheus receiver, which produces metric points without start times.

.Example of an OpenTelemetry Collector custom resource with an enabled Metrics Start Time Processor
[source,yaml]
----
# ...
config:
    processors:
      metricstarttime:
        strategy: start_time_metric # <1>
        gc_interval: 10m # <2>
        start_time_metric_regex:  # <3>
# ...
----
<1> Defines the strategy to use for setting start times. Valid values are `true_reset_point`, `subtract_initial_point`, and `start_time_metric`. The default value is `true_reset_point`.
<2> Specifies the interval at which the processor checks for inactive resources and removes them from the cache to free memory.
<3> Specifies a regular expression to match metrics that contain the start time. This parameter is only applicable when the `strategy` is set to `start_time_metric`. The default value is `process_start_time`.

.Strategy descriptions
[options="header"]
[cols="a,a"]
|===
|Strategy |Description

|`true_reset_point`
|Creates a stream starting with a True Reset Point where the start time is set to the end timestamp. This strategy preserves absolute values and enables correct rate calculations. This is the default strategy. This strategy is stateful and requires using the sidecar Collector mode to ensure a single Collector instance processes metrics from each application.

|`subtract_initial_point`
|Drops the first point, subtracts its value from subsequent points, and uses the initial timestamp as the start time. This strategy preserves cumulative semantics and produces correct rates but modifies absolute values. This strategy is stateful and requires using the sidecar Collector mode to ensure a single Collector instance processes metrics from each application.

|`start_time_metric`
|Uses the `process_start_time` metric value as the start time for all cumulative points. If this metric is not available, the processor falls back to the Collector start time. This strategy is stateless and is suitable for all Collector modes.
|===
