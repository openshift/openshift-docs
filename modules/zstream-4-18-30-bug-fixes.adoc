// Module included in the following assemblies:
//
// * release_notes/ocp-4-18-release-notes.adoc

:_mod-docs-content-type: REFERENCE
[id="zstream-4-18-30-bug-fixes_{context}"]
= Bug fixes


[role=”_abstract”]
The following bugs are fixed with this release:

* Before this update, the `RevisionController` process in core Operators prevented upgrades to new revisions during a cluster upgrade if the `operator.openshift.io/revision-ready` annotation was missing on the latest available revision ConfigMap. With this release, the `RevisionController` process was updated to upgrade to a new revision even if the `operator.openshift.io/revision-ready` annotation is missing. As a result, core Operators can successfully transition to new revisions regardless of the annotation's presence. (link:https://issues.redhat.com/browse/OCPBUGS-58412[OCPBUGS-58412])

* Before this update, if NetworkManager was restarted or crashed on a node with a `br-ex` interface managed by NMState, the node lost network connectivity. With this release, a fallback check in the dispatcher script was added to detect NMState-managed `br-ex` interfaces by checking for the `br-ex-br` bridge ID when the standard `br-ex` bridge ID is not found. As a result, nodes with this interface type do not lose network connectivity when NetworkManager restarts or crashes. (link:https://issues.redhat.com/browse/OCPBUGS-62169[OCPBUGS-62169])

* Before this update, creating a network bond could hide the original MAC addresses of some interfaces, which caused provisioning to fail. With this release, the `ironic-python-agent` now discovers all MAC addresses within a bond, ensuring nodes can be correctly identified and provisioned no matter which MAC address is used for the `BareMetalHost` `bootMACAddress` value. (link:https://issues.redhat.com/browse/OCPBUGS-62456[OCPBUGS-62456])

* Before this update, the Cloud Credential Operator utility (`ccoctl`) did not support pagination when retrieving `CloudFront` distributions. As a result, if the distribution to be deleted was not included in the first batch of results, the `CloudFront` distribution and its associated origin access identity could not be deleted successfully during the `ccoctl` {aws-first} delete operation. With this release, pagination support is added to the `ccoctl` utility when fetching `CloudFront` distributions, ensuring that the distribution can be located and deleted properly. (link:https://issues.redhat.com/browse/OCPBUGS-65479[OCPBUGS-65479])

* Before this update, during the mirror operation, `oc-mirror` inadvertently set the executable flag on some synchronized files that did not contain executable code or scripts, potentially causing unexpected execution. With this release, unintended executable flags have been removed from the synchronized files. As a result, correct file permissions are set, preventing unintended execution of synchronized files. (link:https://issues.redhat.com/browse/OCPBUGS-65510[OCPBUGS-65510])

* Before this update, a race condition in the Redfish Power interface caused power operations to fail during simultaneous access. As a consequence, users were unable to manage power states reliably. With this release, the race condition in the Redfish Power interface has been resolved, ensuring successful power operations. As a result, users can now manage power states reliably. (link:https://issues.redhat.com/browse/OCPBUGS-65573[OCPBUGS-65573])

* Before this update, the Azure Machine API provider attempted to use the default `platformUpdateDomainCount` of 5 even in regions that are restricted to a single fault domain. This caused machine creation to fail for all node types in affected regions because Azure only supports 1 update domain when the fault domain count is 1. With this release, the logic was updated to explicitly set the `platformUpdateDomainCount` to 1 whenever the `platformFaultDomainCount` is determined to be 1. As a result, Machine Availability Sets are created with valid parameter combinations, allowing machines to successfully provision in Azure regions with a single fault domain. (link:https://issues.redhat.com/browse/OCPBUGS-65882[OCPBUGS-65882])

* Before this update, a rounding error caused metrics charts to display gaps even when the underlying data was continuous. With this release, the rounding error has been corrected, ensuring that charts display without gaps when the data is complete. (link:https://issues.redhat.com/browse/OCPBUGS-65958[OCPBUGS-65958])

*  Before this update, a regression in `runc` prevented pods which had the `shareProcessNamespace` object set to `true` from running properly. With this release, that regression has been corrected. As a result, the underlying issue is resolved, and pods using the `shareProcessNamespace` object can now start and function as expected. (link:https://issues.redhat.com/browse/OCPBUGS-65976[OCPBUGS-65976])
