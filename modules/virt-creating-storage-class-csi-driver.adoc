// Module included in the following assemblies:
//
// * virt/virtual_machines/virtual_disks/virt-configuring-local-storage-for-vms.adoc

:_mod-docs-content-type: PROCEDURE
[id="virt-creating-storage-class-csi-driver_{context}"]
= Creating a storage class for the CSI driver with the storagePools stanza

[role="_abstract"]
You create a storage class custom resource (CR) for the hostpath provisioner (HPP) CSI driver.

.Procedure

. Create a `storageclass_csi.yaml` file to define the storage class:
+
[source,yaml]
----
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: hostpath-csi
provisioner: kubevirt.io.hostpath-provisioner
reclaimPolicy: Delete <1>
volumeBindingMode: WaitForFirstConsumer <2>
parameters:
  storagePool: my-storage-pool <3>
----
+
* `reclaimPolicy` specifies whether the underlying storage is deleted or retained when a user deletes a PVC. The two possible `reclaimPolicy` values are `Delete` and `Retain`. If you do not specify a value, the default value is `Delete`.
* `volumeBindingMode` specifies the timing of PV creation. The `WaitForFirstConsumer` configuration in this example means that PV creation is delayed until a pod is scheduled to a specific node.
* `parameters.storagePool` specifies the name of the storage pool defined in the HPP custom resource (CR).

. Save the file and exit.

. Create the `StorageClass` object by running the following command:
+
[source,terminal]
----
$ oc create -f storageclass_csi.yaml
----
