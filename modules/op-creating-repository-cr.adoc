// This module is included in the following assemblies:
// * pac/using-repository-crd.adoc

:_mod-docs-content-type: REFERENCE
[id="creating-repository-cr_{context}"]
= Creating the Repository custom resource

You can use the `tkn pac` CLI or other alternative methods to create a `Repository` custom resource (CR) inside the target namespace. For example:

[source,terminal]
----
cat <<EOF|kubectl create -n my-pipeline-ci -f- <1>

apiVersion: "pipelinesascode.tekton.dev/v1alpha1"
kind: Repository
metadata:
  name: project-repository
spec:
  url: "https://github.com/<repository>/<project>"
EOF
----
<1> `my-pipeline-ci` is the target namespace.

Whenever there is an event coming from the URL such as `\https://github.com/<repository>/<project>`, {pac} matches it and then starts checking out the content of the `<repository>/<project>` repository for the pipeline run to match the content in the `.tekton/` directory.

[NOTE]
====
* You must create the `Repository` CR in the same namespace where pipelines associated with the source code repository will be executed; it cannot target a different namespace.

* If multiple `Repository` CRs match the same event, {pac} processes only the oldest one. If you need to match a specific namespace, add the `pipelinesascode.tekton.dev/target-namespace: "<mynamespace>"` annotation. Such explicit targeting prevents a malicious actor from executing a pipeline run in a namespace to which they do not have access.
====
