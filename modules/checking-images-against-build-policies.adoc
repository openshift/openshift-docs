// Module included in the following assemblies:
//
// * integration/integrate-with-ci-systems.adoc
:_mod-docs-content-type: PROCEDURE
[id="checking-images-against-build-policies_{context}"]
= Checking images against build-time policies

[role="_abstract"]
In your CI system, configure {product-title-short} to check your builds to make sure images do not violate policies that you have configured by using the `roxctl image check` command. 

This command queries Central and Scanner to check the input image against a set of policies. If the image violates any build-time policy of the requested policy set, which is by default all policies, then the FAIL_BUILD_ENFORCEMENT flag is set. The check result is an error with the return code of 1.

.Prerequisites

* You have configured an {product-title-short} API token.
* You have configured build-time policies.

.Procedure

. In your CI system, configure a job to check the images in the build against your configured policies. Ensure that the `roxctl image check` command is included, as shown in the following example:
+
[source,terminal]
----
$ roxctl image check --endpoint "$STACKROX_CENTRAL_HOST:443" --image "<your_registry/repo/image_name>"
----

where:

`endpoint`::

Specifies the address of Central.

`<your_registry/repo/image_name>`::

Specifies the registry and path to the image that you want to check.


