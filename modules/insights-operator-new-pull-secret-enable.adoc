// Module included in the following assemblies:
//
// * support/remote_health_monitoring/remote-health-reporting.adoc

:_mod-docs-content-type: PROCEDURE
[id="insights-operator-new-pull-secret-enable_{context}"]
= Changing your global cluster pull secret to enable remote health reporting

You can change your existing global cluster pull secret to enable remote health reporting. If you have disabled remote health monitoring, you must download a new pull secret with your `console.openshift.com` access token from {cluster-manager-first}.

.Prerequisites

* Access to the cluster as a user with the `cluster-admin` role.
* Access to {cluster-manager}.

.Procedure

. Go to the link:https://console.redhat.com/openshift/downloads[Downloads] page on the {hybrid-console}.

. From *Tokens* -> *Pull secret*, click the *Download* button.
+
The `pull-secret` file contains your `cloud.openshift.com` access token in JSON format:
+
[source,json,subs="+quotes"]
----
{
  "auths": {
    "cloud.openshift.com": {
      "auth": "_<your_token>_",
      "email": "_<email_address>_"
    }
  }
}
----

. Download the global cluster pull secret to your local file system.
+
[source,terminal]
----
$ oc get secret/pull-secret -n openshift-config \
  --template='{{index .data ".dockerconfigjson" | base64decode}}' \
  > pull-secret
----

. Make a backup copy of your pull secret.
+
[source,terminal]
----
$ cp pull-secret pull-secret-backup
----

. Open the `pull-secret` file in a text editor.

. Append the `cloud.openshift.com` JSON entry from the `pull-secret` file that you downloaded earlier into the `auths` file.

. Save the file.

. Update the secret in your cluster by running the following command:
+
[source,terminal]
----
$ oc set data secret/pull-secret -n openshift-config \
  --from-file=.dockerconfigjson=pull-secret
----
+
You might need to wait several minutes for the secret to update and your cluster to begin reporting.

.Verification

. For a verification check from the {product-title} web console, complete the following steps:
+
.. Go to the *Overview* page on the {product-title} web console.
+
.. View the *Insights* section in the *Status* tile that reports the number of issues found.

. For a verification check from the {oc-first}, enter the following command and then check that the value of the `status` parameter states `false`:
+
[source,terminal]
----
$ oc get co insights -o jsonpath='{.status.conditions[?(@.type=="Disabled")]}'
----

