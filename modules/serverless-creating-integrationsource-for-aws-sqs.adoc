// Module included in the following assemblies:
//
// * /serverless/eventing/event-sources/serverless-integrationsource.adoc

:_mod-docs-content-type: PROCEDURE
[id="serverless-creating-integrationsource-for-aws-sqs_{context}"]
= Creating an IntegrationSource for SQS

To create an `IntegrationSource` API that receives messages from an Amazon SQS queue, apply a YAML manifest.

.Prerequisites

* You have created your AWS credentials and stored them in a Kubernetes Secret in the same namespace as the `IntegrationSource` resource.
* You have the OpenShift CLI (oc) installed and are logged in to the target cluster.
* You know the namespace where the `IntegrationSource` resource will be created.
* A Knative broker or another event sink exists to receive the SQS events.

.Procedure

. Save the following YAML manifest as `integration-source-aws-sqs.yaml`:
+
[source,yaml]
----
apiVersion: sources.knative.dev/v1alpha1
kind: IntegrationSource
metadata:
  name: integration-source-aws-sqs
  namespace: knative-samples
spec:
  aws:
    sqs:
      arn: "arn:aws:sqs:eu-north-1:123456789012:my-queue"
      region: "eu-north-1"
    auth:
      secret:
        ref:
          name: "my-secret"
  sink:
    ref:
      apiVersion: eventing.knative.dev/v1
      kind: Broker
      name: default
----
+
[NOTE]
====
Ensure that the ARN accurately reflects the SQS queue region, account number, and queue name. For example,
`arn:aws:sqs:<region>:<account-id>:<queue-name>`
====

. Apply the manifest by running the following command:
+
[source,terminal]
----
$ oc apply -f integration-source-aws-sqs.yaml
----
+
This manifest configures the `IntegrationSource` API to monitor an Amazon SQS queue identified by its ARN in the `eu-north-1` region. The `auth.secret.ref.name` field references the Kubernetes Secret (`my-secret`) that stores your AWS credentials. The events are delivered to the `default` Knative broker defined in the sink section.