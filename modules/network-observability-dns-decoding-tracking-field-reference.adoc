// Module included in the following assemblies:
//
// * network_observability/network-observability-dns-decoding.adoc

:mod-docs_content-type: REFERENCE
[id="network-observability-dns-decoding-tracking-field-reference_{context}"]
= DNS decoding tracking field reference

[role="_abstract"]
Identify metadata added to network flows, leverage DNS data for network optimization, and understand the performance and storage impacts on the cluster.

The following table describes the metadata fields added to network flows when DNS tracking is enabled.

.DNS flow metadata
[cols="1,2,1",options="header"]
|===
|Field |Description |Example
|`dns_query_name` |The Fully Qualified Domain Name (FQDN) being queried. |`example.com`
|`dns_response_code` |The status code returned by the DNS server. |`NoError`, `NXDomain`
|`dns_id` |The transaction ID used to match queries with responses. |`45213`
|`dns_class` |The DNS class, typically representing the protocol family. |`IN`
|===

[id="leveraging-dns-data-optimization_{context}"]
== Leveraging DNS data for network optimization

Use the captured DNS metadata for the following operational outcomes:

* Identify misconfigurations: A high frequency of `NXDOMAIN` responses typically indicates service discovery errors in application code or stale environment variables.
* Audit external dependencies: Review `dns_query_name` values to ensure workloads are not reaching out to unauthorized external APIs or high-risk domains.
* Performance tuning: Monitor `DNS Latency` to identify if `CoreDNS` pods require additional scaling or if upstream DNS providers are lagging.

[id="interoperability-considerations_{context}"]
== Interoperability considerations

* Loki storage: DNS tracking increases the number of labels and metadata per flow. Ensure your Loki storage is sized to accommodate the increased log volume.
* Performance impact: The eBPF implementation is optimized for high-throughput clusters; however, monitor the CPU usage of `netobserv-ebpf-agent` pods in environments exceeding 100k DNS queries per second.