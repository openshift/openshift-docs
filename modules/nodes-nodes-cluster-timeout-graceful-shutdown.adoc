// Module included in the following assembly:
// * nodes/nodes-nodes-graceful-shutdown

:_content-type: CONCEPT
[id="nodes-nodes-cluster-timeout-graceful-shutdown_{context}"]
= How graceful node shutdown works

During a graceful shutdown, kubelet closes pods in two phases:

* Closes regular pods running on the node.
* Closes critical pods running on the node.

Graceful node shutdown is configured with two KubeletConfiguration options:

* `shutdownGracePeriod`: Specifies the total duration for which the node delays the shutdown. This is the total grace period for pod termination for both regular and critical pods.
* `shutdownGracePeriodCriticalPods`: Specifies the duration used to close critical pods during a node shutdown. This value should be less than `shutdownGracePeriod`.

For example, if `shutdownGracePeriod=30s`, and `shutdownGracePeriodCriticalPods=10s`, kubelet delays the node shutdown by 30 seconds. During the shutdown, the first 20 (30-10) seconds are reserved for gracefully closing normal pods, and the last 10 seconds are reserved for closing critical pods.

[NOTE]
====
When pods are evicted during the graceful node shutdown, they are marked as shutdown.

Running `kubectl get pods` shows the status of the evicted pods as `Terminated`. `kubectl describe pod` indicates that the pod was evicted because of node shutdown:

[source,terminal]
----
Reason:         Terminated
Message:        Pod was terminated in response to imminent node shutdown.
----
====
