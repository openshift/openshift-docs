// Module included in the following assemblies:
//
// * upgrading/upgrade-helm.adoc
:_mod-docs-content-type: PROCEDURE
[id="upgrade-crd-helm_{context}"]
= Preparing the custom resource definition for upgrade

[role="_abstract"]
If upgrading from version 4.6 or 4.7, you must prepare the `SecurityPolicy` custom resource definition (CRD) to avoid upgrade errors.

[NOTE]
====
If you use Kubernetes, enter `kubectl` instead of `oc`.
====

.Procedure
* Apply Helm-specific labels and annotations to the CRD by running the following commands:
+
[source,terminal]
----
$ oc annotate crd/securitypolicies.config.stackrox.io meta.helm.sh/release-name=stackrox-central-services
----
+
Adjust the value of the `release-name` as needed. The default value is `stackrox-central-services`.
+
[source,terminal]
----
$ oc annotate crd/securitypolicies.config.stackrox.io meta.helm.sh/release-namespace=stackrox
----
+
Adjust the value of the `release-namespace` as needed. The default value is `stackrox`.
+
[source,terminal]
----
$ oc label crd/securitypolicies.config.stackrox.io app.kubernetes.io/managed-by=Helm
----