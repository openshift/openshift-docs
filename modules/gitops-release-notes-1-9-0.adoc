// Module included in the following assembly:
//
// * gitops/gitops-release-notes.adoc
:_mod-docs-content-type: REFERENCE
[id="gitops-release-notes-1-9-0_{context}"]
= Release notes for {gitops-title} 1.9.0

{gitops-title} 1.9.0 is now available on {product-title} 4.12 and 4.13.

[id="errata-updates-1-9-0_{context}"]
== Errata updates

=== RHSA-2023:3557 - {gitops-title} 1.9.0 security update advisory

Issued: 2023-06-09

The list of security fixes that are included in this release is documented in the following advisory:

* link:https://access.redhat.com/errata/RHSA-2023:3557[RHSA-2023:3557]

If you have installed the {gitops-title} Operator, run the following command to view the container images in this release:

[source,terminal]
----
$ oc describe deployment gitops-operator-controller-manager -n openshift-operators
----

[id="new-features-1-9-0_{context}"]
== New features

The current release adds the following improvements:

* With this update, you can use a custom `must-gather` tool to collect diagnostic information for project-level resources, cluster-level resources, and {gitops-title} components. This tool provides the debugging information about the cluster associated with {gitops-title}, which you can share with the Red Hat Support team for analysis. link:https://issues.redhat.com/browse/GITOPS-2797[GITOPS-2797]
+
[IMPORTANT]
====
The custom `must-gather` tool is a Technology Preview feature.
====

* With this update, you can add support to progressive delivery using Argo Rollouts. Currently, the supported traffic manager is only {SMProductName}. link:https://issues.redhat.com/browse/GITOPS-959[GITOPS-959]
+
[IMPORTANT]
====
Argo Rollouts is a Technology Preview feature.
====

[role="_additional-resources"]
.Additional resources
* link:https://argo-rollouts-manager.readthedocs.io/en/latest/crd_reference/[Using Argo Rollouts]

[id="deprecated-features-1-9-0_{context}"]
== Deprecated and removed features

* link:https://issues.redhat.com/browse/GITOPS-2890[GITOPS-2890]

* With this update, the support for the following deprecated `sso` and `dex` fields extends until the upcoming {gitops-title} GA v1.10.0 release:
+
** The `.spec.sso.image`, `.spec.sso.version`, `.spec.sso.resources`, and `.spec.sso.verifyTLS` fields.
** The `.spec.dex` parameter along with `DISABLE_DEX`.
+
The deprecated previous `sso` and `dex` fields were earlier scheduled for removal in the {gitops-title} v1.9.0 release but are now planned to be removed in the upcoming {gitops-title} GA v1.10.0 release.
link:https://issues.redhat.com/browse/GITOPS-2904[GITOPS-2904]

[id="fixed-issues-1-9-0_{context}"]
== Fixed issues
The following issues have been resolved in the current release:

* link:https://issues.redhat.com/browse/GITOPS-2375[GITOPS-2375]

* link:https://issues.redhat.com/browse/GITOPS-2418[GITOPS-2418]

* Before this update, users could not connect to Microsoft Team Foundation Server (TFS) type Git repositories through Argo CD deployed by the Operator. This update fixes the issue by updating the Git version to
2.39.3 in the Operator. link:https://issues.redhat.com/browse/GITOPS-2768[GITOPS-2768]

* link:https://issues.redhat.com/browse/GITOPS-2404[GITOPS-2404]

* link:https://issues.redhat.com/browse/GITOPS-2627[GITOPS-2627]

[id="known-issues-1-10_{context}"]
== Known issues
* Currently, the Argo CD does not read the Transport Layer Security (TLS) certificates from the path specified in the `argocd-tls-certs-cm` config map resulting in the `x509: certificate signed by unknown authority` error.
+
Workaround: Perform the following steps:

. Add the `SSL_CERT_DIR` environment variable:
+
.Example Argo CD custom resource

[source,yaml]
----
apiVersion: argoproj.io/v1alpha1
kind: ArgoCD
metadata:
  name: example-argocd
  labels:
    example: repo
spec:
   ...
  repo:
    env:
      - name: SSL_CERT_DIR
        value: /tmp/sslcertdir
    volumeMounts:
      - name: ssl
        mountPath: /tmp/sslcertdir
    volumes:
      - name: ssl
        configMap:
          name: user-ca-bundle
   ...
----

. Create an empty config map in the namespace where the subscription for your Operator exists and include the following label:
+
.Example config map

[source,yaml]
----
apiVersion: v1
kind: ConfigMap
metadata:
  name: user-ca-bundle <1>
  labels:
    config.openshift.io/inject-trusted-cabundle: "true" <2>
----
<1> Name of the config map.
<2> Requests the Cluster Network Operator to inject the merged bundle.
+
After creating this config map, the `user-ca-bundle` content from the `openshift-config` namespace automatically gets injected into this config map, even merged with the system ca-bundle. link:https://issues.redhat.com/browse/GITOPS-1482[GITOPS-1482]
