// Module included in the following assemblies:
//
// * cloud_experts_tutorials/cloud-experts-consistent-egress-ip.adoc
// Module included in the following assemblies:
//
// * cloud_experts_tutorials/cloud-experts-consistent-egress-ip.adoc
:_mod-docs-content-type: PROCEDURE
[id="cloud-experts-consistent-egress-ip-assigning-to-pod_{context}"]
= Assigning an egress IP to a pod

[role="_abstract"]
Create an egress rule to assign an egress IP to a specified pod.

.Procedure
. Create a new project by running the following command:
+
[source,terminal]
----
$ oc new-project demo-egress-pod
----
+
. Create the egress rule for the pod by running the following command:
+
[NOTE]
==== 
`spec.namespaceSelector` is a mandatory field.
====
+
[source,terminal]
----
$ cat <<EOF | oc apply -f -
apiVersion: k8s.ovn.org/v1
kind: EgressIP
metadata:
  name: demo-egress-pod
spec:
  # NOTE: these egress IPs are within the subnet range(s) in which my worker nodes
  #       are deployed.
  egressIPs:
    - 10.10.100.254
    - 10.10.150.254
    - 10.10.200.254
  namespaceSelector:
    matchLabels:
      kubernetes.io/metadata.name: demo-egress-pod
  podSelector:
    matchLabels:
      run: demo-egress-pod
EOF
----