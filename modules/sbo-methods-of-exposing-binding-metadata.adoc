[id="sbo-methods-of-exposing-binding-metadata_{context}"]
= Methods of exposing binding metadata

This section describes the methods you can use to expose the binding metadata.

Ensure that you know and understand your workload requirements and environment, and how it works with the provided services.

Binding metadata is exposed under the following circumstances:

* Backing service is available as a provisioned service resource.
+
The service you intend to connect to is compliant with the Service Binding specification. You must create a `Secret` resource with all the required binding metadata values and reference it in the backing service custom resource (CR). The detection of all the binding metadata values is automatic.

* Backing service is not available as a provisioned service resource.
+
You must expose the binding metadata from the backing service. Depending on your workload requirements and environment, you can choose any of the following methods to expose the binding metadata:
+
** Direct secret reference
** Generation of an intermediate secret through custom resource definition (CRD) or custom resource (CR) annotations
** Generation of an intermediate secret through OLM descriptors
** Detection of binding metadata through owned resources

== Provisioned service
Provisioned service represents a backing service CR with a reference to a `Secret` resource.

As an Operator provider or the user who creates backing services, you can use this method to be compliant with the Service Binding specification, by creating a `Secret` resource and referencing it in the backing service CR. This `Secret` resource must provide all the binding metadata values required for a workload to connect to the backing service.

== Direct secret reference
You can use this method, if all the required binding metadata values are available in a `Secret` resource that you can reference in your Service Binding definition. In this method, a `ServiceBinding` resource directly references a `Secret` resource to connect to a service. All the keys in the `Secret` resource are exposed as binding metadata.

== Generation of an intermediate secret through CRD or CR annotations
You can use this method to annotate the resources of the backing service to expose the binding metadata with specific annotations. Adding annotations under the `metadata` section alters the CRs and CRDs of the backing services. {servicebinding-title} Operator detects the annotations added to the CRs and CRDs and then creates a `Secret` resource with the values extracted based on the annotations.

== Generation of an intermediate secret through OLM descriptors
You can use this method if your backing service is provided by an Operator. If your Operator is distributed as an Operator bundle, you can add Operator Lifecycle Manager (OLM) descriptors to describe the binding metadata that is to be exposed. The OLM descriptors are part of Cluster Service Version resources. The Service Binding Operator detects the OLM descriptors and then creates a `Secret` resource with the values extracted based on the detected OLM descriptors.

== Detection of binding metadata through owned resources
You can use this method if your backing service owns Kubernetes resources such as route, service, config map, and secret that you can use to detect the binding metadata. In this method, the Service Bindings Operator detects the binding metadata from resources owned by the backing service CR and then generates an intermediate secret out of it.
