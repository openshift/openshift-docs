// Module included in the following assemblies:
//
// * operating/manage-network-policies.adoc
:_content-type: CONCEPT
[id="policy-generation-strategy_{context}"]
= About generating policies

A Kubernetes network policy controls which pods receive incoming network traffic, and which pods can send outgoing traffic.
By using network policies to enable and disable traffic to or from pods, you can limit your network attack surface.

These network policies are YAML configuration files.
It is often difficult to gain insights into the network flow and manually create these files. You can use {rh-rhacscs-first} to generate these files.
When you autogenerate network policies, {product-title-short} follows these guidelines:

* {product-title-short} generates a single network policy for each deployment in the namespace.
The pod selector for the policy is the pod selector of the deployment.
** If a deployment already has a network policy, {product-title-short} does not generate new policies or delete existing policies.
* Generated policies only restrict traffic to existing deployments.
** Deployments that you create later will not have any restrictions unless you create or generate new network policies for them.
** If a new deployment needs to contact a deployment with a network policy, you might need to edit the network policy to allow access.
* Each policy has the same name as the deployment name, prefixed with `stackrox-generated-`.
For example, the policy name for the deployment `depABC` in the generated network policy is `stackrox-generated-depABC`.
All generated policies also have an identifying label.
* {product-title-short} generates a single rule allowing traffic from any IP address if one of the following conditions are met:
** The deployment has an incoming connection from outside the cluster within the selected time
** The deployment is exposed through a node port or load balancer service
* {product-title-short} generates one `ingress` rule for every deployment from which there is an incoming connection.
** For deployments in the same namespace, this rule uses the pod selector labels from the other deployment.
** For deployments in different namespaces, this rule uses a namespace selector.
To make this possible, {product-title-short} automatically adds a label, `namespace.metadata.stackrox.io/name`, to each namespace.

[IMPORTANT]
====
In rare cases, if a standalone pod does not have any labels, the generated policy allows traffic from or to the pod's entire namespace.
====
