// Module included in the following assemblies:
//
// * installing/installing_openstack/installing-openstack-installer.adoc
// * installing/installing_openstack/installing-openstack-installer-custom.adoc
// * installing/installing_openstack/installing-openstack-installer-kuryr.adoc

[id="installation-osp-configuring-api-floating-ip_{context}"]

= Configuring API access with floating IP addresses

.Prerequisites

* {product-title} cluster must be running
* Floating IP addresses are enabled as described in _Enabling access to the API_

.Procedure

After the {product-title} cluster is running, attach a floating IP address to the ingress port:

. Show the port:
+
----
$ openstack port show <cluster name>-<clusterID>-ingress-port
----

. Attach the port to the IP address:
+
----
$ openstack floating ip set --port <ingress port ID> <apps FIP>
----

. Add a wildcard `A` record for `*apps.` to your DNS file:
+
[source,dns]
----
*.apps.<cluster name>.<base domain>  IN  A  <apps FIP>
----

[NOTE]
====
If you don't control the DNS, you can add these hostnames to `/etc/hosts`:

[source,dns]
----
<apps FIP> console-openshift-console.apps.<cluster name>.<base domain>
<apps FIP> integrated-oauth-server-openshift-authentication.apps.<cluster name>.<base domain>
<apps FIP> oauth-openshift.apps.<cluster name>.<base domain>
<apps FIP> prometheus-k8s-openshift-monitoring.apps.<cluster name>.<base domain>
<apps FIP> grafana-openshift-monitoring.apps.<cluster name>.<base domain>
<apps FIP> <app name>.apps.<cluster name>.<base domain>
----

This action makes the API accessible to you only, which is not suitable for production deployment, but does allow installation for development and testing.
====