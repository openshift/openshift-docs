// This file is referenced in the following assembly:
// installing/installing_gcp/installing-gcp-shared-vpc.adoc

:_mod-docs-content-type: PROCEDURE
[id="installation-gcp-shared-vpc-config_{context}"]
= Sample customized install-config.yaml file for shared VPC installation
There are several configuration parameters which are required to install {product-title} on {gcp-short} using a shared VPC. The following is a sample `install-config.yaml` file which demonstrates these fields.

[IMPORTANT]
====
This sample YAML file is provided for reference only. You must modify this file with the correct values for your environment and cluster.
====

[source,yaml]
----
apiVersion: v1
baseDomain: example.com
credentialsMode: <credentials_mode>
metadata:
  name: cluster_name
platform:
  gcp:
    computeSubnet: <compute_subnet>
    controlPlaneSubnet: <control_plane_subnet>
    network: <network>
    networkProjectID: <network_project_id>
    projectID: <project_id>
    region: us-east1
    defaultMachinePlatform:
      tags:
      - global-tag1
controlPlane:
  name: master
  platform:
    gcp:
      tags:
      - control-plane-tag1
      type: n2-standard-4
      zones:
      - us-central1-a
      - us-central1-c
  replicas: 3
compute:
- name: worker
  platform:
    gcp:
      tags:
      - compute-tag1
      type: n2-standard-4
      zones:
      - us-central1-a
      - us-central1-c
  replicas: 3
networking:
  clusterNetwork:
  - cidr: 10.128.0.0/14
    hostPrefix: 23
  machineNetwork:
  - cidr: 10.0.0.0/16
pullSecret: '{"auths": ...}'
sshKey: <ssh_key>
----
where:

<credentials_mode>:: Specifies the credentials mode. `credentialsMode` must be set to `Passthrough` or `Manual`. See the "Prerequisites" section for the required {gcp-short} permissions that your service account must have.
<compute_subnet>:: Specifies the name of the subnet in the shared VPC for compute machines to use.
<control_plane_subnet>:: Specifies the name of the subnet in the shared VPC for control plane machines to use.
<network>:: Specifies the name of the shared VPC.
<network_project_id>:: Specifies the name of the host project where the shared VPC exists.
<project_id>:: Specifies the name of the {gcp-short} project where you want to install the cluster.
tags:: Optional. Specifies one or more network tags to apply to compute machines, control plane machines, or all machines.
<ssh_key>:: Optional. Specifies the `sshKey` value that you use to access the machines in your cluster.