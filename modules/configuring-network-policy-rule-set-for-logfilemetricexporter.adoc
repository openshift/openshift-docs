// Module included in the following assemblies:
//
// * configuring/cluster-logging-collector.adoc

:_newdoc-version: 2.18.4
:_template-generated: 2025-10-13
:_mod-docs-content-type: PROCEDURE

[id="configuring-network-policy-rule-set-for-logfilemetricexporter_{context}"]
= Configuring network policy rule set for LogFileMetricExporter

[role="_abstract"]
Define a network policy rule set so that {clo} creates a `NetworkPolicy` resource for the `LogFileMetricExporter` pods when the `LogFileMetricExporter` resource is deployed.
The `NetworkPolicy` resource overrides network restrictions to ensure that the permitted ingress and egress traffic for the `LogFileMetricExporter` pods is allowed to flow.

.Prerequisites
* You have administrator permissions.
* You have installed the {oc-first}.
* You have installed the {clo}.
* You have created a `LogFileMetricExporter` CR.


.Procedure

. Update the `LogFileMetricExporter` CR:
+
[source,yaml]
----
apiVersion: logging.openshift.io/v1alpha1
kind: LogFileMetricExporter
metadata:
  name: my-lfme
  namespace: openshift-logging
spec:
  networkPolicy:
    ruleSet: <AllowAllIngressEgress_or_AllowIngressMetrics>
#...
----
+
Where the value for the `ruleSet` field can be either `AllowAllIngressEgress` or `AllowIngressMetrics`.

. Apply the configuration by running the following command:
+
[source,terminal]
----
$ oc apply -f <filename>.yaml
----
