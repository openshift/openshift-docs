:_mod-docs-content-type: Procedure
[id="ossm-accessing-bookinfo-application-using-istio-gateway-injection"]
= Deploying Istio
:context: ossm-accessing-bookinfo-application-using-istio-gateway-injection

Gateway Injection uses the same mechanisms as {istio} sidecar injection to create a gateway from a `Deployment` resource that is paired with a `Service` resource. The `Service` resource can be made accessible from outside an {ocp-product-title} cluster.

.Procedure

. Create the `istio-ingressgateway` deployment and service by running the following command at the CLI:
+
[source,terminal]
----
$ oc apply -n istio-system -f ingress-gateway.yaml
----

. Configure the `bookinfo` application to use the new gateway apply the gateway configuration: 
+
[source,terminal]
----
$ oc apply -f https://raw.githubusercontent.com/istio/istio/master/samples/bookinfo/networking/bookinfo-gateway.yaml -n bookinfo
----
+
[NOTE]
====
To configure gateway injection with the `bookinfo` application, this example uses a sample gateway configuration file that must be applied in the namespace where the application is installed.
====

. Use a route to expose the gateway external to the cluster:
+
[source,terminal]
----
$ oc expose service istio-ingressgateway -n istio-system
----

. Obtain the gateway host name and the URL of the product page:
+
[source,terminal]
----
$ HOST=$(oc get route istio-ingressgateway -o jsonpath='{.spec.host}' -n istio-system)
$ echo http://$HOST/productpage
----

. Verify that the `productpage` is accessible from a web browser.