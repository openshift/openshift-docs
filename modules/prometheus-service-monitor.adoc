// Module included in the following assemblies:
//
// * configuration/monitor-acs.adoc
:_mod-docs-content-type: PROCEDURE
[id="prometheus-service-monitor-example_{context}"]
= Monitoring Central by using Prometheus service monitor

[role="_abstract"]
If you are using the Prometheus Operator, you can use a service monitor to scrape the metrics from {rh-rhacs-first}.

[IMPORTANT]
====
* If you are not using the Prometheus operator, you must edit the Prometheus configuration files to receive the data from {product-title-short}.
* If you use Kubernetes, enter `kubectl` instead of `oc`.
====

.Procedure
. Create a new `servicemonitor.yaml` file with the following content:
+
[source,yaml]
----
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: prometheus-stackrox
  namespace: stackrox
spec:
  endpoints:
    - interval: 30s
      port: monitoring
      scheme: http
  selector:
    matchLabels:
      app.kubernetes.io/name: <stackrox-service>
----
+
where:
+
--
`app.kubernetes.io/name:<stackrox-service>`:: Specifies the name of the service to monitor. The label must match with the `Service` resource that you want to monitor. For example, `central` or `scanner`.
--
. Apply the YAML to the cluster:
+
[source,terminal]
----
$ oc apply -f servicemonitor.yaml
----

.Verification
* Run the following command to check the status of service monitor:
+
[source,terminal]
----
$ oc get servicemonitor --namespace stackrox
----