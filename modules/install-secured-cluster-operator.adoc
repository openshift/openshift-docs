// Module included in the following assemblies:
//
// * installing/install_cloud_ocp/install-secured-cluster-cloud-ocp.adoc
// * installing/installing_ocp/install-secured-cluster-ocp.adoc

:content-type: PROCEDURE
[id="install-secured-cluster-operator_{context}"]
= Installing secured cluster services

ifeval::["{context}" == "install-secured-cluster-cloud-ocp"]
:cloud-svc:
endif::[]

[role="_abstract"]
You can install secured cluster services on your clusters by using the `SecuredCluster` custom resource. You must install the secured cluster services on every cluster in your environment that you want to monitor.

[CAUTION]
====
When you install secured cluster services, Collector is also installed. To install Collector on systems that have Unified Extensible Firmware Interface (UEFI) and that have Secure Boot enabled, you must use eBPF probes because kernel modules are unsigned, and the UEFI firmware cannot load unsigned packages. Collector identifies Secure Boot status at the start and switches to eBPF probes if required.
====

.Prerequisites
* If you are using {ocp}, you must install version 4.6 or later.
* You have installed the {product-title-short} Operator.
* You have generated an init bundle and applied it to the cluster.

.Procedure
. On the {ocp} web console, navigate to the *Operators* -> *Installed Operators* page.
. Click the {product-title-short} Operator.
. Click *Secured Cluster* from the central navigation menu in the *Operator details* page.
. Click *Create SecuredCluster*.
. Select one of the following options in the *Configure via* field:
* *Form view*: Use this option if you want to use the on-screen fields to configure the secured cluster and do not need to change any other fields. 
* *YAML view*: Use this view to set up the secured cluster using the YAML file. The YAML file is displayed in the window and you can edit fields in it. If you select this option, when you are finished editing the file, click *Create*.
. If you are using *Form view*, enter the new project name by accepting or editing the default name. The default value is *stackrox-secured-cluster-services*.
. Optional: Add any labels for the cluster.
. Enter a unique name for your `SecuredCluster` custom resource. 
. For *Central Endpoint*, enter the address and port number of your Central instance. For example, if Central is available at `\https://central.example.com`, then specify the central endpoint as `central.example.com:443`. The default value of `central.stackrox.svc:443` only works when you install secured cluster services and Central in the same cluster. Do not use the default value when you are configuring multiple clusters. Instead, use the hostname when configuring the *Central Endpoint* value for each cluster.
ifdef::cloud-svc[]
*  For {product-title-managed-short} use the *Central API Endpoint*, including the address and the port number. You can view this information by choosing *Advanced Cluster Security* -> *ACS Instances* from the cloud console navigation menu, then clicking the ACS instance you created.
endif::cloud-svc[]
* Only if you are installing secured cluster services and Central in the same cluster, use `central.stackrox.svc:443`.
. Accept the default values or configure custom values if needed. For example, you may need to configure TLS if you are using custom certificates or untrusted CAs.
//Add a link for customization options
. Click *Create*.

.Next step
. Optional: Configure additional secured cluster settings.
. Verify installation.
