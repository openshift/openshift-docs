// Module included in the following assemblies:
//
// * installing/acs-default-requirements.adoc
:_mod-docs-content-type: CONCEPT
[id="default-requirements-central-services_{context}"]
= Central services (self-managed)

[NOTE]
====
If you are using {rh-rhacscs-first}, you do not need to review the requirements for Central services, because they are managed by Red{nbsp}Hat. You only need to look at the requirements for secured cluster services.
====

Central services contain the following components:

* Central
* Scanner
* Scanner V4 (optional)

[id="default-requirements-central-services-central_{context}"]
== Central

A containerized service called Central handles API interactions and {product-title-short} web portal access while a containerized service called Central DB (PostgreSQL 13) handles data persistence.

Central DB requires persistent storage in the cluster where Central is installed.

* You can provide storage with a persistent volume claim (PVC).
+
[NOTE]
====
You can use a hostPath volume for storage only if all your hosts (or a group of hosts) mount a shared file system, such as an NFS share or a storage appliance.
Otherwise, your data is only saved on a single node. Red{nbsp}Hat does not
recommend using a hostPath volume.
====
* Use Solid-State Drives (SSD) for best performance.
However, you can use another storage type if you do not have SSDs available.
* If you use a web proxy or firewall, you must configure bypass rules to allow traffic for the `definitions.stackrox.io` domain and enable {product-title} to trust your web proxy or firewall. Otherwise, updates for vulnerabilities will fail.
+
{product-title} requires access to:

** `definitions.stackrox.io` for downloading updated vulnerability data. Vulnerability updates allow {product-title} to maintain up-to-date vulnerability data when new vulnerabilities are discovered or additional data sources are added.

[NOTE]
====
For security reasons, you should deploy Central in a cluster with limited administrative access.
====

[discrete]
== CPU, memory, and storage requirements

The following table lists the minimum CPU and memory values required to install and run Central.

|===
| Central | CPU | Memory

| *Request*
| 1.5 cores
| 4 GiB

| *Limit*
| 4 cores
| 8 GiB
|===

Central requires Central DB to store data. The following table lists the minimum CPU, memory, and storage values required to install and run Central DB.

|===
| Central DB | CPU | Memory | Storage

| *Request*
| 4 cores
| 8 GiB
| 100 GiB

| *Limit*
| 8 cores
| 16 GiB
| 100 GiB
|===


[id="default-requirements-central-services-scanner_{context}"]
== Scanner

Scanner is responsible for scanning images, nodes, and the platform for vulnerabilities.

Beginning with version 4.4, {product-title-short} includes two image vulnerability scanners: StackRox Scanner and Scanner V4. StackRox Scanner is planned to be removed in a future release, but is still required at this time to perform node and platform scanning. Scanner V4 is the preferred image scanner because it provides additional features over the StackRox Scanner, such as expanded language and operating system support and data from additional vulnerability sources.

[discrete]
== CPU, memory, and storage requirements

The following table lists the minimum CPU and memory values required to install and run Scanner. The requirements in this table are based on the default of 3 replicas.

|===
| StackRox Scanner | CPU | Memory

| *Request*
| 3 cores
| 4500 MiB

| *Limit*
| 6 cores
| 12 GiB
|===

The StackRox Scanner requires Scanner DB (PostgreSQL 15) to store data. This data is not persisted. The following table lists the minimum CPU and memory values required to install and run Scanner DB.

|===
| Scanner DB | CPU | Memory

| *Request*
| 0.2 cores
| 512 MiB

| *Limit*
| 2 cores
| 4 GiB
|===


[id="default-requirements-central-services-scanner-v4_{context}"]
== Scanner V4

Scanner V4 is the preferred image scanner because it provides additional features over the StackRox Scanner, such as expanded language and operating system support and data from additional vulnerability sources.

[discrete]
== CPU, memory, and storage requirements

[discrete]
=== Scanner V4 Indexer

The requirements in this table are based on the default of 3 replicas.

|===
| Scanner V4 Indexer | CPU | Memory

| *Request*
| 3 cores
| 4500 MiB

| *Limit*
| 6 cores
| 9 GiB
|===

[discrete]
=== Scanner V4 Matcher

The requirements in this table are based on the default of 2 replicas.

|===
| Scanner V4 Matcher | CPU | Memory

| *Request*
| 2 cores
| 1000 MiB

| *Limit*
| 4 cores
| 4 GiB
|===

[discrete]
=== Scanner V4 DB

Scanner V4 requires Scanner V4 DB (PostgreSQL 15) to store data. For Scanner V4 DB, a PVC is required to ensure optimal performance. The following table lists the minimum CPU, memory, and storage values required to install and run Scanner V4 DB.

|===
| Scanner V4 DB | CPU | Memory | Storage

| *Request*
| 0.2 cores
| 3 GiB
| 50 GiB

| *Limit*
| 2 cores
| 4 GiB
| 50 GiB
|===
