// Module included in the following assemblies:
//
// * logging/efk-logging.adoc

[id="efk-logging-configuring-crd-{context}"]
= About the Cluster Logging Custom Resource Definition

The Cluster Logging Operator Custom Resource Definition (CRD) defines a complete cluster logging deployment
that includes all the components of the logging stack to collect, store and visualize logs.

You should never have to modify this CRD. To make changes to your deployment, create and modify a specific Custom Resource (CR).
Instructions for creating or modifying a CR are provided in this documentation as appropriate.

The following is an example of a typical Custom Resource for cluster logging.

[id="efk-logging-configuring-about-sample-{context}"]
.Sample Cluster Logging CR
[source,yaml]
----
apiVersion: "logging.openshift.io/v1"
kind: "ClusterLogging"
metadata:
  name: "instance"
nodeSpec:
  image: openshift/origin-logging-elasticsearch5
  resources: {}
spec:
  managementState: "Managed"
  logStore:
    type: "elasticsearch"
    elasticsearch:
      resources:
        limits:
          cpu:
          memory:
        requests:
          cpu:
          memory:
      nodeCount: 3
      nodeSelector:
          node-type: infra
          cluster-logging-component: es
      storage:
        storageClass:
          name: "gp2"
          size: "200G"
      redundancyPolicy: "SingleRedundancy"
  visualization:
    type: "kibana"
    kibana:
      replicas: 1
      resources:
      proxy:
        resources:
          limits:
            cpu:
            memory:
          requests:
            cpu:
            memory:
  collection:
    logs:
      type: "fluentd"
      fluentd:
        resources:
          limits:
            cpu:
            memory:
          requests:
            cpu:
            memory:
  curation:
    type: "curator"
    curator:
      schedule: "30 3 * * *"
nodes:
  nodeSpec:
     resources: {}
  replicas: 1
  roles:
  - client
  - data
  - master
storage:
  emptyDir: {}
----
