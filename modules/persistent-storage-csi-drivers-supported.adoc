// Module included in the following assemblies:
//
// * storage/container_storage_interface/persistent-storage-csi.adoc

:_mod-docs-content-type: REFERENCE
[id="csi-drivers-supported_{context}"]
= CSI drivers supported by {product-title}

{product-title} installs certain CSI drivers by default, giving users storage options that are not possible with in-tree volume plugins.

To create CSI-provisioned persistent volumes that mount to these supported storage assets, {product-title} installs the necessary CSI driver Operator, the CSI driver, and the required storage class by default. For more details about the default namespace of the Operator and driver, see the documentation for the specific CSI Driver Operator.

ifndef::openshift-rosa,openshift-rosa-hcp[]
[IMPORTANT]
====
The AWS EFS and GCP Filestore CSI drivers are not installed by default, and must be installed manually. For instructions on installing the AWS EFS CSI driver, see link:https://docs.redhat.com/documentation/openshift_dedicated/4/html/storage/using-container-storage-interface-csi#persistent-storage-efs-csi-driver-operator-setup_persistent-storage-csi-aws-efs[Setting up AWS Elastic File Service CSI Driver Operator]. For instructions on installing the GCP Filestore CSI driver, see link:https://docs.redhat.com/documentation/openshift_container_platform/{product-version}/html/storage/using-container-storage-interface-csi#persistent-storage-csi-google-cloud-file-overview[Google Cloud Filestore CSI Driver Operator].
====
endif::openshift-rosa,openshift-rosa-hcp[]

ifdef::openshift-rosa,openshift-rosa-hcp[]
[IMPORTANT]
====
The AWS EFS driver is not installed by default, and must be installed manually. For instructions about installing the AWS EFS CSI driver, see "AWS Elastic File Service CSI Driver Operator" in the _Additional resources_ section.
====
endif::openshift-rosa,openshift-rosa-hcp[]

The following table describes the CSI drivers that are
ifndef::openshift-dedicated[]
installed with {product-title},
endif::openshift-dedicated[]
supported by {product-title}, and which CSI features they support, such as volume snapshots and resize.

ifndef::openshift-rosa,openshift-rosa-hcp[]
[IMPORTANT]
====
If your CSI driver is not listed in the following table, you must follow the installation instructions provided by your CSI storage vendor to use their supported CSI features.
====

For a list of third-party-certified CSI drivers, see the _Red Hat ecosystem portal_ under _Additional resources_.

endif::openshift-rosa,openshift-rosa-hcp[]
ifdef::openshift-rosa,openshift-rosa-hcp,openshift-aro[]
In addition to the drivers listed in the following table, {product-title} functions with CSI drivers from third-party storage vendors. Red Hat does not oversee third-party provisioners or the connected CSI drivers and the vendors fully control source code, deployment, operation, and Kubernetes compatibility. These volume provisioners are considered customer-managed and the respective vendors are responsible for providing support. For more information, see the _Shared responsibilities for {product-title}_ in the _Additional resources_ section.
endif::openshift-rosa,openshift-rosa-hcp,openshift-aro[]

.Supported CSI drivers and features in {product-title}
[cols=",^v,^v,^v,^v,^v,^v ,^v width="100%",options="header"]
|===
|CSI driver |CSI volume snapshots  |CSI volume group snapshots ^[1]^ |CSI cloning  |CSI resize |Inline ephemeral volumes |User namespaces
|AWS EBS | ✅ |  |  | ✅| |✅ 
|AWS EFS |  |  |  |  | |
ifndef::openshift-rosa,openshift-rosa-hcp[]
|Google Compute Platform (GCP) persistent disk (PD)|  ✅|  |✅^[2]^ | ✅| |✅ 
|GCP Filestore | ✅ |  | | ✅| |
endif::openshift-rosa,openshift-rosa-hcp[]
ifndef::openshift-dedicated,openshift-rosa,openshift-rosa-hcp[]
|{ibm-power-server-name} Block |   |  |   | ✅ | |✅
|{ibm-cloud-name} Block | ✅^[3]^ |  |   | ✅^[3]^| |✅ 
endif::openshift-dedicated,openshift-rosa,openshift-rosa-hcp[]
|LVM Storage | ✅ |  | ✅ | ✅ | |✅ 
ifndef::openshift-dedicated,openshift-rosa,openshift-rosa-hcp[]
|Microsoft Azure Disk | ✅ |  | ✅ | ✅| | ✅ 
|Microsoft Azure Stack Hub | ✅ |  | ✅ | ✅| |✅ 
|Microsoft Azure File | ✅  |  | ✅ | ✅| ✅ |
|OpenStack Cinder | ✅ |  | ✅ | ✅| |✅ 
|OpenShift Data Foundation | ✅ | ✅ | ✅ | ✅| |✅ ^[4]^
|OpenStack Manila | ✅ |  |   | ✅  | |
|CIFS/SMB |   |  | ✅  |   | |
|VMware vSphere | ✅^[5]^ |  |   | ✅^[6]^| |✅ ^[7]^
endif::openshift-dedicated,openshift-rosa,openshift-rosa-hcp[]
|===
ifndef::openshift-dedicated,openshift-rosa,openshift-rosa-hcp[]
--
1.

:FeatureName: CSI volume group snapshots
include::snippets/technology-preview.adoc[leveloffset=+1]

2.

* Cloning is not supported on hyperdisk-balanced disks with storage pools.

3.

* Does not support offline snapshots or resize. Volume must be attached to a running pod.

4.

* RBD supports user namespaces; CephFS does not.

5.

* Requires VMware vSphere version 8.0 Update 1 or later, or VMware vSphere Foundation (VVF) 9, or VMware Cloud Foundation (VCF) 9, for both vCenter Server and ESXi.

* Does not support fileshare volumes.

6.

* Online expansion is supported from VMware vSphere version 8.0 Update 1 and later, or VVF 9, or VCF 9.
--
endif::openshift-dedicated,openshift-rosa,openshift-rosa-hcp[]

7.

*  File persistent volumes (PVs), such as vSAN file service, do not support user namespaces.