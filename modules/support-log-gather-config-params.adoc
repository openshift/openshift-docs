
// Module included in the following assemblies:
//
// * support/gathering-cluster-data.adoc

:_mod-docs-content-type: REFERENCE
[id="support-log-gather-config-params_{context}"]
= Configuration parameters for MustGather custom resource

[role="_abstract"]
You can manage your `MustGather` custom resource (CR) by creating a YAML file that specifies the parameters for data collection and the upload process.
The following table provides an overview of the parameters that you can configure in the `MustGather` CR.

[cols="1,3,1", options="header"]
|===
|Parameter name |Description |Type

|`spec.audit`
|Optional: Specifies whether to collect audit logs. The valid values are `true` and `false`. The default value is `false`.
|`boolean`

|`spec.mustGatherTimeout`
|Optional: Specifies the time limit for the `must-gather` command to complete.
|The value must be a floating-point number with a time unit. The valid units are `s` (seconds), `m` (minutes), or `h` (hours). By default, no time is limit set.

|`spec.proxyConfig`
|Optional: Defines the proxy configuration to be used. The default value is set to the cluster-level proxy configuration.
|`Object`

|`spec.proxyConfig.httpProxy`
|Specifies the URL of the proxy for HTTP requests.
|URL

|`spec.proxyConfig.httpsProxy`
|Specifies the URL of the proxy for HTTPS requests.
|

|`spec.proxyConfig.noProxy`
|Specifies a comma-separated list of domains for which the proxy must not be used.
|List of URLs

|`spec.retainResourcesOnCompletion`
|Optional: Specifies whether to retain the `must-gather` job and its related resources after the completion of data collection. The valid values are `true` and `false`. The default value is `false`.
|`boolean`

|`spec.serviceAccountName`
|Optional: Specifies the name of the service account. The default value is `default`.
|`string`

|`spec.storage`
|Optional: Defines the storage configuration for the `must-gather` bundle.
|`Object`

|`spec.storage.persistentVolume`
|Defines the details of the persistent volume.
|`Object`

|`spec.storage.persistentVolume.claim`
|Defines the details of the persistent volume claim (PVC).
|`Object`

|`spec.storage.persistentVolume.claim.name`
|Specifies the name of the PVC to be used for storage.
|`string`

|`spec.storage.persistentVolume.subPath`
|Optional: Specifies the path within the PVC to store the bundle.
|`string`

|`spec.storage.type`
|Defines the type of storage. The only supported value is `PersistentVolume`.
|`string`

|`spec.uploadTarget`
|Optional: Defines the upload location for the `must-gather` bundle.
|`Object`

|`spec.uploadTarget.host`
|Optional: Specifies the destination server for the bundle upload. By default, the bundle is uploaded to `sftp.access.redhat.com`.
|By default, the bundle is uploaded to `sftp.access.redhat.com`.

|`spec.uploadTarget.sftp.caseID`
|Specifies the Red{nbsp}Hat Support case ID for which the diagnostic data is collected.
|`string`

|`spec.uploadTarget.sftp.caseManagementAccountSecretRef`
|Defines the credentials required for authenticating and uploading the files to the Red{nbsp}Hat Customer Portal support case. The value must contain a `username` and `password` field.
|`Object`

|`spec.uploadTarget.sftp.caseManagementAccountSecretRef.name`
|Specifies the name of the Kubernetes secret that contains the credentials.
|`string`

|`spec.uploadTarget.sftp.internalUser`
|Optional: Specifies whether the user provided in the `caseManagementAccountSecretRef` is a Red{nbsp}Hat internal user. The valid values are `true` and `false`. The default value is `false`.
|`boolean`

|`spec.uploadTarget.type`
|Specifies the type of upload location for the `must-gather` bundle. The only supported value is `SFTP`.
|`string`

|===

[NOTE]
====
If you do not specify `spec.uploadTarget` or `spec.storage`, the pod saves the data to an ephemeral volume and the data is permanently deleted when the pod terminates.
====