// Module is included in the following assemblies:
//
// * accesscontrol_usermanagement/managing-local-users-in-argo-cd.adoc

:_mod-docs-content-type: CONCEPT
[id="gitops-token-storage-and-access_{context}"]
= Token storage and access

[role="_abstract"]
For each local user, the Argo CD Operator creates a Kubernetes secret in the same namespace as the Argo CD instance. The secret name follows the format `{username}-local-user`.

The following example shows the Kubernetes `Secret` that stores a local user's API token and configuration details.

[source,yaml]
----
apiVersion: v1
kind: Secret
metadata:
  name: api-user-local-user
  namespace: argocd
  labels:
    app.kubernetes.io/component: local-users
    app.kubernetes.io/managed-by: argocd-operator
type: Opaque
data:
  apiToken: base64-encoded-jwt-token
  user: base64-encoded-username
  expAt: base64-encoded-expiration-timestamp
  tokenLifetime: base64-encoded-lifetime-setting
  autoRenew: base64-encoded-auto-renew-setting
----

[IMPORTANT]
====
The values in the secret are base64-encoded. You must decode them before using.
====

Retrieve tokens::

You can retrieve a user's API token from the Kubernetes secret, as shown in the following example:
+
[source,terminal]
----
$ oc get secret api-user-local-user -n argocd -o jsonpath='{.data.apiToken}' | base64 -d
----

Use tokens::

You can use the retrieved token with the Argo CD CLI to list applications, as shown in the following example. The token can also be used with other Argo CD CLI commands in a similar way.
+
[source,terminal]
----
$ argocd --server <argocd-server> --auth-token <token> app list
----