// Module included in the following assemblies:
//
// * configuring/cluster-logging-collector.adoc

:_newdoc-version: 2.18.4
:_template-generated: 2025-10-13
:_mod-docs-content-type: PROCEDURE

[id="configuring-network-policy-rule-set-for-a-collector_{context}"]
= Configuring network policy rule set for a collector

[role="_abstract"]
Define a network policy rule set so that {clo} creates a `NetworkPolicy` resource for the collector pods when the `ClusterLogForwarder` resource is deployed.
The `NetworkPolicy` resource overrides network restrictions to ensure that the permitted ingress and egress traffic for the collector pods is allowed to flow.

.Prerequisites
* You have administrator permissions.
* You have installed the {oc-first}.
* You have installed the {clo}.
* You have created a `ClusterLogForwarder` custom resource (CR).

.Procedure
. Update the `ClusterLogForwarder` CR:
+
[source,yaml]
----
apiVersion: observability.openshift.io/v1
kind: ClusterLogForwarder
metadata:
  name: my-forwarder
  namespace: openshift-logging
spec:
  collector:
    networkPolicy:
      ruleSet: <RestrictIngressEgress_or_AllowAllIngressEgress>
  # ... 
----
+
Where the value for the `ruleSet` field can be either `RestrictIngressEgress` or `AllowAllIngressEgress`.

. Apply the configuration by running the following command:
+
[source,terminal]
----
$ oc apply -f <filename>.yaml
----
