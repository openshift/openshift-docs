// Module included in the following assemblies:
//
// * microshift-install-rpm.adoc

:_content-type: PROCEDURE
[id="creating-microshift-development-environment"]
= Creating the MicroShift development environment
:context: creating-microshift-development-environment

Use the following procedure to set up your MicroShift development environment. 

.Procedure 

. Download {op-system-first} 8.7 from the link:https://developers.redhat.com/products/rhel/download[Download Red Hat Enterprise Linux] page. 
+
[NOTE]
====
{op-system} 9.0 is currently unsupported for MicroShift deployments.
====

. Create a {op-system} 8 virtual machine with the following settings: 
.. 2 cores
.. 4096 MB of RAM
.. 50 GB of storage 

. Move the ISO image to the `/var/lib/libvirt/images` directory. 

. Enter the following command to create the virtual machine: 
+
[source,terminal]
----
$ sudo dnf install -y libvirt virt-manager virt-viewer libvirt-client qemu-kvm qemu-img

VMNAME="microshift-dev"
sudo -b bash -c " \
cd /var/lib/libvirt/images/ && \
virt-install \
    --name ${VMNAME} \
    --vcpus 2 \
    --memory 4096 \
    --disk path=./${VMNAME}.qcow2,size=50 \
    --network network=default,model=virtio \
    --os-type generic \
    --events on_reboot=restart \
    --cdrom ./rhel-8.6-$(uname -i)-boot.iso \
"
----

. When prompted by the OS installation wizard, configure a MicroShift administrator user and root password. 

. Select *Installation Destination*. 

.. Under the *Storage Configuration* subsection, select *Custom*. 
.. Select *Done* to open the window for configuring partitions. 
.. Under *New Red Hat Enterprise Linux 8.x Installation*, click *Click here to create them automatically.* 
.. Select the root partition (`/`).
... On the navigation pane, set *Desired Capacity* to 40 GiB, then click *Update Settings*. 
+
[NOTE]
====
Updating the settings will preserve the rest of the allocatable storage for dynamically provisioned logical volumes. The MicroShift default CSI provisioner requires at least 1 GB of unallocated storage in the volume group. You can adjust the capacity as desired.
====

.. Click *Done*. 

.. On the *Summary of Changes* page, click *Accept Changes*. 

. Connect to a network card and set the hostname of your deployment, for example, `microshift-dev.localdomain`. 

. Toggle off Red Hat Insights and register the system using your Red Hat credentials. 

. In *Software Selection*, select *Minimal install base environment* and toggle on *Headless Management* to enable cockpit. 

. Click *Begin Installation* and wait until the OS installation is completed. 
