// Module included in the following assemblies:
//
// * operating/manage_security_policies/use-admission-controller-enforcement.adoc
:_mod-docs-content-type: PROCEDURE
[id="enable-admission-controller-enforcement_{context}"]
= Enabling admission controller enforcement

[role="_abstract"]
You can enable admission controller enforcement from the *Clusters* view when you install Sensor or edit an existing cluster configuration.

//Add something here about how enforcement can be enabled in individual policies

//Also add something about how it needs to be configured when installing the Operator, if you have chosen an Operator install method

//This section will be heavily changed for 4.9 in a separate PR

.Procedure
. In the {product-title-short} portal, go to *Platform Configuration* -> *Clusters*.
. Select an existing cluster from the list or secure a new cluster by selecting *Secure a cluster* -> *Legacy installation method*.
. If you are securing a new cluster, in the *Static Configuration* section of the cluster configuration panel, enter the details for your cluster.
. Red{nbsp}Hat recommends that you only turn on the *Configure Admission Controller Webhook to listen on Object Creates* toggle if you are planning to use the admission controller to enforce on object create events.
. Red{nbsp}Hat recommends that you only turn on the *Configure Admission Controller Webhook to listen on Object Updates* toggle if you are planning to use the admission controller to enforce on update events.
. Red{nbsp}Hat recommends that you only turn on the *Enable Admission Controller Webhook to listen on exec and port-forward events* toggle if you are planning to use the admission controller to enforce on pod execution and pod port forwards events.
. Configure the following options in the *Dynamic Configuration* section:
** *Enforce on Object Creates*: This toggle controls the behavior of the admission control service.
You must have the *Configure Admission Controller Webhook to listen on Object Creates* toggle turned on for this to work.
** *Enforce on Object Updates*: This toggle controls the behavior of the admission control service.
You must have the *Configure Admission Controller Webhook to listen on Object Updates* toggle turned on for this to work.
. Select *Next*.
. In the *Download files* section, select *Download YAML files and keys*.
+
[NOTE]
====
When enabling admission controller for an existing cluster, follow this guidance:

* If you make any changes in the *Static Configuration* section, you must download the YAML files and redeploy the Sensor.
* If you make any changes in the *Dynamic Configuration* section, you can skip downloading the files and deployment, as {product-title-short} automatically synchronizes the Sensor and applies the changes.
====
. Select *Finish*.

.Verification
* After you provision a new cluster with the generated YAML, run the following command to verify if admission controller enforcement is configured correctly:
+
[source,terminal]
----
$ oc get ValidatingWebhookConfiguration <1>
----
<1> If you use Kubernetes, enter `kubectl` instead of `oc`.
+
.Example output
[source,terminal]
----
NAME       CREATED AT
stackrox   2019-09-24T06:07:34Z
----
