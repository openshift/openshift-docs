// Module included in the following assemblies:
//
// * observability/otel/otel-configuration-of-otel-intro.adoc

:_mod-docs-content-type: REFERENCE
[id="otel-collector-profile-signal_{context}"]
= Profile signal

[role="_abstract"]
The Profile signal is an emerging telemetry data format for observing code execution and resource consumption.

:FeatureName: The Profile signal
include::snippets/technology-preview.adoc[leveloffset=+1]

The Profile signal allows you to pinpoint inefficient code down to specific functions. Such profiling allows you to precisely identify performance bottlenecks and resource inefficiencies down to the specific line of code. By correlating such high-fidelity profile data with traces, metrics, and logs, it enables comprehensive performance analysis and targeted code optimization in production environments.

Profiling can target an application or operating system:

* Using profiling to observe an application can help developers validate code performance, prevent regressions, and monitor resource consumption such as memory and CPU usage, and thus identify and improve inefficient code.

* Using profiling to observe operating systems can provide insights into the infrastructure, system calls, kernel operations, and I/O wait times, and thus help in optimizing infrastructure for efficiency and cost savings.

.OpenTelemetry Collector custom resource with the enabled Profile signal
[source,yaml]
----
apiVersion: opentelemetry.io/v1beta1
kind: OpenTelemetryCollector
metadata:   
name: otel-profiles-collector
  namespace: otel-profile
spec:  
 args: 
   feature-gates: service.profilesSupport # <1>
  config:     
    receivers:       
      otlp: # <2>
        protocols:           
          grpc: 
           endpoint: '0.0.0.0:4317'
          http: 
           endpoint: '0.0.0.0:4318'
    exporters: 
       otlp/pyroscope: 
           endpoint: "pyroscope.pyroscope-monitoring.svc.cluster.local:4317" # <3>
    service:       
      pipelines: # <4>
         profiles:           
           receivers: [otlp]
           exporters: [otlp/pyroscope]
# ...
----
<1> Enables profiles by setting the `feature-gates` field as shown here.
<2> Configures the OTLP Receiver to set up the OpenTelemetry Collector to receive profile data via the OTLP.
<3> Configures where to export profiles to, such as a storage.
<4> Defines a profiling pipeline, including a configuration for forwarding the received profile data to an OTLP-compatible profiling back end such as Grafana Pyroscope.

[role="_additional-resources"]
.Additional resources
* link:https://opentelemetry.io/docs/specs/otel/profiles/[OpenTelemetry Profiles]
* link:https://opentelemetry.io/docs/specs/semconv/general/profiles/[Profiles attributes]
