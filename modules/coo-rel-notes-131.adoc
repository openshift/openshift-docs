//Module included in the following assemblies:
//
// * release-notes/cluster-observability-operator-release-notes.adoc

:_mod-docs-content-type: REFERENCE
[id="cluster-observability-operator-release-notes-1-3-1_{context}"]
= {coo-full} 1.3.1

The following advisory is available for {coo-full} 1.3.1:

* link:https://access.redhat.com/errata/RHBA-2025:23418[RHBA-2025:23418 {coo-full} 1.3.1]

[id="cluster-observability-operator-1-3-1-bug-fixes_{context}"]
== Bug fixes

Troubleshooting panel accesses custom alerts from user workload monitoring::
Before this update, the Korrel8r troubleshooting panel configuration only included access to the platform monitoring stack in the `openshift-monitoring` namespace. The Korrel8r config map did not include endpoints for the user workload monitoring stack. As a consequence, you could not correlate custom alerts from your applications with related resources through the troubleshooting panel, and queries for custom alerts returned empty results.
+
With this update, the Korrel8r configuration includes access to both platform monitoring and user workload monitoring stacks. As a result, the troubleshooting panel successfully correlates custom alerts from your applications with related resources, providing comprehensive troubleshooting capabilities for both platform and user workload alerts.
+
link:https://issues.redhat.com/browse/COO-1250[COO-1250]

Logging UI plugin container filter displays matching results::
Before this update, the filter by container dropdown in the Logging UI plugin displayed containers that did not match the search string. As a consequence, you could not effectively filter logs by container name, and the search functionality returned incorrect results that excluded the relevant containers.
+
With this update, the container filter correctly displays only containers that match the search string. As a result, you can accurately filter logs by container name to find relevant log entries.
+
link:https://issues.redhat.com/browse/COO-1334[COO-1334]

Logging UI plugin preserves JSON format in aggregated logs view::
Before this update, when viewing aggregated logs for a pod in JSON format through the Logging UI plugin, the log format reverted to raw unformatted output after refreshing the view or changing the time interval. As a consequence, you had to manually reapply the JSON format each time you refreshed the view or adjusted the time interval to maintain readable log output.
+
With this update, the Logging UI plugin correctly preserves the JSON format setting in the aggregated logs view, across page refreshes and time interval changes. As a result, you can maintain consistent JSON-formatted log output without needing to reapply the format setting.
+
link:https://issues.redhat.com/browse/COO-1390[COO-1390]

Alertmanager replication factor can be configured::
Before this update, you could configure the replication factor for Prometheus but not for Alertmanager in the monitoring stack configuration. As a consequence, you could not control Alertmanager high availability settings to match your cluster requirements and had to use the default replication configuration.
+
With this update, you can configure the replication factor for both Prometheus and Alertmanager. As a result, you have consistent control over high availability settings for both components of the monitoring stack.
+
link:https://issues.redhat.com/browse/COO-15[COO-15]

OpenTelemetry schema option documented in logging schema field::
Before this update, the API documentation for the `UIPlugin` logging schema field did not list the OpenTelemetry (otel) schema as a supported option when querying with `oc explain uiplugin.spec.logging.schema`. Only the `viaq` and `select` options were documented. As a consequence, you could not discover the OpenTelemetry schema option through the API documentation, even though the schema was supported.
+
With this update, the API documentation correctly lists all supported schema options, including OpenTelemetry (otel). As a result, you can discover all available logging schema options through the standard API documentation commands.
+
link:https://issues.redhat.com/browse/COO-1325[COO-1325]

Prometheus Operator processes PodMonitors with label replacements correctly::
Before this update, the Prometheus Operator incorrectly rejected `PodMonitor` resources that used label replacement configurations with `labelmap` actions. The Operator treated valid replacement patterns as invalid configuration and logged errors stating that the replacement format was invalid for `labelmap` actions. As a consequence, you could not use `PodMonitor` resources with certain label replacement configurations, and affected pod monitors failed to collect metrics.
+
With this update, the Prometheus Operator correctly processes `PodMonitor` resources with label replacement configurations. As a result, you can use label replacements with labelmap actions in your pod monitoring configurations without validation errors.
+
link:https://issues.redhat.com/browse/COO-1327[COO-1327]

Perses resources are removed during Operator uninstallation::
Before this update, when uninstalling the {coo-full}, Perses-related resources such as pods, services, and stateful sets remained in the Operator namespace after deleting UI plugins and the Operator components. As a consequence, you had to manually remove Perses resources after uninstalling the Operator, and residual resources consumed cluster resources unnecessarily.
+
With this update, the Operator correctly removes all Perses-related resources during uninstallation. As a result, you can cleanly uninstall the Operator without leaving residual resources in the cluster.
+
link:https://issues.redhat.com/browse/COO-1331[COO-1331]

Logging UI plugin filters namespaces based on selected tenant::
Before this update, the Logging UI plugin displayed all namespaces in the namespace filter dropdown regardless of the selected log tenant type. The plugin did not filter namespaces to show only those relevant to the selected tenant. As a consequence, you saw infrastructure namespaces when viewing application logs and application namespaces when viewing infrastructure logs, making it difficult to find the appropriate namespace for the selected tenant type.
+
With this update, the Logging UI plugin correctly filters namespaces based on the selected tenant. When you select the application tenant, only non-infrastructure namespaces are displayed. When you select the infrastructure tenant, only infrastructure namespaces such as `default`, `openshift`, `openshift-\*`, and `kube-*` are displayed. As a result, you can more easily locate and select the appropriate namespace for your log queries based on the tenant type.
+
link:https://issues.redhat.com/browse/COO-1367[COO-1367]

OTLP receiver endpoint is enabled in Prometheus when configured::
Before this update, when you enabled the OpenTelemetry Protocol (OTLP) receiver in the `MonitoringStack` resource, the OTLP endpoint was not available in Prometheus. The configuration was not properly applied to the `Prometheus` custom resource even though the field is natively supported. As a consequence, you could not ingest OpenTelemetry metrics into Prometheus through the OTLP endpoint despite enabling the receiver in the monitoring stack configuration.
+
With this update, the OTLP receiver configuration from the `MonitoringStack` resource is correctly applied to Prometheus. As a result, you can successfully ingest OpenTelemetry metrics through the OTLP endpoint when the receiver is enabled in your monitoring stack.
+
link:https://issues.redhat.com/browse/COO-1384[COO-1384]

