// Module included in the following assemblies:
//
// * upgrade/upgrade-roxctl.adoc

:_mod-docs-content-type: PROCEDURE
[id="upgrade-central-cluster-scanner_{context}"]
= Upgrading Scanner

[role="_abstract"]
You can update Scanner to the latest version by downloading and deploying the updated images.

[IMPORTANT]
====
If you are using Kubernetes, enter the `kubectl` command instead of the `oc` command.
====

.Procedure

. If you have created custom Scanner configurations, you must apply these changes before updating the Scanner configuration file:

.. To generate Scanner, run the following command:
+
[source,terminal]
----
$ roxctl -e "$ROX_CENTRAL_ADDRESS" scanner generate
----

.. To apply the TLS secrets YAML file, run the following command:
+
[source,terminal]
----
$ oc apply -f scanner-bundle/scanner/02-scanner-03-tls-secret.yaml
----

.. To apply the Scanner configuration YAML file, run the following command:
+
[source,terminal]
----
$ oc apply -f scanner-bundle/scanner/02-scanner-04-scanner-config.yaml
----

. To update the Scanner image, run the following command:
+
[source,terminal,subs=attributes+]
----
$ oc -n stackrox set image deploy/scanner \
scanner=registry.redhat.io/advanced-cluster-security/rhacs-scanner-rhel8:{rhacs-version}
----

. To update the Scanner database image, run the following command:
+
[source,terminal,subs=attributes+]
----
$ oc -n stackrox set image deploy/scanner-db \
db=registry.redhat.io/advanced-cluster-security/rhacs-scanner-db-rhel8:{rhacs-version} \
init-db=registry.redhat.io/advanced-cluster-security/rhacs-scanner-db-rhel8:{rhacs-version}
----

.Verification

* To verify that the new pods have been deployed, run the following commands:
+
[source,terminal]
----
$ oc get deploy -n stackrox -o wide
----
+
[source,terminal]
----
$ oc get pod -n stackrox --watch
----