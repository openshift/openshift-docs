// This module is used in the following assemblies:

// * configure/ols-configuring-openshift-lightspeed.adoc

:_mod-docs-content-type: PROCEDURE
<<<<<<< HEAD
[id="ols-configuring-lightspeed-with-a-trust-provider-certificate-for-the-llm_{context}"]
=======
[id="ols-configuring-openshift-lightspeed-with-a-trust-certificate-required-by-llm-provider_{context}"]
>>>>>>> 4a51f6bc64 (OLS-1346: changed filename)
= Configuring {ols-long} with a trust provider certificate for the LLM 

This procedure explains how to configure {ols-long} with a trust provider certificate for the Large Language Model (LLM) provider.

[NOTE]
====
<<<<<<< HEAD
If the LLM provider you are using requires a trust certificate to authenticate the {ols-long} service you must perform this procedure. If the LLM provider does not require a trust certificate to authenticate the service, you should skip this procedure.
=======
If the LLM provider you are using requires a trust certificate to authenticate the {ols-long} service you must perform this procedure. If the LLM provider does not require a trust certificate to authenticate the service then you should skip this procedure.
>>>>>>> 4a51f6bc64 (OLS-1346: changed filename)
====

.Procedure

. Copy the contents of the certificate file and paste it into a file called `caCertFileName`.

. Create a `ConfigMap` object called `trusted-certs` by running the following command:
+
[source,terminal]
----
$ oc create configmap trusted-certs --from-file=caCertFileName
----
+
.Example output
[source,terminal]
----
kind: ConfigMap
apiVersion: v1
metadata:
  name: trusted-certs
  namespace: openshift-lightspeed
data:
<<<<<<< HEAD
  caCertFileName: | <1>
=======
  caCertFileName: |
>>>>>>> 4a51f6bc64 (OLS-1346: changed filename)
    -----BEGIN CERTIFICATE-----
    .
    .
    .
    -----END CERTIFICATE-----  
----
<<<<<<< HEAD
<1> Specify the CA certificates required to connect to your LLM provider. You can include one or more certificates.

. Update the `OLSConfig` custom resource file to include the name of the `ConfigMap` object you just created.
=======

. Update the `OLSConfig` custom resource file to include the name of the `ConfigMap` object that contains one or more CA certificates required to connect to your LLM provider.
>>>>>>> 4a51f6bc64 (OLS-1346: changed filename)
+
.Example {rhelai} CR file
[source,yaml,subs="attributes,verbatim"]
----
apiVersion: ols.openshift.io/v1alpha1
kind: OLSConfig
metadata:
  name: cluster
spec:
  ols:
    defaultProvider: rhelai
    defaultModel: models/granite-7b-redhat-lab
    additionalCAConfigMapRef:
<<<<<<< HEAD
      name: trusted-certs <1>
----
<1> Specifies the name of `ConfigMap` object.  

=======
      name: trusted-certs
----
 
>>>>>>> 4a51f6bc64 (OLS-1346: changed filename)
 . Create the custom CR.
+
[source,terminal]
----
$ oc apply -f <olfconfig_cr_filename> 
----
