:_mod-docs-content-type: ASSEMBLY
include::_attributes/common-attributes.adoc[]
[id="using-manual-approval"]
= Using manual approval in {pipelines-shortname}
:context: using-manual-approval

toc::[]

You can specify a manual approval task in a pipeline. When the pipeline reaches this task, it pauses and awaits approval from one or several {OCP} users. If any of the users chooses to rejects the task instead of approving it, the pipeline fails. The manual approval gate controller provides this functionality.

:FeatureName: The manual approval gate
include::snippets/technology-preview.adoc[]

include::modules/op-enabling-manual-approval-gate.adoc[leveloffset=+1]
include::modules/op-specifying-manual-approval-task.adoc[leveloffset=+1]

[id="approving-a-manual-approval-task_{context}"]
== Approving a manual approval task

When you run a pipeline that includes an approval task and the execution reaches the approval task, the pipeline run pauses and waits for user approval or rejection.

Users can approve or reject the task by using either the web console or the `opc` command line utility.

If any one of the approvers configured in the task rejects the task, the pipeline run fails.

If one user approves the task but the configured number of approvals is still not reached, the same user can change to rejecting the task and the pipeline run fails

include::modules/op-approving-task-web-console.adoc[leveloffset=+2]

[role="_additional-resources"]
[id="additional-resources-web-console_{context}"]
.Additional resources

* xref:../create/working-with-pipelines-web-console.adoc#op-enabling-plugin_working-with-pipelines-web-console[Enabling the {pipelines-shortname} console plugin]

include::modules/op-approving-task-command-line.adoc[leveloffset=+2]

[role="_additional-resources"]
[id="additional-resources-command-line_{context}"]
.Additional resources

* xref:../tkn_cli/installing-tkn.adoc#installing-tkn[Installing tkn]
