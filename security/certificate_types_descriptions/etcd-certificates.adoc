:_mod-docs-content-type: ASSEMBLY
[id="cert-types-etcd-certificates"]
= etcd certificates
include::_attributes/common-attributes.adoc[]
:context: cert-types-etcd-certificates

toc::[]

== Purpose

etcd certificates are signed by the etcd-signer; they come from a certificate authority (CA) that is generated by the bootstrap process.

== Expiration

The CA certificates are valid for 10 years. The peer, client, and server certificates are valid for three years.

include::modules/rotating-certificate-authority.adoc[leveloffset=+1]
include::modules/removing-unused-ca-bundle.adoc[leveloffset=+1]
include::modules/etcd-cert-alerts-metrics-signer.adoc[leveloffset=+1]

== Management

These certificates are only managed by the system and are automatically rotated.

== Services

etcd certificates are used for encrypted communication between etcd member peers and encrypted client traffic. The following certificates are generated and used by etcd and other processes that communicate with etcd:

* Peer certificates: Used for communication between etcd members.
* Client certificates: Used for encrypted server-client communication. Client certificates are currently used by the API server only, and no other service should connect to etcd directly except for the proxy. Client secrets (`etcd-client`, `etcd-metric-client`, `etcd-metric-signer`, and `etcd-signer`) are added to the `openshift-config`, `openshift-monitoring`, and `openshift-kube-apiserver` namespaces.
* Server certificates: Used by the etcd server for authenticating client requests.
* Metric certificates: All metric consumers connect to proxy with metric-client certificates.

[discrete]
[role="_additional-resources"]
== Additional resources

* xref:../../backup_and_restore/control_plane_backup_and_restore/disaster_recovery/scenario-2-restoring-cluster-state.adoc#dr-restoring-cluster-state[Restoring to a previous cluster state]
